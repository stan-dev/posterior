[{"path":"https://mc-stan.org/posterior/dev/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to posterior","title":"Contributing to posterior","text":"outlines propose change posterior based similar instructions tidyverse packages, including contributing guidelines generated usethis::use_tidy_contributing().","code":""},{"path":"https://mc-stan.org/posterior/dev/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to posterior","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://mc-stan.org/posterior/dev/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to posterior","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reproducible example (see e.g. tidyverse reprex instructions). tidyverse guide create great issue advice.","code":""},{"path":"https://mc-stan.org/posterior/dev/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to posterior","text":"new creating pull requests tips. Using functions usethis package required can helpful process new . Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"stan-dev/posterior\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style already used NEWS.md.","code":""},{"path":"https://mc-stan.org/posterior/dev/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to posterior","text":"New code attempt follow style used package. doubt follow tidyverse style guide. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://mc-stan.org/posterior/dev/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to posterior","text":"Please note posterior project follows Stan project’s Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Pareto-khat diagnostics","text":"paper Aki Vehtari, Daniel Simpson, Andrew Gelman, Yuling Yao, Jonah Gabry (2024). Pareto smoothed importance sampling. Journal Machine Learning Research, 25(72):1-58. presents Pareto smoothed importance sampling, also Pareto-\\(\\hat{k}\\) diagnostic can used estimating expectation based finite sample. vignette illustrates use diagnostics. individual diagnostic functions pareto_khat(), pareto_min_ss(), pareto_convergence_rate() pareto_khat_threshold(). function pareto_diags() return . Additionally, pareto_smooth() function can used transform draws smoothing tail(s). ## Example","code":"library(posterior) ## This is posterior version 1.6.1.9000 ##  ## Attaching package: 'posterior' ## The following objects are masked from 'package:stats': ##  ##     mad, sd, var ## The following objects are masked from 'package:base': ##  ##     %in%, match library(dplyr) ##  ## Attaching package: 'dplyr' ## The following objects are masked from 'package:stats': ##  ##     filter, lag ## The following objects are masked from 'package:base': ##  ##     intersect, setdiff, setequal, union options(pillar.neg = FALSE, pillar.subtle=FALSE, pillar.sigfig=2)"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"simulated-data","dir":"Articles","previous_headings":"Introduction","what":"Simulated data","title":"Pareto-khat diagnostics","text":"Generate xn simulated MCMC sample 4 chains 1000 iterations using AR process marginal normal(0,1) Transform xn via cdf-inverse-cdf variables marginally distributions \\(t_3\\), \\(t_{2.5}\\), \\(t_2\\), \\(t_{1.5}\\), \\(t_1\\). thick tails. addition \\(t_2\\), \\(t_{1.5}\\), \\(t_1\\) infinite variance, \\(t_1\\) (aka Cauchy) infinite mean.","code":"N <- 1000 phi <- 0.3 set.seed(6534) dr <- array(data=replicate(4,as.numeric(arima.sim(n = N,                                                 list(ar = c(phi)),                                                 sd = sqrt((1-phi^2))))),          dim=c(N,4,1)) %>%   as_draws_df() %>%   set_variables('xn') drt <- dr %>%   mutate_variables(xt3=qt(pnorm(xn), df=3),                    xt2_5=qt(pnorm(xn), df=2.5),                    xt2=qt(pnorm(xn), df=2),                    xt1_5=qt(pnorm(xn), df=1.5),                    xt1=qt(pnorm(xn), df=1))"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"mcmc-convergence-diagnostics","dir":"Articles","previous_headings":"Introduction","what":"MCMC convergence diagnostics","title":"Pareto-khat diagnostics","text":"examine draws default summarise_draws(). usual convergence diagnostics \\(\\widehat{R}\\), Bulk-ESS, Tail-ESS look good, fine designed work also infinite variance (Vehtari et al., 2020). variables present variables interest like estimate means, also interested Monte Carlo standard error (MCSE, see case study many iterations run many digits report). MCSE mean based standard deviation Basic-ESS, assume finite variance. sample also distributions infinite variance, given finite sample size, empirical variance estimates always finite, thus get overoptimistic MCSE.","code":"drt %>%   summarise_draws() ## # A tibble: 6 × 10 ##   variable  mean  median    sd   mad    q5   q95  rhat ess_bulk ess_tail ##   <chr>    <dbl>   <dbl> <dbl> <dbl> <dbl> <dbl> <dbl>    <dbl>    <dbl> ## 1 xn       0.010 0.00094  0.99  0.99  -1.6   1.6   1.0    2284.    3189. ## 2 xt3      0.025 0.0010   1.6   1.1   -2.3   2.3   1.0    2284.    3189. ## 3 xt2_5    0.031 0.0010   2.0   1.1   -2.5   2.5   1.0    2284.    3189. ## 4 xt2      0.046 0.0011   2.9   1.2   -2.8   2.9   1.0    2284.    3189. ## 5 xt1_5    0.092 0.0011   7.6   1.3   -3.5   3.6   1.0    2284.    3189. ## 6 xt1      0.33  0.0012  93.    1.5   -5.8   6.1   1.0    2284.    3189. drt %>%   summarise_draws(mean, sd, mcse_mean, ess_bulk, ess_basic) ## # A tibble: 6 × 6 ##   variable  mean    sd mcse_mean ess_bulk ess_basic ##   <chr>    <dbl> <dbl>     <dbl>    <dbl>     <dbl> ## 1 xn       0.010  0.99     0.021    2284.     2280. ## 2 xt3      0.025  1.6      0.033    2284.     2452. ## 3 xt2_5    0.031  2.0      0.039    2284.     2584. ## 4 xt2      0.046  2.9      0.054    2284.     2903. ## 5 xt1_5    0.092  7.6      0.13     2284.     3553. ## 6 xt1      0.33  93.       1.5      2284.     3976."},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"pareto-hatk","dir":"Articles","previous_headings":"","what":"Pareto-\\(\\hat{k}\\)","title":"Pareto-khat diagnostics","text":"diagnose whether variables interest may infinite variance even infinite mean, can use Pareto-\\(\\hat{k}\\) diagnostic. \\(\\hat{k} \\leq 0\\) indicates moments exist, inverse positive \\(\\hat{k}\\) tells estimate number finite (fractional) moments. Thus, \\(\\hat{k}\\geq 1/2\\) indicates infinite variance, \\(\\hat{k}\\geq 1\\) indicates infinite mean. Sometimes thick distribution tails may affect also sampling, assuming sampling go well, interested quantiles, infinite variance mean problem. interested mean, need care number (fractional) moments. see \\(\\hat{k} \\geq 1/2\\) \\(t_2\\), \\(t_{1.5}\\), \\(t_{1}\\), trust mcse_mean values. Without trustworthy MCSE estimate don’t good estimate accurate mean estimate . Furthermore, \\(\\hat{k} \\geq 1\\) \\(t_{1}\\), mean finite mean estimate valid.","code":"drt %>%   summarise_draws(mean, sd, mcse_mean, ess_basic, pareto_khat) ## # A tibble: 6 × 6 ##   variable  mean    sd mcse_mean ess_basic pareto_khat ##   <chr>    <dbl> <dbl>     <dbl>     <dbl>       <dbl> ## 1 xn       0.010  0.99     0.021     2280.      -0.072 ## 2 xt3      0.025  1.6      0.033     2452.       0.33  ## 3 xt2_5    0.031  2.0      0.039     2584.       0.41  ## 4 xt2      0.046  2.9      0.054     2903.       0.52  ## 5 xt1_5    0.092  7.6      0.13      3553.       0.69  ## 6 xt1      0.33  93.       1.5       3976.       1.0"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"pareto-smoothing","dir":"Articles","previous_headings":"","what":"Pareto smoothing","title":"Pareto-khat diagnostics","text":"really need mean estimates, can improve trustworthiness Pareto smoothing, replaces extreme tail draws expected ordered statistics Pareto distribution fitted tails distribution. Pareto smoothed mean estimate (computed using Pareto smoothed draws) finite variance cost bias know negligible. thumb rule \\(\\hat{k}<0.7\\), bias negligible. Pareto smoothing variables. Now mcse_mean values trustworthy \\(\\hat{k} < 0.7\\). \\(\\hat{k}>0.7\\) bias variance grow fast Pareto smoothing rarely helps (see details paper).","code":"drts <- drt %>%    mutate_variables(xt3_s=pareto_smooth(xt3),                    xt2_5_s=pareto_smooth(xt2_5),                    xt2_s=pareto_smooth(xt2),                    xt1_5_s=pareto_smooth(xt1_5),                    xt1_s=pareto_smooth(xt1)) %>%   subset_draws(variable=\"_s\", regex=TRUE) ## Pareto k-hat = 0.33. ## Pareto k-hat = 0.41. ## Pareto k-hat = 0.52. ## Pareto k-hat = 0.69. ## Pareto k-hat = 1.03. Mean does not exist, making empirical mean estimate of the draws not applicable. drts %>%   summarise_draws(mean, mcse_mean, ess_basic, pareto_khat) ## # A tibble: 5 × 5 ##   variable  mean mcse_mean ess_basic pareto_khat ##   <chr>    <dbl>     <dbl>     <dbl>       <dbl> ## 1 xt3_s    0.026     0.033     2439.        0.34 ## 2 xt2_5_s  0.034     0.038     2538.        0.41 ## 3 xt2_s    0.053     0.051     2768.        0.51 ## 4 xt1_5_s  0.13      0.10      3305.        0.68 ## 5 xt1_s    1.0       0.83      3908.        1.00"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"minimum-sample-size-required","dir":"Articles","previous_headings":"","what":"Minimum sample size required","title":"Pareto-khat diagnostics","text":"bias variance depend sample size, can use additional diagnostic min_ss tells minimum sample size needed mcse_mean can trusted. required min_ss smaller ess_basic except \\(t_1\\), hope.","code":"drt %>%   summarise_draws(mean, mcse_mean, ess_basic,                   pareto_khat, min_ss=pareto_min_ss) ## # A tibble: 6 × 6 ##   variable  mean mcse_mean ess_basic pareto_khat min_ss ##   <chr>    <dbl>     <dbl>     <dbl>       <dbl>  <dbl> ## 1 xn       0.010     0.021     2280.      -0.072    10  ## 2 xt3      0.025     0.033     2452.       0.33     31. ## 3 xt2_5    0.031     0.039     2584.       0.41     48. ## 4 xt2      0.046     0.054     2903.       0.52    116. ## 5 xt1_5    0.092     0.13      3553.       0.69   1746. ## 6 xt1      0.33      1.5       3976.       1.0     Inf"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"convergence-rate","dir":"Articles","previous_headings":"","what":"Convergence rate","title":"Pareto-khat diagnostics","text":"Given finite variance, central limit theorem states halve MCSE need four times bigger sample size. Pareto smoothing, can go , convergence rate decreases \\(\\hat{k}\\) increases. see \\(t_2\\), \\(t_{1.5}\\), \\(t_1\\) need \\(4^{1/0.86}\\approx 5\\), \\(4^{1/0.60}\\approx 10\\), \\(4^{1/0}\\approx \\infty\\) times bigger sample sizes halve MCSE mean.","code":"drt %>%   summarise_draws(mean, mcse_mean, ess_basic,                   pareto_khat, min_ss=pareto_min_ss,                   conv_rate=pareto_convergence_rate) ## # A tibble: 6 × 7 ##   variable  mean mcse_mean ess_basic pareto_khat min_ss conv_rate ##   <chr>    <dbl>     <dbl>     <dbl>       <dbl>  <dbl>     <dbl> ## 1 xn       0.010     0.021     2280.      -0.072    10       1    ## 2 xt3      0.025     0.033     2452.       0.33     31.      0.98 ## 3 xt2_5    0.031     0.039     2584.       0.41     48.      0.95 ## 4 xt2      0.046     0.054     2903.       0.52    116.      0.86 ## 5 xt1_5    0.092     0.13      3553.       0.69   1746.      0.60 ## 6 xt1      0.33      1.5       3976.       1.0     Inf       0"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"pareto-hatk-threshold","dir":"Articles","previous_headings":"","what":"Pareto-\\(\\hat{k}\\)-threshold","title":"Pareto-khat diagnostics","text":"final Pareto diagnostic, \\(\\hat{k}\\)-threshold, useful smaller sample sizes. select 100 iterations per chain get total 400 draws. 400 draws, can trust Pareto smoothed result \\(\\hat{k}<0.62\\). \\(t_{1.5}\\) \\(\\hat{k}\\approx 0.64\\), min_ss reveals probably need 560 draws safe side.","code":"drt %>%   subset_draws(iteration=1:100) %>%   summarise_draws(mean, mcse_mean, ess_basic,                   pareto_khat, min_ss=pareto_min_ss,                   khat_thres=pareto_khat_threshold,                   conv_rate=pareto_convergence_rate) ## # A tibble: 6 × 8 ##   variable   mean mcse_mean ess_basic pareto_khat min_ss khat_thres conv_rate ##   <chr>     <dbl>     <dbl>     <dbl>       <dbl>  <dbl>      <dbl>     <dbl> ## 1 xn        0.038     0.066      244.      -0.015 1  e 1       0.62      1    ## 2 xt3       0.054     0.11       237.       0.32  2.9e 1       0.62      0.96 ## 3 xt2_5     0.057     0.13       237.       0.38  4.1e 1       0.62      0.93 ## 4 xt2       0.063     0.17       243.       0.47  7.9e 1       0.62      0.86 ## 5 xt1_5     0.061     0.31       271.       0.63  4.9e 2       0.62      0.68 ## 6 xt1      -0.26      1.6        344.       0.93  2.0e15       0.62      0.13"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"pareto-diagnostics","dir":"Articles","previous_headings":"","what":"Pareto diagnostics","title":"Pareto-khat diagnostics","text":"can get diagnostics pareto_diags(), ’s easy use also derived quantities.","code":"drt %>%   mutate_variables(xt2_5_sq=xt2_5^2) %>%   subset_draws(variable=\"xt2_5_sq\") %>%   summarise_draws(mean, mcse_mean,                   pareto_diags) ## # A tibble: 1 × 7 ##   variable  mean mcse_mean  khat min_ss khat_threshold convergence_rate ##   <chr>    <dbl>     <dbl> <dbl>  <dbl>          <dbl>            <dbl> ## 1 xt2_5_sq   3.9      0.56  0.67  1051.           0.72             0.64"},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"discussion","dir":"Articles","previous_headings":"","what":"Discussion","title":"Pareto-khat diagnostics","text":"diagnostics presented Section 3 summarized Table 1 PSIS paper (Vehtari et al., 2024). don’t need estimate means thick tailed distributions, sampling issues due thick tails, don’t need check existence finite variance, thus need check Pareto-\\(\\hat{k}\\) parameters derived quantities. possible distribution finite variance, pre-asymptotically given finite sample size behavior can similar infinite variance. Thus diagnostic useful even cases theory guarantees finite variance.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/pareto_diagnostics.html","id":"reference","dir":"Articles","previous_headings":"","what":"Reference","title":"Pareto-khat diagnostics","text":"Vehtari, ., Simpson, D., Gelman, ., Yao, Y., & Gabry, J. (2024). Pareto smoothed importance sampling. Journal Machine Learning Research, 25(72):1-58. Vehtari ., Gelman ., Simpson D., Carpenter B., & Bürkner P. C. (2020). Rank-normalization, folding, localization: improved Rhat assessing convergence MCMC. Bayesian Analysis, 16(2):667-718.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"The posterior R package","text":"posterior R package intended provide useful tools users developers packages fitting Bayesian models working output Bayesian models. primary goals package : Efficiently convert many different useful formats draws (samples) posterior prior distributions. Provide consistent methods operations commonly performed draws, example, subsetting, binding, mutating draws. Provide various summaries draws convenient formats. Provide lightweight implementations state art posterior inference diagnostics.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"installation","dir":"Articles","previous_headings":"","what":"Installation","title":"The posterior R package","text":"can install latest official release version via latest development version GitHub via","code":"install.packages(\"posterior\") # install.packages(\"remotes\") remotes::install_github(\"stan-dev/posterior\")"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"example","dir":"Articles","previous_headings":"","what":"Example","title":"The posterior R package","text":"demonstrate work posterior package, throughout rest vignette use example posterior draws obtained eight schools hierarchical meta-analysis model described Gelman et al. (2013). variables estimate per school (theta[1] theta[8]) well overall mean (mu) standard deviation across schools (tau). structure object explained next section.","code":"library(\"posterior\") ## This is posterior version 1.6.1.9000 ##  ## Attaching package: 'posterior' ## The following objects are masked from 'package:stats': ##  ##     mad, sd, var ## The following objects are masked from 'package:base': ##  ##     %in%, match eight_schools_array <- example_draws(\"eight_schools\") print(eight_schools_array, max_variables = 3) ## # A draws_array: 100 iterations, 4 chains, and 10 variables ## , , variable = mu ##  ##          chain ## iteration   1    2     3   4 ##         1 2.0  3.0  1.79 6.5 ##         2 1.5  8.2  5.99 9.1 ##         3 5.8 -1.2  2.56 0.2 ##         4 6.8 10.9  2.79 3.7 ##         5 1.8  9.8 -0.03 5.5 ##  ## , , variable = tau ##  ##          chain ## iteration   1    2    3   4 ##         1 2.8 2.80  8.7 3.8 ##         2 7.0 2.76  2.9 6.8 ##         3 9.7 0.57  8.4 5.3 ##         4 4.8 2.45  4.4 1.6 ##         5 2.8 2.80 11.0 3.0 ##  ## , , variable = theta[1] ##  ##          chain ## iteration     1     2    3     4 ##         1  3.96  6.26 13.3  5.78 ##         2  0.12  9.32  6.3  2.09 ##         3 21.25 -0.97 10.6 15.72 ##         4 14.70 12.45  5.4  2.69 ##         5  5.96  9.75  8.2 -0.91 ##  ## # ... with 95 more iterations, and 7 more variables"},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"available-formats","dir":"Articles","previous_headings":"Draws formats","what":"Available formats","title":"The posterior R package","text":"different formats preferable different situations, posterior supports multiple formats easy conversion . currently supported formats : draws_array: iterations chains variables array. draws_matrix: draws (iterations x chains) variables array. draws_df: draws variables data frame addition meta columns .chain, .iteration, .draw. draws_list: list one sublist per chain. sublist named list one vector iterations per variable. draws_rvars: list random variable rvar objects, one per variable. See vignette(\"rvar\") introduction new data type. formats essentially base R object classes can used . example, draws_matrix object just matrix little consistency (e.g., dropping dimensions one level indexing) additional methods. exception draws_rvars format, contains rvar objects behave somewhat like arrays really unique data type. See separate vignette rvar draws_rvars data types details. draws example come draws_array object 100 iterations, 4 chains, 10 variables:","code":"str(eight_schools_array) ##  'draws_array' num [1:100, 1:4, 1:10] 2.01 1.46 5.81 6.85 1.81 ... ##  - attr(*, \"dimnames\")=List of 3 ##   ..$ iteration: chr [1:100] \"1\" \"2\" \"3\" \"4\" ... ##   ..$ chain    : chr [1:4] \"1\" \"2\" \"3\" \"4\" ##   ..$ variable : chr [1:10] \"mu\" \"tau\" \"theta[1]\" \"theta[2]\" ..."},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"converting-between-formats","dir":"Articles","previous_headings":"Draws formats","what":"Converting between formats","title":"The posterior R package","text":"formats method as_draws_<format> (e.g., as_draws_list()) creating object class formats. demonstration can convert example draws_array draws_df, data frame additional meta information. convert draws_df use as_draws_df().","code":"eight_schools_df <- as_draws_df(eight_schools_array) str(eight_schools_df) ## draws_df [400 × 13] (S3: draws_df/draws/tbl_df/tbl/data.frame) ##  $ mu        : num [1:400] 2.01 1.46 5.81 6.85 1.81 ... ##  $ tau       : num [1:400] 2.77 6.98 9.68 4.79 2.85 ... ##  $ theta[1]  : num [1:400] 3.962 0.124 21.251 14.7 5.96 ... ##  $ theta[2]  : num [1:400] 0.271 -0.069 14.931 8.586 1.156 ... ##  $ theta[3]  : num [1:400] -0.743 0.952 1.829 2.675 3.109 ... ##  $ theta[4]  : num [1:400] 2.1 7.28 1.38 4.39 1.99 ... ##  $ theta[5]  : num [1:400] 0.923 -0.062 0.531 4.758 0.769 ... ##  $ theta[6]  : num [1:400] 1.65 11.26 7.16 8.1 4.66 ... ##  $ theta[7]  : num [1:400] 3.32 9.62 14.8 9.49 1.21 ... ##  $ theta[8]  : num [1:400] 4.85 -8.64 -1.74 5.28 -4.54 ... ##  $ .chain    : int [1:400] 1 1 1 1 1 1 1 1 1 1 ... ##  $ .iteration: int [1:400] 1 2 3 4 5 6 7 8 9 10 ... ##  $ .draw     : int [1:400] 1 2 3 4 5 6 7 8 9 10 ... print(eight_schools_df) ## # A draws_df: 100 iterations, 4 chains, and 10 variables ##      mu tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6] ## 1  2.01 2.8     3.96    0.271    -0.74      2.1    0.923      1.7 ## 2  1.46 7.0     0.12   -0.069     0.95      7.3   -0.062     11.3 ## 3  5.81 9.7    21.25   14.931     1.83      1.4    0.531      7.2 ## 4  6.85 4.8    14.70    8.586     2.67      4.4    4.758      8.1 ## 5  1.81 2.8     5.96    1.156     3.11      2.0    0.769      4.7 ## 6  3.84 4.1     5.76    9.909    -1.00      5.3    5.889     -1.7 ## 7  5.47 4.0     4.03    4.151    10.15      6.6    3.741     -2.2 ## 8  1.20 1.5    -0.28    1.846     0.47      4.3    1.467      3.3 ## 9  0.15 3.9     1.81    0.661     0.86      4.5   -1.025      1.1 ## 10 7.17 1.8     6.08    8.102     7.68      5.6    7.106      8.5 ## # ... with 390 more draws, and 2 more variables ## # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"converting-regular-r-objects-to-draws-formats","dir":"Articles","previous_headings":"Draws formats","what":"Converting regular R objects to draws formats","title":"The posterior R package","text":"example draws already come format natively supported posterior, can course also import draws sources like common base R objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"example-create-draws_matrix-from-a-matrix","dir":"Articles","previous_headings":"Draws formats > Converting regular R objects to draws formats","what":"Example: create draws_matrix from a matrix","title":"The posterior R package","text":"addition converting draws objects draws_matrix format, as_draws_matrix() function convert regular matrix draws_matrix. matrix converted draws_matrix, methods working draws objects described subsequent sections vignette now available. Instead as_draws_matrix() also just used as_draws(), attempts find closest available format input object. case result draws_matrix object either way.","code":"x <- matrix(rnorm(50), nrow = 10, ncol = 5) colnames(x) <- paste0(\"V\", 1:5) x <- as_draws_matrix(x) print(x) ## # A draws_matrix: 10 iterations, 1 chains, and 5 variables ##     variable ## draw      V1     V2     V3    V4     V5 ##   1  -1.4000 -0.554  0.468  0.94  0.070 ##   2   0.2553  0.629  0.363  0.18 -0.639 ##   3  -2.4373  2.065 -1.305  0.24 -0.050 ##   4  -0.0056 -1.631  0.738  1.62 -0.251 ##   5   0.6216  0.512  1.889  0.11  0.445 ##   6   1.1484 -1.863 -0.097 -0.13  2.755 ##   7  -1.8218 -0.522 -0.936 -1.91  0.047 ##   8  -0.2473 -0.053 -0.016 -0.28  0.578 ##   9  -0.2442  0.543 -0.827 -0.31  0.118 ##   10 -0.2827 -0.914 -1.512  1.07 -1.912"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"example-create-draws_matrix-from-multiple-vectors","dir":"Articles","previous_headings":"Draws formats > Converting regular R objects to draws formats","what":"Example: create draws_matrix from multiple vectors","title":"The posterior R package","text":"addition as_draws_matrix() converter function also draws_matrix() constructor function can used create draws matrix multiple vectors. Analogous functions exist draws formats used similarly.","code":"x <- draws_matrix(alpha = rnorm(50), beta = rnorm(50)) print(x) ## # A draws_matrix: 50 iterations, 1 chains, and 2 variables ##     variable ## draw  alpha  beta ##   1   0.862 -0.39 ##   2  -0.243 -0.79 ##   3  -0.206 -1.06 ##   4   0.019 -0.80 ##   5   0.030 -1.76 ##   6   0.550 -0.69 ##   7  -2.274 -0.56 ##   8   2.683 -0.54 ##   9  -0.361  0.23 ##   10  0.213  0.98 ## # ... with 40 more draws"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"manipulating-draws-objects","dir":"Articles","previous_headings":"","what":"Manipulating draws objects","title":"The posterior R package","text":"posterior package provides many methods manipulating draws objects useful ways. section demonstrate several commonly used methods. methods, like methods posterior, available every supported draws format.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"subsetting","dir":"Articles","previous_headings":"Manipulating draws objects","what":"Subsetting","title":"The posterior R package","text":"Subsetting draws objects can done according various aspects draws (iterations, chains, variables). posterior package provides convenient interface purpose via subset_draws(). example, code extract first five iterations first two chains variable mu. call subset_draws() can used regardless draws format. example, code except replacing draws_df object draws_array object. can check two calls subset_draws() (first data frame, second array) produce result. also possible use standard R subsetting syntax draws objects. following equivalent use subset_draws() array . major difference posterior behaves indexing base R behaves posterior drop dimensions one level. , even though one variable left subsetting, result subsetting still draws_array draws_matrix.","code":"sub_df <- subset_draws(eight_schools_df, variable = \"mu\", chain = 1:2, iteration = 1:5) str(sub_df) ## draws_df [10 × 4] (S3: draws_df/draws/tbl_df/tbl/data.frame) ##  $ mu        : num [1:10] 2.01 1.46 5.81 6.85 1.81 ... ##  $ .chain    : int [1:10] 1 1 1 1 1 2 2 2 2 2 ##  $ .iteration: int [1:10] 1 2 3 4 5 1 2 3 4 5 ##  $ .draw     : int [1:10] 1 2 3 4 5 6 7 8 9 10 sub_arr <- subset_draws(eight_schools_array, variable = \"mu\", chain = 1:2, iteration = 1:5) str(sub_arr) ##  'draws_array' num [1:5, 1:2, 1] 2.01 1.46 5.81 6.85 1.81 ... ##  - attr(*, \"dimnames\")=List of 3 ##   ..$ iteration: chr [1:5] \"1\" \"2\" \"3\" \"4\" ... ##   ..$ chain    : chr [1:2] \"1\" \"2\" ##   ..$ variable : chr \"mu\" identical(sub_df, as_draws_df(sub_arr)) identical(as_draws_array(sub_df), sub_arr) ## [1] TRUE ## [1] TRUE eight_schools_array[1:5, 1:2, \"mu\"] ## # A draws_array: 5 iterations, 2 chains, and 1 variables ## , , variable = mu ##  ##          chain ## iteration   1    2 ##         1 2.0  3.0 ##         2 1.5  8.2 ##         3 5.8 -1.2 ##         4 6.8 10.9 ##         5 1.8  9.8"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"mutating-transformations-of-variables","dir":"Articles","previous_headings":"Manipulating draws objects","what":"Mutating (transformations of variables)","title":"The posterior R package","text":"magic obtained draws joint posterior (prior) distribution set variables draws can also used obtain draws variable function original variables. , interested posterior distribution , say, phi = (mu + tau)^2 perform transformation individual draws obtain draws posterior distribution transformed variable. procedure handled mutate_variables().","code":"x <- mutate_variables(eight_schools_df, phi = (mu + tau)^2) x <- subset_draws(x, c(\"mu\", \"tau\", \"phi\")) print(x) ## # A draws_df: 100 iterations, 4 chains, and 3 variables ##      mu tau   phi ## 1  2.01 2.8  22.8 ## 2  1.46 7.0  71.2 ## 3  5.81 9.7 240.0 ## 4  6.85 4.8 135.4 ## 5  1.81 2.8  21.7 ## 6  3.84 4.1  62.8 ## 7  5.47 4.0  88.8 ## 8  1.20 1.5   7.1 ## 9  0.15 3.9  16.6 ## 10 7.17 1.8  79.9 ## # ... with 390 more draws ## # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"renaming","dir":"Articles","previous_headings":"Manipulating draws objects","what":"Renaming","title":"The posterior R package","text":"rename variables use rename_variables(). rename scalar mu mean vector theta alpha. call rename_variables() , mu theta can quoted unquoted. also possible rename individual elements non-scalar parameters, example can rename just first element alpha:","code":"# mu is a scalar, theta is a vector x <- rename_variables(eight_schools_df, mean = mu, alpha = theta) variables(x) ##  [1] \"mean\"     \"tau\"      \"alpha[1]\" \"alpha[2]\" \"alpha[3]\" \"alpha[4]\" ##  [7] \"alpha[5]\" \"alpha[6]\" \"alpha[7]\" \"alpha[8]\" x <- rename_variables(x, a1 = `alpha[1]`) variables(x) ##  [1] \"mean\"     \"tau\"      \"a1\"       \"alpha[2]\" \"alpha[3]\" \"alpha[4]\" ##  [7] \"alpha[5]\" \"alpha[6]\" \"alpha[7]\" \"alpha[8]\""},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"binding","dir":"Articles","previous_headings":"Manipulating draws objects","what":"Binding","title":"The posterior R package","text":"bind_draws() method can used combine draws objects along different dimensions. example, suppose several different draws_matrix objects: can bind x1 x3 together along 'variable' dimension get single draws_matrix variables x1 x3: x1 x2 variables, can bind along 'draw' dimension create single draws_matrix draws: posterior methods, bind_draws() can used draws formats depending format different dimensions available bind . example, can bind draws_array objects together iteration, chain, variable, 2-D draws_matrix chains combined can bound draw variable.","code":"x1 <- draws_matrix(alpha = rnorm(5), beta = rnorm(5)) x2 <- draws_matrix(alpha = rnorm(5), beta = rnorm(5)) x3 <- draws_matrix(theta = rexp(5)) x4 <- bind_draws(x1, x3, along = \"variable\") print(x4) ## # A draws_matrix: 5 iterations, 1 chains, and 3 variables ##     variable ## draw alpha   beta theta ##    1  0.43  0.678  0.81 ##    2  0.12  0.038  0.13 ##    3 -1.14 -0.356  0.41 ##    4 -0.56  0.783  0.19 ##    5  1.05  0.804  0.56 x5 <- bind_draws(x1, x2, along = \"draw\") print(x5) ## # A draws_matrix: 10 iterations, 1 chains, and 2 variables ##     variable ## draw alpha   beta ##   1   0.43  0.678 ##   2   0.12  0.038 ##   3  -1.14 -0.356 ##   4  -0.56  0.783 ##   5   1.05  0.804 ##   6  -1.90 -0.788 ##   7   0.94 -1.133 ##   8  -0.31  0.364 ##   9   0.26 -0.286 ##   10 -1.79  0.518"},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"summarise_draws-basic-usage","dir":"Articles","previous_headings":"Summaries and diagnostics","what":"summarise_draws() basic usage","title":"The posterior R package","text":"Computing summaries posterior prior draws convergence diagnostics posterior draws common tasks working Bayesian models fit using Markov Chain Monte Carlo (MCMC) methods. posterior package provides flexible interface purpose via summarise_draws() (summarize_draws()), can passed formats supported package. result data frame one row per variable one column per summary statistic convergence diagnostic. summaries rhat, ess_bulk, ess_tail described Vehtari et al. (2020). can choose summaries compute passing additional arguments, either functions names functions. instance, wanted mean corresponding Monte Carlo Standard Error (MCSE) use either options:","code":"# summarise_draws or summarize_draws summarise_draws(eight_schools_df) ## # A tibble: 10 × 10 ##    variable  mean median    sd   mad      q5   q95  rhat ess_bulk ess_tail ##    <chr>    <dbl>  <dbl> <dbl> <dbl>   <dbl> <dbl> <dbl>    <dbl>    <dbl> ##  1 mu        4.18   4.16  3.40  3.57  -0.854  9.39  1.02     558.     322. ##  2 tau       4.16   3.07  3.58  2.89   0.309 11.0   1.01     246.     202. ##  3 theta[1]  6.75   5.97  6.30  4.87  -1.23  18.9   1.01     400.     254. ##  4 theta[2]  5.25   5.13  4.63  4.25  -1.97  12.5   1.02     564.     372. ##  5 theta[3]  3.04   3.99  6.80  4.94 -10.3   11.9   1.01     312.     205. ##  6 theta[4]  4.86   4.99  4.92  4.51  -3.57  12.2   1.02     695.     252. ##  7 theta[5]  3.22   3.72  5.08  4.38  -5.93  10.8   1.01     523.     306. ##  8 theta[6]  3.99   4.14  5.16  4.81  -4.32  11.5   1.02     548.     205. ##  9 theta[7]  6.50   5.90  5.26  4.54  -1.19  15.4   1.00     434.     308. ## 10 theta[8]  4.57   4.64  5.25  4.89  -3.79  12.2   1.02     355.     146. # the function mcse_mean is provided by the posterior package s1 <- summarise_draws(eight_schools_df, \"mean\", \"mcse_mean\")  s2 <- summarise_draws(eight_schools_df, mean, mcse_mean)  identical(s1, s2) ## [1] TRUE print(s1) ## # A tibble: 10 × 3 ##    variable  mean mcse_mean ##    <chr>    <dbl>     <dbl> ##  1 mu        4.18     0.150 ##  2 tau       4.16     0.213 ##  3 theta[1]  6.75     0.319 ##  4 theta[2]  5.25     0.202 ##  5 theta[3]  3.04     0.447 ##  6 theta[4]  4.86     0.189 ##  7 theta[5]  3.22     0.232 ##  8 theta[6]  3.99     0.222 ##  9 theta[7]  6.50     0.250 ## 10 theta[8]  4.57     0.273"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"changing-column-names","dir":"Articles","previous_headings":"Summaries and diagnostics","what":"Changing column names","title":"The posterior R package","text":"column names output can changed providing functions name-value pairs, name name use output value function name definition. example, change names mean sd posterior_mean posterior_sd.","code":"summarise_draws(eight_schools_df, posterior_mean = mean, posterior_sd = sd) ## # A tibble: 10 × 3 ##    variable posterior_mean posterior_sd ##    <chr>             <dbl>        <dbl> ##  1 mu                 4.18         3.40 ##  2 tau                4.16         3.58 ##  3 theta[1]           6.75         6.30 ##  4 theta[2]           5.25         4.63 ##  5 theta[3]           3.04         6.80 ##  6 theta[4]           4.86         4.92 ##  7 theta[5]           3.22         5.08 ##  8 theta[6]           3.99         5.16 ##  9 theta[7]           6.50         5.26 ## 10 theta[8]           4.57         5.25"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"using-custom-functions","dir":"Articles","previous_headings":"Summaries and diagnostics","what":"Using custom functions","title":"The posterior R package","text":"function work summarise_draws(), needs take vector matrix numeric values return single numeric value named vector numeric values. Additional arguments function can specified list passed .args argument.","code":"weighted_mean <- function(x, wts) {   sum(x * wts)/sum(wts) } summarise_draws(   eight_schools_df,    weighted_mean,    .args = list(wts = rexp(ndraws(eight_schools_df))) ) ## # A tibble: 10 × 2 ##    variable weighted_mean ##    <chr>            <dbl> ##  1 mu                4.30 ##  2 tau               4.50 ##  3 theta[1]          7.43 ##  4 theta[2]          5.55 ##  5 theta[3]          2.77 ##  6 theta[4]          5.15 ##  7 theta[5]          3.22 ##  8 theta[6]          3.84 ##  9 theta[7]          7.05 ## 10 theta[8]          4.80"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"specifying-functions-using-lambda-like-syntax","dir":"Articles","previous_headings":"Summaries and diagnostics","what":"Specifying functions using lambda-like syntax","title":"The posterior R package","text":"also possible specify summary function using one-sided formula follows conventions supported rlang::as_function(). example, function can simplified can used summarise_draws() produce output: See help(\"as_function\", \"rlang\") details specifying functions.","code":"function(x) quantile(x, probs = c(0.4, 0.6)) # for multiple arguments `.x` and `.y` can be used, see ?rlang::as_function ~quantile(., probs = c(0.4, 0.6)) summarise_draws(eight_schools_df, function(x) quantile(x, probs = c(0.4, 0.6))) ## # A tibble: 10 × 3 ##    variable `40%` `60%` ##    <chr>    <dbl> <dbl> ##  1 mu        3.41  5.35 ##  2 tau       2.47  3.96 ##  3 theta[1]  4.95  7.01 ##  4 theta[2]  4.32  6.13 ##  5 theta[3]  2.54  5.33 ##  6 theta[4]  3.78  6.11 ##  7 theta[5]  2.69  4.69 ##  8 theta[6]  2.92  5.47 ##  9 theta[7]  4.81  7.33 ## 10 theta[8]  3.50  5.92 summarise_draws(eight_schools_df, ~quantile(.x, probs = c(0.4, 0.6))) ## # A tibble: 10 × 3 ##    variable `40%` `60%` ##    <chr>    <dbl> <dbl> ##  1 mu        3.41  5.35 ##  2 tau       2.47  3.96 ##  3 theta[1]  4.95  7.01 ##  4 theta[2]  4.32  6.13 ##  5 theta[3]  2.54  5.33 ##  6 theta[4]  3.78  6.11 ##  7 theta[5]  2.69  4.69 ##  8 theta[6]  2.92  5.47 ##  9 theta[7]  4.81  7.33 ## 10 theta[8]  3.50  5.92"},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"other-diagnostics","dir":"Articles","previous_headings":"Summaries and diagnostics","what":"Other diagnostics","title":"The posterior R package","text":"addition default diagnostic functions used summarise_draws() (rhat(), ess_bulk(), ess_tail()), posterior also provides additional diagnostics like effective sample sizes Monte Carlo standard errors quantiles standard deviations, experimental new diagnostic called R*, others. list available diagnostics links individual help pages see help(\"diagnostics\", \"posterior\"). suggestions additional diagnostics implemented posterior, please open issue https://github.com/stan-dev/posterior/issues.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"other-methods-for-working-with-draws-objects","dir":"Articles","previous_headings":"","what":"Other methods for working with draws objects","title":"The posterior R package","text":"addition methods demonstrated vignette, posterior various methods available working draws objects. following (potentially incomplete) list. suggestions additional methods useful working draws objects, please open issue https://github.com/stan-dev/posterior/issues.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/posterior.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"The posterior R package","text":"Gelman ., Carlin J. B., Stern H. S., David B. Dunson D. B., Vehtari, ., & Rubin D. B. (2013). Bayesian Data Analysis, Third Edition. Chapman Hall/CRC. Vehtari ., Gelman ., Simpson D., Carpenter B., & Bürkner P. C. (2020). Rank-normalization, folding, localization: improved Rhat assessing convergence MCMC. Bayesian Analysis, 16(2):667-718.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"rvar: The Random Variable Datatype","text":"vignette describes rvar() datatype, multidimensional, sample-based representation random variables designed act much like base R arrays possible (e.g., supporting many math operators functions). format also basis draws_rvars() format. rvar() datatype inspired rv package Kerman Gelman (2007), though slightly different backing format (multidimensional arrays). also designed interoperate vectorized distributions distributional package, able used inside data.frame()s tibble()s, used distribution visualizations ggdist package.","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"the-rvars-datatype","dir":"Articles","previous_headings":"","what":"The rvars datatype","title":"rvar: The Random Variable Datatype","text":"rvar() datatype wrapper around multidimensional array first dimension number draws random variable. direct way create random variable pass array rvar() function. example, create “scalar” rvar, one pass one-dimensional array vector whose length (4000) desired number draws: default display rvar shows mean standard deviation element array. can create random vectors adding additional dimension beyond just draws dimension input array: can create random matrix: array arbitrary number dimensions. array backing rvar can accessed (modified, caution) via draws_of(): examples assume draws come single chain, rvars can also contain samples multiple chains. example, array draws iterations first dimension chains second dimension, can use with_chains = TRUE create rvar includes chain information: Manual construction modification rvars way always recommended unless need performance reasons: several higher-level interfaces constructing manipulating rvars described .","code":"x <- rvar(rnorm(4000, mean = 1, sd = 1)) x ## rvar<4000>[1] mean ± sd: ## [1] 1 ± 1 n <- 4   # length of output vector x <- rvar(array(rnorm(4000*n, mean = 1, sd = 1), dim = c(4000, n))) x ## rvar<4000>[4] mean ± sd: ## [1] 1.01 ± 0.99  1.02 ± 0.99  0.98 ± 1.00  0.99 ± 1.02 rows <- 4 cols <- 3 x <- rvar(array(rnorm(4000 * rows * cols, mean = 1, sd = 1), dim = c(4000, rows, cols))) x ## rvar<4000>[4,3] mean ± sd: ##      [,1]         [,2]         [,3]         ## [1,] 1.00 ± 0.98  1.00 ± 1.00  0.97 ± 1.00  ## [2,] 1.00 ± 1.01  1.01 ± 1.02  0.99 ± 0.99  ## [3,] 1.02 ± 1.01  0.99 ± 1.00  1.00 ± 0.99  ## [4,] 1.01 ± 1.01  1.02 ± 1.00  1.00 ± 1.01 str(draws_of(x)) ##  num [1:4000, 1:4, 1:3] -0.6879 0.0448 0.3519 1.261 -0.2197 ... ##  - attr(*, \"dimnames\")=List of 3 ##   ..$ : chr [1:4000] \"1\" \"2\" \"3\" \"4\" ... ##   ..$ : NULL ##   ..$ : NULL iterations <- 1000 chains <- 4 rows <- 4 cols <- 3 x_array <- array(   rnorm(iterations * chains * rows * cols, mean = 1, sd = 1),   dim = c(iterations, chains, rows, cols) ) x <- rvar(x_array, with_chains = TRUE) x ## rvar<1000,4>[4,3] mean ± sd: ##      [,1]         [,2]         [,3]         ## [1,] 0.97 ± 1.00  1.00 ± 0.99  1.02 ± 0.99  ## [2,] 1.02 ± 1.00  0.99 ± 1.01  1.01 ± 0.99  ## [3,] 1.00 ± 1.00  1.00 ± 1.00  1.01 ± 1.00  ## [4,] 1.03 ± 0.99  1.05 ± 1.00  0.98 ± 1.00"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"rvar_factor","dir":"Articles","previous_headings":"The rvars datatype","what":"rvar_factor and rvar_ordered subtypes","title":"rvar: The Random Variable Datatype","text":"can also use rvars represent discrete distributions, using rvar_factor() rvar_ordered() subtypes. attempt create rvar using character values factor, automatically treated rvar_factor: Numeric arrays \"levels\" attribute can also passed rvar_factor(). (along conversion character values) means output rstanarm::posterior_predict() brms::posterior_predict() categorical models can passed directly rvar_factor(). default display shows mode (returned modal_category()) normalized entropy (entropy()), Shannon entropy scaled maximum possible entropy distribution number levels: thus 0 means probability concentrated one category, 1 means distribution uniform. can construct ordered factor using rvar_ordered() (passing ordered() vector rvar()): rvar_ordered(), default display mode dissention (dissent()), 0 probability concentrated one category, 1 distribution bimodal opposite ends scale. rvar_factors attempt mimic factor() rvar_ordereds attempt mimic ordered()s, implementing factor-specific functions like levels(). Comparison operations also implemented valid. example, x defined , approximately 90% draws less \"b\" (means \"\" \"b\" levels): rvars also supply implementation match() %%, can especially useful rvar_factors:","code":"x <- rvar(sample(c(\"a\",\"b\",\"c\"), 4000, prob = c(0.7, 0.2, 0.1), replace = TRUE)) x ## rvar_factor<4000>[1] mode <entropy>: ## [1] a <0.74>  ## 3 levels: a b c x <- rvar_ordered(sample(c(\"a\",\"b\",\"c\"), 4000, prob = c(0.7, 0.2, 0.1), replace = TRUE)) x ## rvar_ordered<4000>[1] mode <dissent>: ## [1] a <0.55>  ## 3 levels: a < b < c x <= \"b\" ## rvar<4000>[1] mean ± sd: ## [1] 0.9 ± 0.29 x %in% c(\"a\", \"c\") ## rvar<4000>[1] mean ± sd: ## [1] 0.8 ± 0.4"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"the-draws_rvars-datatype","dir":"Articles","previous_headings":"","what":"The draws_rvars datatype","title":"rvar: The Random Variable Datatype","text":"draws_rvars() datatype, like draws datatypes posterior, contains multiple variables joint sample distribution (e.g. posterior prior distribution). can construct draws_rvars() objects directly using draws_rvars() function. input rvars must number chains iterations, can otherwise different shapes: Existing objects can also converted draws_rvars() format using as_draws_rvars(). example_draws(\"multi_normal\") dataset converted draws_rvars() format. dataset 100 iterations 4 chains posterior 3-dimensional multivariate normal model. mu variable mean vector length 3 Sigma variable \\(3 \\times 3\\) covariance matrix: draws_rvars() datatype works much way draws formats ; see main package vignette vignette(\"posterior\") introduction draws objects. One difference draws_rvars counts variables differently, allows variables multidimensional. example, post object contains two variables, mu Sigma: converted draws_list(), contains one variable combination dimensions variables:","code":"d <- draws_rvars(x = x, y = rvar(rnorm(iterations * chains), nchains = 4)) d ## # A draws_rvars: 4000 iterations, 1 chains, and 2 variables ## $x: rvar_ordered<4000>[1] mode <dissent>: ## [1] a <0.55>  ## 3 levels: a < b < c ##  ## $y: rvar<4000>[1] mean ± sd: ## [1] -0.012 ± 0.98 post <- as_draws_rvars(example_draws(\"multi_normal\")) post ## # A draws_rvars: 100 iterations, 4 chains, and 2 variables ## $mu: rvar<100,4>[3] mean ± sd: ## [1] 0.051 ± 0.11  0.111 ± 0.20  0.186 ± 0.31  ##  ## $Sigma: rvar<100,4>[3,3] mean ± sd: ##      [,1]          [,2]          [,3]          ## [1,]  1.28 ± 0.17   0.53 ± 0.20  -0.40 ± 0.28  ## [2,]  0.53 ± 0.20   3.67 ± 0.45  -2.10 ± 0.48  ## [3,] -0.40 ± 0.28  -2.10 ± 0.48   8.12 ± 0.95 variables(post) ## [1] \"mu\"    \"Sigma\" variables(as_draws_list(post)) ##  [1] \"mu[1]\"      \"mu[2]\"      \"mu[3]\"      \"Sigma[1,1]\" \"Sigma[2,1]\" ##  [6] \"Sigma[3,1]\" \"Sigma[1,2]\" \"Sigma[2,2]\" \"Sigma[3,2]\" \"Sigma[1,3]\" ## [11] \"Sigma[2,3]\" \"Sigma[3,3]\""},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"math-with-rvars","dir":"Articles","previous_headings":"","what":"Math with rvars","title":"rvar: The Random Variable Datatype","text":"rvar() datatype implements math operations, including basic arithmetic, functions Math Summary groups, like log() exp() (see help(\"groupGeneric\") list), . Binary operators can performed multiple rvars rvars numerics. simple example: Matrix multiplication also implemented (using tensor product hood). R < 4.3, normal matrix multiplication operator (%*%) properly implemented S3 datatypes, rvar uses %**% instead. R ≥ 4.3, support matrix multiplication S3 datatypes, can use %*% matrix-multiply rvars. trivial example: set mathematical functions operators supported rvars includes:","code":"mu <- post$mu Sigma <- post$Sigma  mu + 1 ## rvar<100,4>[3] mean ± sd: ## [1] 1.1 ± 0.11  1.1 ± 0.20  1.2 ± 0.31 Sigma %**% diag(1:3) ## rvar<100,4>[3,3] mean ± sd: ##      [,1]          [,2]          [,3]          ## [1,]  1.28 ± 0.17   1.05 ± 0.40  -1.21 ± 0.85  ## [2,]  0.53 ± 0.20   7.33 ± 0.89  -6.30 ± 1.44  ## [3,] -0.40 ± 0.28  -4.20 ± 0.96  24.35 ± 2.84"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"expectations-and-summary-functions","dir":"Articles","previous_headings":"","what":"Expectations and summary functions","title":"rvar: The Random Variable Datatype","text":"E() function alias mean(), producing means within cell rvar. example, given mu: can get expectation cell mu: Expectations logical expressions probabilities, can computed either E() / mean() Pr(). Pr() provided notational sugar, also checks input logical variable taking mean: generally, rvar data type provides two types summary functions: Summary functions mimic base-R vector summary functions, except applied rvar vectors. apply summaries elements input vectors within draw, generally returning rvar length 1. functions prefixed rvar_ reminder return rvars. example rvar_mean(): Summary functions summarise within elements input vectors draws. summary functions generally return base arrays (numeric logical) shape input rvar, especially useful diagnostic summaries. summary functions prefixed rvar_ return rvars. example mean(): expect values functions (though different shape) use summarise_draws(), example: table types summary functions:","code":"mu ## rvar<100,4>[3] mean ± sd: ## [1] 0.051 ± 0.11  0.111 ± 0.20  0.186 ± 0.31 E(mu) ## [1] 0.05139284 0.11132363 0.18581977 Pr(mu > 0) ## [1] 0.6600 0.6900 0.7025 rvar_mean(mu) ## rvar<100,4>[1] mean ± sd: ## [1] 0.12 ± 0.11 mean(mu) ## [1] 0.05139284 0.11132363 0.18581977 summarise_draws(mu, mean) ## # A tibble: 3 × 2 ##   variable   mean ##   <chr>     <dbl> ## 1 mu[1]    0.0514 ## 2 mu[2]    0.111  ## 3 mu[3]    0.186"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"constants","dir":"Articles","previous_headings":"","what":"Constants","title":"rvar: The Random Variable Datatype","text":"Constant rvars can constructed converting numeric vectors arrays rvars using as_rvar(), return rvar one draw dimensions input: normally rvars must number draws used expression, rvars one draw treated like constants, can combined rvars:","code":"const <- as_rvar(1:3) const ## rvar<1>[3] mean ± sd: ## [1] 1 ± NA  2 ± NA  3 ± NA mu + const ## rvar<100,4>[3] mean ± sd: ## [1] 1.1 ± 0.11  2.1 ± 0.20  3.2 ± 0.31"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"using-existing-r-functions-and-expressions-with-rvars","dir":"Articles","previous_headings":"","what":"Using existing R functions and expressions with rvars","title":"rvar: The Random Variable Datatype","text":"rvars attempt emulate much functionality base R arrays possible, situations existing R function may work directly rvar. several approaches solving problem. example, say wish generate samples following expression \\(\\mu\\), \\(\\sigma\\), \\(x\\): \\[ \\begin{align} \\left[\\begin{matrix}\\mu_1 \\\\ \\vdots \\\\ \\mu_4 \\end{matrix}\\right] &\\sim \\textrm{Normal}\\left(\\left[\\begin{matrix}1 \\\\ \\vdots \\\\ 4 \\end{matrix}\\right],1\\right)\\\\ \\sigma &\\sim \\textrm{Gamma}(1,1)\\\\ \\left[\\begin{matrix}x_1 \\\\ \\vdots \\\\ x_4 \\end{matrix}\\right] &\\sim \\textrm{Normal}\\left(\\left[\\begin{matrix}\\mu_1 \\\\ \\vdots \\\\ \\mu_4 \\end{matrix}\\right], \\sigma\\right) \\end{align} \\] three different approaches might take : converting existing R functions rfun(), executing expressions random variables rdo(), evaluating random number generator functions using rvar_rng().","code":""},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"converting-functions-with-rfun","dir":"Articles","previous_headings":"Using existing R functions and expressions with rvars","what":"Converting functions with rfun()","title":"rvar: The Random Variable Datatype","text":"rfun() wrapper converts existing R function new function rvars can passed arguments, return rvars. can use rfun() convert base rnorm() rgamma() random number generating functions functions accept return rvars: can translate example code using functions: rfun()-converted functions work well prototyping, generally speaking slower functions designed specifically rvars. Thus, may find need adopt strategies (like rvar_rng(), described ; re-writing functions support rvar directly using math operators /draws_of() function).","code":"rvar_norm <- rfun(rnorm) rvar_gamma <- rfun(rgamma) mu <- rvar_norm(4, mean = 1:4, sd = 1) sigma <- rvar_gamma(1, shape = 1, rate = 1) x <- rvar_norm(4, mu, sigma) x ## rvar<4000>[4] mean ± sd: ## [1] 1 ± 1.7  2 ± 1.7  3 ± 1.7  4 ± 1.8"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"evaluating-expressions-with-rdo","dir":"Articles","previous_headings":"Using existing R functions and expressions with rvars","what":"Evaluating expressions with rdo()","title":"rvar: The Random Variable Datatype","text":"alternative rfun() use rdo(), can passed nearly-arbitrary R expressions. expression executed multiple times construct rvar. E.g., can write expression mu like example: can also control number draws using ndraws argument: rdo() expressions can also contain rvars, long rvars expression number draws. Thus, can re-write example used rfun() follows: Like rfun(), rdo() necessarily fast, may find useful prototyping production code.","code":"mu <- rdo(rnorm(4, mean = 1:4, sd = 1)) mu ## rvar<4000>[4] mean ± sd: ## [1] 0.98 ± 0.98  2.02 ± 1.02  2.99 ± 1.01  3.99 ± 1.01 mu <- rdo(rnorm(4, mean = 1:4, sd = 1), ndraws = 1000) mu ## rvar<1000>[4] mean ± sd: ## [1] 0.96 ± 1.05  1.99 ± 1.03  2.98 ± 0.98  4.01 ± 0.99 mu <- rdo(rnorm(4, mean = 1:4, sd = 1)) sigma <- rdo(rgamma(1, shape = 1, rate = 1)) x <- rdo(rnorm(4, mu, sigma)) x ## rvar<4000>[4] mean ± sd: ## [1] 0.97 ± 1.7  2.05 ± 1.7  3.05 ± 1.7  4.02 ± 1.7"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"evaluating-random-number-generators-with-rvar_rng","dir":"Articles","previous_headings":"Using existing R functions and expressions with rvars","what":"Evaluating random number generators with rvar_rng()","title":"rvar: The Random Variable Datatype","text":"rvar_rng() alternative rfun()/rdo() designed specifically work random number generating functions follow typical API functions base R. functions, like rnorm(), rgamma(), rbinom(), etc following interface: first argument, n, giving number draws take distribution. arguments distribution parameters (mean, sd, shape, rate, etc.) vectorized. return single vector length n, representing n draws distribution. can use function interface rvar_rng(), adapt able take rvar arguments return rvar, follows: contrast rfun() rdo() examples , rvar_rng() takes advantage existing vectorization underlying random number generating function execute quickly.","code":"mu <- rvar_rng(rnorm, 4, mean = 1:4, sd = 1) sigma <- rvar_rng(rgamma, 1, shape = 1, rate = 1) x <- rvar_rng(rnorm, 4, mu, sigma) x ## rvar<4000>[4] mean ± sd: ## [1] 1 ± 1.8  2 ± 1.8  3 ± 1.8  4 ± 1.8"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"broadcasting","dir":"Articles","previous_headings":"","what":"Broadcasting","title":"rvar: The Random Variable Datatype","text":"Broadcasting rvars follow R’s vector recycling rules. Instead, two variables different dimensions used basic arithmetic functions, dimensions added variables number dimensions. two variables \\(x\\) \\(y\\) differ length dimension \\(d\\), can broadcast size long one variables dimension \\(d\\) size 1. variable broadcast size variable along dimension. two variables disagree size dimension neither size 1, error. example, consider random matrix: vector length 3: attempt add X y, produce error vectors default treated column vectors, y length 3 columns X length 4: contrast, R arrays shape simply recycle y length X (regardless dimensions). Thus produce result, though likely intended result: hand, y row vector… …number columns X contain one row, can broadcast along rows X:","code":"X <- rdo(rnorm(12, 1:12), dim = c(4,3)) X ## rvar<4000>[4,3] mean ± sd: ##      [,1]          [,2]          [,3]          ## [1,]  0.99 ± 1.00   5.00 ± 1.00   9.02 ± 0.99  ## [2,]  1.98 ± 1.02   5.99 ± 1.01   9.96 ± 1.00  ## [3,]  3.03 ± 0.98   6.99 ± 1.00  11.03 ± 0.99  ## [4,]  3.99 ± 1.01   7.99 ± 0.99  11.98 ± 1.02 y <- rdo(rnorm(3, 3:1)) y ## rvar<4000>[3] mean ± sd: ## [1] 3.00 ± 1.00  2.02 ± 0.99  0.96 ± 0.99 X + y ## Error: Cannot broadcast array of shape [4000,3,1] to array of shape [4000,4,3]: ## All dimensions must be 1 or equal. mean(X) + mean(y) ##          [,1]      [,2]      [,3] ## [1,] 3.990551  7.019104  9.979782 ## [2,] 3.995785  6.951943 12.961398 ## [3,] 3.997008  9.996424 13.053459 ## [4,] 6.988434 10.011049 12.945383 row_y = t(y) row_y ## rvar<4000>[1,3] mean ± sd: ##      [,1]         [,2]         [,3]         ## [1,] 3.00 ± 1.00  2.02 ± 0.99  0.96 ± 0.99 X + row_y ## rvar<4000>[4,3] mean ± sd: ##      [,1]      [,2]      [,3]      ## [1,]  4 ± 1.4   7 ± 1.4  10 ± 1.4  ## [2,]  5 ± 1.4   8 ± 1.4  11 ± 1.4  ## [3,]  6 ± 1.4   9 ± 1.4  12 ± 1.4  ## [4,]  7 ± 1.4  10 ± 1.4  13 ± 1.4"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"slicing-and-conditionals","dir":"Articles","previous_headings":"","what":"Slicing and conditionals","title":"rvar: The Random Variable Datatype","text":"[[ [ operators implement base array slicing operations, including numeric, character, logical indices, well slicing arrays using matrix indices [. main difference rvar slicing base array slicing rvars default drop = FALSE; .e. retain dimensions original rvar array. complete list rvar slicing types, see help(\"rvar-slice\"). addition base slicing operations, rvar also implements three slicing/conditioning methods allow use rvars define slice. demonstrate operations, consider rvar vector two components: Perhaps want create mixture two components, mixture, mixing proportion 0.75. create index, , random variable indicating component (1 2) determines value mixture draw: can use several different approaches create mixture distribution","code":"component = rvar_rng(rnorm, 2, mean = c(1, 5)) component ## rvar<4000>[2] mean ± sd: ## [1] 1 ± 0.98  5 ± 0.99 i = rvar_rng(rbinom, 1, size = 1, p = 0.75) + 1L i ## rvar<4000>[1] mean ± sd: ## [1] 1.7 ± 0.44"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"subsetting-rvars-by-draw-xlogical-rvar","dir":"Articles","previous_headings":"Slicing and conditionals","what":"Subsetting rvars by draw: x[<logical rvar>]","title":"rvar: The Random Variable Datatype","text":"slice x[] scalar logical rvar returns new rvar shape x, containing draws TRUE. Thus, can use == 2 select draws second component overwrite first component, creating mixture distribution: resulting mixture looks like :  See vignette(\"slabinterval\", package = \"ggdist\") examples visualizing distribution-type objects, including rvars.","code":"mixture = component[[1]] mixture[i == 2] = component[[2]][i == 2] mixture ## rvar<4000>[1] mean ± sd: ## [1] 4 ± 2 library(ggplot2)  ggplot() + ggdist::stat_slab(aes(xdist = mixture))"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"conditionals-using-rvar_ifelse","dir":"Articles","previous_headings":"Slicing and conditionals","what":"Conditionals using rvar_ifelse()","title":"rvar: The Random Variable Datatype","text":"create mixture using rvar_ifelse(test, yes, ), broadcasts test, yes, shape, returns new rvar containing draws yes test == TRUE draws test == FALSE. Thus, can create mixture follows:","code":"x = rvar_ifelse(i == 1, component[[1]], component[[2]]) x ## rvar<4000>[1] mean ± sd: ## [1] 4 ± 2"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"selecting-different-elements-in-each-draw-xnumeric-rvar","dir":"Articles","previous_headings":"Slicing and conditionals","what":"Selecting different elements in each draw: x[[<numeric rvar>]]","title":"rvar: The Random Variable Datatype","text":"slice x[[]], scalar numeric rvar, generalizes indexing scalar numeric. Within draw x, selects element x corresponding value within draw. Thus, since example scalar numeric rvar whose values either 1 2 within draw, can use index directly component create mixture: approach also nice generalizes easily two components.","code":"x = component[[i]] x ## rvar<4000>[1] mean ± sd: ## [1] 4 ± 2"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"applying-functions-over-rvars","dir":"Articles","previous_headings":"","what":"Applying functions over rvars","title":"rvar: The Random Variable Datatype","text":"rvar data type supplies implementation .list(), give compatibility base R family functions applying functions arrays: apply(), lapply(), vapply(), sapply(), etc. can also manually use .list() convert rvar list along first dimension, may necessary compatibility functions (like purrr:map()). example, given multidimensional rvar… … can apply functions along margins using apply() (, silly example): One exception apply() work rvar input function returns base data types (like numerics), give simplified rvar arrays function returns rvar. Thus, supply rvar_apply() function, takes either base arrays rvar arrays returns rvar arrays, also uses rvar broadcasting rules combine results applied function. example, can use rvar_apply() rvar_mean() compute distributions means along one margin array: along multiple dimensions:","code":"set.seed(3456) x <- rvar_rng(rnorm, 24, mean = 1:24) dim(x) <- c(2,3,4) x ## rvar<4000>[2,3,4] mean ± sd: ## , , 1 ##  ##      [,1]       [,2]       [,3]       ## [1,]  1 ± 1.00   3 ± 0.98   5 ± 1.00  ## [2,]  2 ± 1.00   4 ± 1.00   6 ± 1.01  ##  ## , , 2 ##  ##      [,1]       [,2]       [,3]       ## [1,]  7 ± 1.00   9 ± 1.00  11 ± 1.03  ## [2,]  8 ± 0.98  10 ± 0.99  12 ± 1.00  ##  ## , , 3 ##  ##      [,1]       [,2]       [,3]       ## [1,] 13 ± 1.00  15 ± 1.00  17 ± 0.99  ## [2,] 14 ± 1.01  16 ± 1.00  18 ± 1.00  ##  ## , , 4 ##  ##      [,1]       [,2]       [,3]       ## [1,] 19 ± 0.99  21 ± 0.99  23 ± 0.99  ## [2,] 20 ± 1.00  22 ± 1.00  24 ± 1.00 apply(x, c(1,2), length) ##      [,1] [,2] [,3] ## [1,]    4    4    4 ## [2,]    4    4    4 rvar_apply(x, 1, rvar_mean) ## rvar<4000>[2] mean ± sd: ## [1] 12 ± 0.29  13 ± 0.29 rvar_apply(x, c(2,3), rvar_mean) ## rvar<4000>[3,4] mean ± sd: ##      [,1]         [,2]         [,3]         [,4]         ## [1,]  1.5 ± 0.70   7.5 ± 0.69  13.5 ± 0.71  19.5 ± 0.70  ## [2,]  3.5 ± 0.70   9.5 ± 0.71  15.5 ± 0.72  21.5 ± 0.70  ## [3,]  5.5 ± 0.71  11.5 ± 0.72  17.5 ± 0.71  23.5 ± 0.70"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"looping-over-draws-and-rvars","dir":"Articles","previous_headings":"","what":"Looping over draws and rvars","title":"rvar: The Random Variable Datatype","text":"rvar datatype also used for_each_draw(), allows loop draws draws object rvar. for_each_draw(x, expr) converts x draws_rvars() object, loops draw x, executing provided expression, expr. expression can use variables x regular R arrays. One application for_each_draw() constructing base-R plots individual draws (ggplot2-based plotting rvars, see next section ggdist package). example, can used construct parallel coordinates plot:  for_each_draw() slower ways manipulating draws, function generally used unless needed.","code":"eight_schools <- as_draws_rvars(example_draws())  plot(1, type = \"n\",   xlim = c(1, length(eight_schools$theta)),   ylim = range(range(eight_schools$theta)),   xlab = \"school\", ylab = \"theta\" )  # use for_each_draw() to make a parallel coordinates plot of all draws # of eight_schools$theta for_each_draw(eight_schools, {   lines(seq_along(theta), theta, col = rgb(1, 0, 0, 0.05)) })  # add means and 90% intervals lines(seq_along(eight_schools$theta), mean(eight_schools$theta)) with(summarise_draws(eight_schools$theta),    segments(seq_along(eight_schools$theta), y0 = q5, y1 = q95) )"},{"path":"https://mc-stan.org/posterior/dev/articles/rvar.html","id":"using-rvars-in-data-frames-and-in-ggplot2","dir":"Articles","previous_headings":"","what":"Using rvars in data frames and in ggplot2","title":"rvar: The Random Variable Datatype","text":"rvars can used columns data.frame() tibble() objects: makes convenient adding predictions data frame alongside data used generate predictions. rvars can visualized ggplot2 passing xdist ydist aesthetics stat_... family geometries ggdist package, stat_halfeye(), stat_lineribbon(), stat_dotsinterval(). example:  See vignette(\"slabinterval\", package = \"ggdist\") vignette(\"tidy-posterior\", package = \"tidybayes\") examples.","code":"df <- data.frame(group = c(\"a\",\"b\",\"c\",\"d\"), mu) df ##   group       mu ## 1     a 1 ± 1.02 ## 2     b 2 ± 1.02 ## 3     c 3 ± 0.99 ## 4     d 4 ± 1.01 library(ggplot2) library(ggdist)  ggplot(df) +   stat_halfeye(aes(y = group, xdist = mu))"},{"path":"https://mc-stan.org/posterior/dev/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Paul-Christian Bürkner. Author, maintainer. Jonah Gabry. Author. Matthew Kay. Author. Aki Vehtari. Author. Måns Magnusson. Contributor. Rok Češnovar. Contributor. Ben Lambert. Contributor. Ozan Adıgüzel. Contributor. Jacob Socolar. Contributor. Noa Kallioinen. Contributor. Teemu Säilynoja. Contributor.","code":""},{"path":"https://mc-stan.org/posterior/dev/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Bürkner P, Gabry J, Kay M, Vehtari (2025). “posterior: Tools Working Posterior Distributions.” R package version 1.6.1.9000, https://mc-stan.org/posterior/. Vehtari , Gelman , Simpson D, Carpenter B, Bürkner P (2021). “Rank-normalization, folding, localization: improved Rhat assessing convergence MCMC (discussion).” Bayesian Analysis, 16(2), 667-718. Margossian C, Hoffman M, Sountsov P, Riou-Durand L, Vehtari , Gelman (2024). “Nested Rhat: Assessing convergence Markov chain Monte Carlo running many short chains.” Bayesian Analysis. doi:10.1214/24-BA1453. Lambert B, Vehtari (2022). “Rstar: robust MCMC convergence diagnostic uncertainty using decision tree classifiers.” Bayesian Analysis, 17(2), 353-379. doi:10.1214/20-BA1252. Vehtari , Simpson D, Gelman , Yao Y, Gabry J (2024). “Pareto smoothed importance sampling.” Journal Machine Learning Research, 25(72), 1-58.","code":"@Misc{,   title = {posterior: Tools for Working with Posterior Distributions},   author = {Paul-Christian Bürkner and Jonah Gabry and Matthew Kay and Aki Vehtari},   year = {2025},   note = {R package version 1.6.1.9000},   url = {https://mc-stan.org/posterior/}, } @Article{,   title = {Rank-normalization, folding, and localization: An improved Rhat for assessing convergence of MCMC (with discussion)},   author = {Aki Vehtari and Andrew Gelman and Daniel Simpson and Bob Carpenter and Paul-Christian Bürkner},   journal = {Bayesian Analysis},   year = {2021},   volume = {16},   number = {2},   pages = {667-718}, } @Article{,   title = {Nested Rhat: Assessing the convergence of Markov chain Monte Carlo when running many short chains},   author = {Charles C. Margossian and Matthew D. Hoffman and Pavel Sountsov and Lionel Riou-Durand and Aki Vehtari and Andrew Gelman},   journal = {Bayesian Analysis},   year = {2024},   doi = {10.1214/24-BA1453}, } @Article{,   title = {Rstar: A robust MCMC convergence diagnostic with uncertainty using decision tree classifiers},   author = {Ben Lambert and Aki Vehtari},   journal = {Bayesian Analysis},   year = {2022},   volume = {17},   number = {2},   pages = {353-379},   doi = {10.1214/20-BA1252}, } @Article{,   title = {Pareto smoothed importance sampling},   author = {Aki Vehtari and Daniel Simpson and Andrew Gelman and Yuling Yao and Jonah Gabry},   journal = {Journal of Machine Learning Research},   year = {2024},   volume = {25},   number = {72},   pages = {1-58}, }"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"posterior-","dir":"","previous_headings":"","what":"Tools for Working with Posterior Distributions","title":"Tools for Working with Posterior Distributions","text":"posterior R package intended provide useful tools users developers packages fitting Bayesian models working output Bayesian models. primary goals package : Efficiently convert many different useful formats draws (samples) posterior prior distributions. Provide consistent methods operations commonly performed draws, example, subsetting, binding, mutating draws. Provide various summaries draws convenient formats. Provide lightweight implementations state art posterior inference diagnostics. new posterior recommend starting vignettes: posterior R package: introduction package main functionality rvar: Random Variable Datatype: overview new random variable datatype","code":""},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Tools for Working with Posterior Distributions","text":"can install latest official release version via build developmental version directly GitHub via","code":"install.packages(\"posterior\") # install.packages(\"remotes\") remotes::install_github(\"stan-dev/posterior\")"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"Tools for Working with Posterior Distributions","text":"offer examples using package. detailed overview see vignette posterior R package. demonstrate work posterior package, use example posterior draws obtained eight schools hierarchical meta-analysis model described Gelman et al. (2013). Essentially, estimate per school (theta[1] theta[8]) well overall mean (mu) standard deviation across schools (tau).","code":"library(\"posterior\") #> This is posterior version 1.6.1 #>  #> Attaching package: 'posterior' #> The following objects are masked from 'package:stats': #>  #>     mad, sd, var #> The following objects are masked from 'package:base': #>  #>     %in%, match"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"draws-formats","dir":"","previous_headings":"Examples","what":"Draws formats","title":"Tools for Working with Posterior Distributions","text":"draws example come draws_array object, , array dimensions iterations x chains x variables. can easily transform another format, instance, data frame additional meta information. Different formats preferable different situations hence posterior supports multiple formats easy conversion . details available formats see help(\"draws\"). formats essentially base R object classes can used . example, draws_matrix object just matrix little consistency additional methods.","code":"eight_schools_array <- example_draws(\"eight_schools\") print(eight_schools_array, max_variables = 3) #> # A draws_array: 100 iterations, 4 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration   1    2     3   4 #>         1 2.0  3.0  1.79 6.5 #>         2 1.5  8.2  5.99 9.1 #>         3 5.8 -1.2  2.56 0.2 #>         4 6.8 10.9  2.79 3.7 #>         5 1.8  9.8 -0.03 5.5 #>  #> , , variable = tau #>  #>          chain #> iteration   1    2    3   4 #>         1 2.8 2.80  8.7 3.8 #>         2 7.0 2.76  2.9 6.8 #>         3 9.7 0.57  8.4 5.3 #>         4 4.8 2.45  4.4 1.6 #>         5 2.8 2.80 11.0 3.0 #>  #> , , variable = theta[1] #>  #>          chain #> iteration     1     2    3     4 #>         1  3.96  6.26 13.3  5.78 #>         2  0.12  9.32  6.3  2.09 #>         3 21.25 -0.97 10.6 15.72 #>         4 14.70 12.45  5.4  2.69 #>         5  5.96  9.75  8.2 -0.91 #>  #> # ... with 95 more iterations, and 7 more variables eight_schools_df <- as_draws_df(eight_schools_array) print(eight_schools_df) #> # A draws_df: 100 iterations, 4 chains, and 10 variables #>      mu tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6] #> 1  2.01 2.8     3.96    0.271    -0.74      2.1    0.923      1.7 #> 2  1.46 7.0     0.12   -0.069     0.95      7.3   -0.062     11.3 #> 3  5.81 9.7    21.25   14.931     1.83      1.4    0.531      7.2 #> 4  6.85 4.8    14.70    8.586     2.67      4.4    4.758      8.1 #> 5  1.81 2.8     5.96    1.156     3.11      2.0    0.769      4.7 #> 6  3.84 4.1     5.76    9.909    -1.00      5.3    5.889     -1.7 #> 7  5.47 4.0     4.03    4.151    10.15      6.6    3.741     -2.2 #> 8  1.20 1.5    -0.28    1.846     0.47      4.3    1.467      3.3 #> 9  0.15 3.9     1.81    0.661     0.86      4.5   -1.025      1.1 #> 10 7.17 1.8     6.08    8.102     7.68      5.6    7.106      8.5 #> # ... with 390 more draws, and 2 more variables #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"summarizing-draws","dir":"","previous_headings":"Examples","what":"Summarizing draws","title":"Tools for Working with Posterior Distributions","text":"Computing summaries posterior prior draws convergence diagnostics posterior draws one common tasks working Bayesian models fit using Markov Chain Monte Carlo (MCMC) methods. posterior package provides flexible interface purpose via summarise_draws(): Basically, get data frame one row per variable one column per summary statistic convergence diagnostic. summaries rhat, ess_bulk, ess_tail described Vehtari et al. (2020). can choose summaries compute passing additional arguments, either functions names functions. instance, wanted mean corresponding Monte Carlo Standard Error (MCSE) use: function work summarise_draws, needs take vector matrix numeric values returns single numeric value named vector numeric values.","code":"# summarise_draws or summarize_draws summarise_draws(eight_schools_df) #> # A tibble: 10 × 10 #>    variable  mean median    sd   mad      q5   q95  rhat ess_bulk ess_tail #>    <chr>    <dbl>  <dbl> <dbl> <dbl>   <dbl> <dbl> <dbl>    <dbl>    <dbl> #>  1 mu        4.18   4.16  3.40  3.57  -0.854  9.39  1.02     558.     322. #>  2 tau       4.16   3.07  3.58  2.89   0.309 11.0   1.01     246.     202. #>  3 theta[1]  6.75   5.97  6.30  4.87  -1.23  18.9   1.01     400.     254. #>  4 theta[2]  5.25   5.13  4.63  4.25  -1.97  12.5   1.02     564.     372. #>  5 theta[3]  3.04   3.99  6.80  4.94 -10.3   11.9   1.01     312.     205. #>  6 theta[4]  4.86   4.99  4.92  4.51  -3.57  12.2   1.02     695.     252. #>  7 theta[5]  3.22   3.72  5.08  4.38  -5.93  10.8   1.01     523.     306. #>  8 theta[6]  3.99   4.14  5.16  4.81  -4.32  11.5   1.02     548.     205. #>  9 theta[7]  6.50   5.90  5.26  4.54  -1.19  15.4   1.00     434.     308. #> 10 theta[8]  4.57   4.64  5.25  4.89  -3.79  12.2   1.02     355.     146. summarise_draws(eight_schools_df, \"mean\", \"mcse_mean\") #> # A tibble: 10 × 3 #>    variable  mean mcse_mean #>    <chr>    <dbl>     <dbl> #>  1 mu        4.18     0.150 #>  2 tau       4.16     0.213 #>  3 theta[1]  6.75     0.319 #>  4 theta[2]  5.25     0.202 #>  5 theta[3]  3.04     0.447 #>  6 theta[4]  4.86     0.189 #>  7 theta[5]  3.22     0.232 #>  8 theta[6]  3.99     0.222 #>  9 theta[7]  6.50     0.250 #> 10 theta[8]  4.57     0.273"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"subsetting-draws","dir":"","previous_headings":"Examples","what":"Subsetting draws","title":"Tools for Working with Posterior Distributions","text":"Another common task working posterior (prior) draws, subsetting according various aspects draws (iterations, chains, variables). posterior provides convenient interface purpose via subset_draws() method. example, code extract first five iterations first two chains variable mu: call subset_draws() can used regardless whether object draws_df, draws_array, draws_list, etc.","code":"subset_draws(eight_schools_df, variable = \"mu\", chain = 1:2, iteration = 1:5) #> # A draws_df: 5 iterations, 2 chains, and 1 variables #>      mu #> 1   2.0 #> 2   1.5 #> 3   5.8 #> 4   6.8 #> 5   1.8 #> 6   3.0 #> 7   8.2 #> 8  -1.2 #> 9  10.9 #> 10  9.8 #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"mutating-and-renaming-draws","dir":"","previous_headings":"Examples","what":"Mutating and renaming draws","title":"Tools for Working with Posterior Distributions","text":"magic obtained draws joint posterior (prior) distribution set variables draws can also used obtain draws variable function original variables. , interested posterior distribution , say, phi = (mu + tau)^2 perform transformation individual draws obtain draws posterior distribution transformed variable. procedure automated mutate_variables method: math , see indeed draw, phi equal (mu + tau)^2 (rounding two 2 digits purpose printing). may also easily rename variables, even entire vectors variables via rename_variables, example: posterior methods, mutate_variables rename_variables can used draws formats.","code":"x <- mutate_variables(eight_schools_df, phi = (mu + tau)^2) x <- subset_draws(x, c(\"mu\", \"tau\", \"phi\")) print(x) #> # A draws_df: 100 iterations, 4 chains, and 3 variables #>      mu tau   phi #> 1  2.01 2.8  22.8 #> 2  1.46 7.0  71.2 #> 3  5.81 9.7 240.0 #> 4  6.85 4.8 135.4 #> 5  1.81 2.8  21.7 #> 6  3.84 4.1  62.8 #> 7  5.47 4.0  88.8 #> 8  1.20 1.5   7.1 #> 9  0.15 3.9  16.6 #> 10 7.17 1.8  79.9 #> # ... with 390 more draws #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'} x <- rename_variables(eight_schools_df, mean = mu, alpha = theta) variables(x) #>  [1] \"mean\"     \"tau\"      \"alpha[1]\" \"alpha[2]\" \"alpha[3]\" \"alpha[4]\" \"alpha[5]\" #>  [8] \"alpha[6]\" \"alpha[7]\" \"alpha[8]\""},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"binding-draws-together","dir":"","previous_headings":"Examples","what":"Binding draws together","title":"Tools for Working with Posterior Distributions","text":"Suppose multiple draws objects want bind together: , can use bind_draws method bind along different dimensions. example, can bind x1 x3 together along 'variable' dimension: , can bind x1 x2 together along 'draw' dimension: posterior methods, bind_draws can used draws formats.","code":"x1 <- draws_matrix(alpha = rnorm(5), beta = 1) x2 <- draws_matrix(alpha = rnorm(5), beta = 2) x3 <- draws_matrix(theta = rexp(5)) x4 <- bind_draws(x1, x3, along = \"variable\") print(x4) #> # A draws_matrix: 5 iterations, 1 chains, and 3 variables #>     variable #> draw alpha beta theta #>    1 -0.14    1 2.080 #>    2  0.13    1 1.077 #>    3  0.71    1 0.037 #>    4 -0.99    1 1.447 #>    5 -1.39    1 1.031 x5 <- bind_draws(x1, x2, along = \"draw\") print(x5) #> # A draws_matrix: 10 iterations, 1 chains, and 2 variables #>     variable #> draw  alpha beta #>   1  -0.140    1 #>   2   0.132    1 #>   3   0.705    1 #>   4  -0.990    1 #>   5  -1.394    1 #>   6  -2.889    2 #>   7  -0.072    2 #>   8  -0.051    2 #>   9  -1.983    2 #>   10 -0.204    2"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"converting-from-regular-r-objects-to-draws-formats","dir":"","previous_headings":"Examples","what":"Converting from regular R objects to draws formats","title":"Tools for Working with Posterior Distributions","text":"eight_schools example already comes format natively supported posterior course also import draws sources, example, common base R objects: Instead as_draws_matrix() also just used as_draws(), attempts find closest available format input object. case result draws_matrix object either way. matrix example contained one chain. Multi-chain draws stored base R 3-D array object, can also converted draws object:","code":"x <- matrix(rnorm(50), nrow = 10, ncol = 5) colnames(x) <- paste0(\"V\", 1:5) x <- as_draws_matrix(x) print(x) #> # A draws_matrix: 10 iterations, 1 chains, and 5 variables #>     variable #> draw     V1     V2     V3      V4     V5 #>   1   1.477 -1.804 -0.979  0.4196  0.046 #>   2   0.081 -0.695 -1.275 -1.2993  0.407 #>   3   1.384 -0.963  0.465  0.9283 -0.101 #>   4  -0.852  1.574  1.118 -0.2389  0.067 #>   5  -0.515  0.017 -1.651  0.0054 -1.756 #>   6   0.308 -1.376  1.099 -0.6325 -0.437 #>   7  -0.818  0.703 -0.027 -0.9165  0.706 #>   8  -0.415 -0.232 -1.818 -1.6000 -0.551 #>   9   2.599  0.958  0.522  0.5579  1.159 #>   10 -1.070  1.259 -0.475  1.2223 -0.963  summarise_draws(x, \"mean\", \"sd\", \"median\", \"mad\") #> # A tibble: 5 × 5 #>   variable    mean    sd  median   mad #>   <chr>      <dbl> <dbl>   <dbl> <dbl> #> 1 V1        0.218  1.22  -0.167  0.990 #> 2 V2       -0.0558 1.16  -0.108  1.42  #> 3 V3       -0.302  1.10  -0.251  1.33  #> 4 V4       -0.155  0.951 -0.117  1.09  #> 5 V5       -0.142  0.839 -0.0273 0.710 x <- array(data=rnorm(200), dim=c(10, 2, 5)) x <- as_draws_matrix(x) variables(x) <-  paste0(\"V\", 1:5) print(x) #> # A draws_matrix: 10 iterations, 2 chains, and 5 variables #>     variable #> draw     V1    V2    V3      V4    V5 #>   1   0.288 -1.61 -0.36 -0.5534  0.58 #>   2   0.267  0.05 -1.41 -2.2698  1.90 #>   3   1.051  1.78  1.00 -1.1469  0.40 #>   4   0.679  1.57  0.38 -0.3360  0.98 #>   5  -1.952 -1.18 -0.29  0.0928 -1.09 #>   6  -0.380 -1.48 -0.88  0.3971  1.19 #>   7   0.398 -1.86 -0.77 -0.1377 -0.21 #>   8   0.023  1.97 -1.66 -0.5317 -0.21 #>   9   0.380  0.15 -1.91  0.2331  0.49 #>   10 -0.653  0.53  0.24 -0.0038  0.26 #> # ... with 10 more draws"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"converting-from-mcmc-objects-to-draws-formats","dir":"","previous_headings":"Examples","what":"Converting from mcmc objects to draws formats","title":"Tools for Working with Posterior Distributions","text":"coda rjags packages use mcmc mcmc.list objects can also converted draws objects:","code":"data(line, package = \"coda\") line <- as_draws_df(line) print(line) #> # A draws_df: 200 iterations, 2 chains, and 3 variables #>    alpha  beta sigma #> 1    7.2 -1.57 11.23 #> 2    3.0  1.50  4.89 #> 3    3.7  0.63  1.40 #> 4    3.3  1.18  0.66 #> 5    3.7  0.49  1.36 #> 6    3.6  0.21  1.04 #> 7    2.7  0.88  1.29 #> 8    3.0  1.09  0.46 #> 9    3.5  1.07  0.63 #> 10   2.1  1.48  0.91 #> # ... with 390 more draws #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"contributing-to-posterior","dir":"","previous_headings":"","what":"Contributing to posterior","title":"Tools for Working with Posterior Distributions","text":"welcome contributions! posterior package active development. find bugs ideas new features (us implement) please open issue GitHub. See CONTRIBUTING.md details.","code":""},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"citing-posterior","dir":"","previous_headings":"","what":"Citing posterior","title":"Tools for Working with Posterior Distributions","text":"Developing maintaining open source software important yet often underappreciated contribution scientific progress. Thus, whenever using open source software (software general), please make sure cite appropriately developers get credit work. using posterior, please cite follows: Bürkner P. C., Gabry J., Kay M., & Vehtari . (2020). “posterior: Tools Working Posterior Distributions.” R package version XXX, <URL: https://mc-stan.org/posterior/>. using MCMC convergence diagnostics rhat, ess_bulk, ess_tail, ess_median, ess_quantile, mcse_median, mcse_quantile please also cite Vehtari ., Gelman ., Simpson D., Carpenter B., & Bürkner P. C. (2021). Rank-normalization, folding, localization: improved Rhat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667–718. doi.org/10.1214/20-BA1221 using MCMC convergence diagnostic rhat_nested please also cite Margossian, C. C., Hoffman, M. D., Sountsov, P., Riou-Durand, L., Vehtari, ., Gelman, . (2024). Nested \\(\\widehat{R}\\): Assessing convergence Markov chain Monte Carlo running many short chains. Bayesian Analysis, doi:10.1214/24-BA1453. using MCMC convergence diagnostic rstar please also cite Lambert, B. Vehtari, . (2022). \\(R^*\\): robust MCMC convergence diagnostic uncertainty using decision tree classifiers. Bayesian Analysis, 17(2):353-379. doi:10.1214/20-BA1252 using Pareto-k diagnostics pareto_khat, pareto_min_ss, pareto_convergence_rate, khat_threshold pareto_diags, Pareto smoothing pareto_smooth please also cite Vehtari, ., Simpson, D., Gelman, ., Yao, Y., Gabry, J. (2024). Pareto smoothed importance sampling. Journal Machine Learning Research, 25(72):1-58. information can obtained running citation(\"posterior\").","code":""},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"references","dir":"","previous_headings":"","what":"References","title":"Tools for Working with Posterior Distributions","text":"Gelman ., Carlin J. B., Stern H. S., David B. Dunson D. B., Aki Vehtari ., & Rubin D. B. (2013). Bayesian Data Analysis, Third Edition. Chapman Hall/CRC. Lambert, B. Vehtari, . (2022). \\(R^*\\): robust MCMC convergence diagnostic uncertainty using decision tree classifiers. Bayesian Analysis, 17(2):353-379. doi:10.1214/20-BA1252 Margossian, C. C., Hoffman, M. D., Sountsov, P., Riou-Durand, L., Vehtari, ., Gelman, . (2024). Nested \\(\\widehat{R}\\): Assessing convergence Markov chain Monte Carlo running many short chains. Bayesian Analysis, doi:10.1214/24-BA1453. Vehtari ., Gelman ., Simpson D., Carpenter B., & Bürkner P. C. (2021). Rank-normalization, folding, localization: improved Rhat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667–718. doi.org/10.1214/20-BA1221 Vehtari, ., Simpson, D., Gelman, ., Yao, Y., Gabry, J. (2024). Pareto smoothed importance sampling. Journal Machine Learning Research, 25(72):1-58.","code":""},{"path":"https://mc-stan.org/posterior/dev/index.html","id":"licensing","dir":"","previous_headings":"","what":"Licensing","title":"Tools for Working with Posterior Distributions","text":"posterior package licensed following licenses: Code: BSD 3-clause (https://opensource.org/license/bsd-3-clause) Documentation: CC-4.0 (https://creativecommons.org/licenses//4.0/)","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce to a random variable — as_rvar","title":"Coerce to a random variable — as_rvar","text":"Convert x rvar object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce to a random variable — as_rvar","text":"","code":"as_rvar(x, dim = NULL, dimnames = NULL, nchains = NULL)  as_rvar_numeric(x, dim = NULL, dimnames = NULL, nchains = NULL)  as_rvar_integer(x, dim = NULL, dimnames = NULL, nchains = NULL)  as_rvar_logical(x, dim = NULL, dimnames = NULL, nchains = NULL)"},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce to a random variable — as_rvar","text":"x (multiple options) object can converted rvar, vector, array, rvar . dim (integer vector) One integers giving maximal indices dimension override dimensions rvar created (see dim()). NULL (default), dim determined input. NOTE: argument controls dimensions rvar, underlying array, change number draws using argument. dimnames (list) Character vectors giving names dimension override names dimensions rvar created (see dimnames()). NULL (default), determined input. NOTE: argument controls names dimensions rvar, underlying array. nchains (positive integer) number chains. default 1.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coerce to a random variable — as_rvar","text":"object class \"rvar\" (one subtypes) representing random variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Coerce to a random variable — as_rvar","text":"objects already rvars, returns (modified dimensions dim NULL). numeric logical vectors arrays, returns rvar single draw dimensions x. contrast rvar() constructor, treats first dimension x draws dimension. result, as_rvar() useful creating constants. as_rvar() attempts pick suitable subtype rvar based type x (possibly returning rvar_factor rvar_ordered), as_rvar_numeric(), as_rvar_integer(), as_rvar_logical() always coerce draws output rvar numeric, integer, logical (respectively), always return base rvar, never subtype.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coerce to a random variable — as_rvar","text":"","code":"# You can use as_rvar() to create \"constant\" rvars (having only one draw): x <- as_rvar(1) x #> rvar<1>[1] mean ± sd: #> [1] 1 ± NA   # Such constants can be of arbitrary shape: as_rvar(1:4) #> rvar<1>[4] mean ± sd: #> [1] 1 ± NA  2 ± NA  3 ± NA  4 ± NA  as_rvar(matrix(1:10, nrow = 5)) #> rvar<1>[5,2] mean ± sd: #>      [,1]     [,2]     #> [1,]  1 ± NA   6 ± NA  #> [2,]  2 ± NA   7 ± NA  #> [3,]  3 ± NA   8 ± NA  #> [4,]  4 ± NA   9 ± NA  #> [5,]  5 ± NA  10 ± NA  as_rvar(array(1:12, dim = c(2, 3, 2))) #> rvar<1>[2,3,2] mean ± sd: #> , , 1 #>  #>      [,1]     [,2]     [,3]     #> [1,]  1 ± NA   3 ± NA   5 ± NA  #> [2,]  2 ± NA   4 ± NA   6 ± NA  #>  #> , , 2 #>  #>      [,1]     [,2]     [,3]     #> [1,]  7 ± NA   9 ± NA  11 ± NA  #> [2,]  8 ± NA  10 ± NA  12 ± NA  #>   # as_rvar_numeric() coerces subtypes of rvar to the base rvar type y <- as_rvar_factor(c(\"a\", \"b\", \"c\")) y #> rvar_factor<1>[3] mode <entropy>: #> [1] a <0>  b <0>  c <0>  #> 3 levels: a b c as_rvar_numeric(y) #> rvar<1>[3] mean ± sd: #> [1] 1 ± NA  2 ± NA  3 ± NA"},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar_factor.html","id":null,"dir":"Reference","previous_headings":"","what":"Coerce to a factor random variable — as_rvar_factor","title":"Coerce to a factor random variable — as_rvar_factor","text":"Convert x rvar_factor rvar_ordered object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar_factor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Coerce to a factor random variable — as_rvar_factor","text":"","code":"as_rvar_factor(x, dim = NULL, dimnames = NULL, nchains = NULL, ...)  as_rvar_ordered(x, dim = NULL, dimnames = NULL, nchains = NULL, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar_factor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Coerce to a factor random variable — as_rvar_factor","text":"x (multiple options) object can converted rvar, vector, array, rvar . dim (integer vector) One integers giving maximal indices dimension override dimensions rvar created (see dim()). NULL (default), dim determined input. NOTE: argument controls dimensions rvar, underlying array, change number draws using argument. dimnames (list) Character vectors giving names dimension override names dimensions rvar created (see dimnames()). NULL (default), determined input. NOTE: argument controls names dimensions rvar, underlying array. nchains (positive integer) number chains. default 1. ... Arguments passed base::factor levels optional vector unique values (character strings)     x might taken.  default unique set     values taken .character(x), sorted     increasing order x.  Note set can     specified smaller sort(unique(x)). labels either optional character vector     labels levels (order levels     removing exclude), character string     length 1.  Duplicated values labels can used map     different values x factor level. exclude vector values excluded forming     set levels.  may factor level set x     character. ordered logical flag determine levels regarded     ordered (order given). nmax upper bound number levels; see ‘Details’.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar_factor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Coerce to a factor random variable — as_rvar_factor","text":"object class \"rvar_factor\" \"rvar_ordered\" representing random variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar_factor.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Coerce to a factor random variable — as_rvar_factor","text":"objects already rvars, returns (modified dimensions dim NULL), possibly adding levels using unique values draws rvar (object already factor-like). numeric, logical, factor, character vectors arrays, returns rvar_factor rvar_ordered single draw dimensions x. contrast rvar_factor() rvar_ordered() constructors, treats first dimension x draws dimension. result, as_rvar_factor() as_rvar_ordered() useful creating constants.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/as_rvar_factor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Coerce to a factor random variable — as_rvar_factor","text":"","code":"# You can use as_rvar_factor() to create \"constant\" rvars (having only one draw): x <- as_rvar_factor(\"a\") x #> rvar_factor<1>[1] mode <entropy>: #> [1] a <0>  #> 1 levels: a  # Such constants can be of arbitrary shape: as_rvar_factor(letters[1:4]) #> rvar_factor<1>[4] mode <entropy>: #> [1] a <0>  b <0>  c <0>  d <0>  #> 4 levels: a b c d as_rvar_ordered(matrix(letters[1:10], nrow = 5)) #> rvar_ordered<1>[5,2] mode <dissent>: #>      [,1]   [,2]   #> [1,] a <0>  f <0>  #> [2,] b <0>  g <0>  #> [3,] c <0>  h <0>  #> [4,] d <0>  i <0>  #> [5,] e <0>  j <0>  #> 10 levels: a < b < c < d < e < f < g < h < i < j as_rvar_factor(array(letters[1:12], dim = c(2, 3, 2))) #> rvar_factor<1>[2,3,2] mode <entropy>: #> , , 1 #>  #>      [,1]   [,2]   [,3]   #> [1,] a <0>  c <0>  e <0>  #> [2,] b <0>  d <0>  f <0>  #>  #> , , 2 #>  #>      [,1]   [,2]   [,3]   #> [1,] g <0>  i <0>  k <0>  #> [2,] h <0>  j <0>  l <0>  #>  #> 12 levels: a b c d e f g h i j k l"},{"path":"https://mc-stan.org/posterior/dev/reference/autocorrelation.html","id":null,"dir":"Reference","previous_headings":"","what":"Autocorrelation estimates — autocorrelation","title":"Autocorrelation estimates — autocorrelation","text":"Compute autocorrelation estimates every lag specified input sequence using fast Fourier transform approach. estimate lag t scaled N-t N length sequence.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/autocorrelation.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Autocorrelation estimates — autocorrelation","text":"","code":"autocorrelation(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/autocorrelation.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Autocorrelation estimates — autocorrelation","text":"x (numeric vector) sequence values.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/autocorrelation.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Autocorrelation estimates — autocorrelation","text":"numeric vector autocorrelations every lag (scaled N-lag).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/autocovariance.html","id":null,"dir":"Reference","previous_headings":"","what":"Autocovariance estimates — autocovariance","title":"Autocovariance estimates — autocovariance","text":"Compute autocovariance estimates every lag specified input sequence using fast Fourier transform approach. estimate lag t scaled N-t N length sequence.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/autocovariance.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Autocovariance estimates — autocovariance","text":"","code":"autocovariance(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/autocovariance.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Autocovariance estimates — autocovariance","text":"x (numeric vector) sequence values.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/autocovariance.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Autocovariance estimates — autocovariance","text":"numeric vector autocovariances every lag (scaled N-lag).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/bind_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Bind draws objects together — bind_draws","title":"Bind draws objects together — bind_draws","text":"Bind multiple draws objects together form single draws object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/bind_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bind draws objects together — bind_draws","text":"","code":"bind_draws(x, ...)  # S3 method for class 'draws_matrix' bind_draws(x, ..., along = \"variable\")  # S3 method for class 'draws_array' bind_draws(x, ..., along = \"variable\")  # S3 method for class 'draws_df' bind_draws(x, ..., along = \"variable\")  # S3 method for class 'draws_list' bind_draws(x, ..., along = \"variable\")  # S3 method for class 'draws_rvars' bind_draws(x, ..., along = \"variable\")"},{"path":"https://mc-stan.org/posterior/dev/reference/bind_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bind draws objects together — bind_draws","text":"x (draws) draws object. draws format x define format returned draws object. ... (draws) Additional draws objects bind x. along (string) dimension along draws objects bound together. Possible values \"variable\" (default), \"chain\", \"iteration\", \"draw\". options supported input formats.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/bind_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bind draws objects together — bind_draws","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/bind_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bind draws objects together — bind_draws","text":"","code":"x1 <- draws_matrix(alpha = rnorm(5), beta = rnorm(5)) x2 <- draws_matrix(alpha = rnorm(5), beta = rnorm(5)) ndraws(x1) #> [1] 5 ndraws(x2) #> [1] 5 x3 <- bind_draws(x1, x2, along = \"draw\") ndraws(x3) #> [1] 10  x4 <- draws_matrix(theta = rexp(5)) x5 <- bind_draws(x1, x4, along = \"variable\") variables(x5) #> [1] \"alpha\" \"beta\"  \"theta\""},{"path":"https://mc-stan.org/posterior/dev/reference/chol.rvar.html","id":null,"dir":"Reference","previous_headings":"","what":"Cholesky decomposition of random matrix — chol.rvar","title":"Cholesky decomposition of random matrix — chol.rvar","text":"Cholesky decomposition rvar containing matrix.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/chol.rvar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cholesky decomposition of random matrix — chol.rvar","text":"","code":"# S3 method for class 'rvar' chol(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/chol.rvar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cholesky decomposition of random matrix — chol.rvar","text":"x (rvar) 2-dimensional rvar. ... Additional parameters passed chol.tensor()","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/chol.rvar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Cholesky decomposition of random matrix — chol.rvar","text":"rvar containing upper triangular factor Cholesky decomposition, .e., matrix \\(R\\) \\(R'R = x\\).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/diag-rvar-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Matrix diagonals (including for random variables) — diag,rvar-method","title":"Matrix diagonals (including for random variables) — diag,rvar-method","text":"Extract diagonal matrix construct matrix, including random matrices (2-dimensional rvars). Makes base::diag() generic.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/diag-rvar-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Matrix diagonals (including for random variables) — diag,rvar-method","text":"","code":"# S4 method for class 'rvar' diag(x = 1, nrow, ncol, names = TRUE)"},{"path":"https://mc-stan.org/posterior/dev/reference/diag-rvar-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Matrix diagonals (including for random variables) — diag,rvar-method","text":"x (numeric,rvar) matrix, vector, 1D array, missing, 1- 2-dimensional rvar. nrow, ncol optional dimensions result x     matrix. names (x matrix) logical indicating     resulting vector, diagonal x, inherit     names dimnames(x) available.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/diag-rvar-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Matrix diagonals (including for random variables) — diag,rvar-method","text":"rvars, two modes: x matrix-like rvar: returns diagonal vector-like rvar x vector-like rvar: returns matrix-like rvar x diagonal zero -diagonal entries.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/diag-rvar-method.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Matrix diagonals (including for random variables) — diag,rvar-method","text":"Makes base::diag() generic function. See function's documentation usage numerics usage diag<-, also supported rvar.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/diag-rvar-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Matrix diagonals (including for random variables) — diag,rvar-method","text":"","code":"# Sigma is a 3x3 covariance matrix Sigma <- as_draws_rvars(example_draws(\"multi_normal\"))$Sigma Sigma #> rvar<100,4>[3,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.28 ± 0.17   0.53 ± 0.20  -0.40 ± 0.28  #> [2,]  0.53 ± 0.20   3.67 ± 0.45  -2.10 ± 0.48  #> [3,] -0.40 ± 0.28  -2.10 ± 0.48   8.12 ± 0.95   diag(Sigma) #> rvar<100,4>[3] mean ± sd: #> [1] 1.3 ± 0.17  3.7 ± 0.45  8.1 ± 0.95   diag(Sigma) <- 1:3 Sigma #> rvar<100,4>[3,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.00 ± 0.00   0.53 ± 0.20  -0.40 ± 0.28  #> [2,]  0.53 ± 0.20   2.00 ± 0.00  -2.10 ± 0.48  #> [3,] -0.40 ± 0.28  -2.10 ± 0.48   3.00 ± 0.00   diag(as_rvar(1:3)) #> rvar<1>[3,3] mean ± sd: #>      [,1]    [,2]    [,3]    #> [1,] 1 ± NA  0 ± NA  0 ± NA  #> [2,] 0 ± NA  2 ± NA  0 ± NA  #> [3,] 0 ± NA  0 ± NA  3 ± NA"},{"path":"https://mc-stan.org/posterior/dev/reference/diagnostics.html","id":null,"dir":"Reference","previous_headings":"","what":"List of available convergence diagnostics — diagnostics","title":"List of available convergence diagnostics — diagnostics","text":"list available diagnostics links individual help pages.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/diagnostics.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"List of available convergence diagnostics — diagnostics","text":"See individual functions description return types.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/dissent.html","id":null,"dir":"Reference","previous_headings":"","what":"Dissention — dissent","title":"Dissention — dissent","text":"Dissention, measuring dispersion draws ordinal distributions.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/dissent.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Dissention — dissent","text":"","code":"dissent(x)  # Default S3 method dissent(x)  # S3 method for class 'rvar' dissent(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/dissent.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Dissention — dissent","text":"x (multiple options) vector interpreted draws ordinal distribution, : factor numeric (integer integer-like) rvar, rvar_factor, rvar_ordered","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/dissent.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Dissention — dissent","text":"x factor numeric, returns length-1 numeric vector value 0 1 (inclusive) giving dissention x. x rvar, returns array shape x, cell dissention draws corresponding cell x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/dissent.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Dissention — dissent","text":"Calculates Tastle Wierman's (2007) dissention measure: $$-\\sum_{= 1}^{n} p_i \\log_2 \\left(1 - \\frac{|x_i - \\mathrm{E}(x)| }{\\max(x) - \\min(x)} \\right)$$ ranges 0 (probability one category) 0.5 (uniform) 1 (bimodal: probability split equally first last category).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/dissent.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Dissention — dissent","text":"William J. Tastle, Mark J. Wierman (2007). Consensus dissention: measure ordinal dispersion. International Journal Approximate Reasoning. 45(3), 531–545. doi:10.1016/j.ijar.2006.06.024 .","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/dissent.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Dissention — dissent","text":"","code":"set.seed(1234)  levels <- c(\"lowest\", \"low\", \"neutral\", \"high\", \"highest\")  # a bimodal distribution: high dissention x <- ordered(   sample(levels, 4000, replace = TRUE, prob = c(0.45, 0.04, 0.02, 0.04, 0.45)),   levels = levels ) dissent(x) #> [1] 0.9303737  # a unimodal distribution: low dissention y <- ordered(   sample(levels, 4000, replace = TRUE, prob = c(0.95, 0.02, 0.015, 0.01, 0.005)),   levels = levels ) dissent(y) #> [1] 0.1046236  # both together, as an rvar xy <- c(rvar(x), rvar(y)) xy #> rvar_ordered<4000>[2] mode <dissent>: #> [1] highest <0.93>   lowest <0.10>  #> 5 levels: lowest < low < neutral < high < highest dissent(xy) #> [1] 0.9303737 0.1046236"},{"path":"https://mc-stan.org/posterior/dev/reference/draws-index.html","id":null,"dir":"Reference","previous_headings":"","what":"Index draws objects — draws-index","title":"Index draws objects — draws-index","text":"Index iterations, chains, draws draws objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws-index.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Index draws objects — draws-index","text":"","code":"iteration_ids(x)  chain_ids(x)  draw_ids(x)  niterations(x)  nchains(x)  ndraws(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/draws-index.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Index draws objects — draws-index","text":"x (draws) draws object another R object method defined.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws-index.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Index draws objects — draws-index","text":"iteration_ids(), chain_ids(), draw_ids(), integer vector. niterations(), nchains(), ndraws(), scalar integer.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws-index.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Index draws objects — draws-index","text":"methods iteration_ids(), chain_ids(), draw_ids() return vectors iterations, chains, draws, respectively. contrast, methods niterations(), nchains(), ndraws() return number variables, iterations, chains, draws, respectively.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws-index.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Index draws objects — draws-index","text":"","code":"x <- example_draws()  iteration_ids(x) #>   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18 #>  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36 #>  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54 #>  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72 #>  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90 #>  [91]  91  92  93  94  95  96  97  98  99 100 niterations(x) #> [1] 100  chain_ids(x) #> [1] 1 2 3 4 nchains(x) #> [1] 4  draw_ids(x) #>   [1]   1   2   3   4   5   6   7   8   9  10  11  12  13  14  15  16  17  18 #>  [19]  19  20  21  22  23  24  25  26  27  28  29  30  31  32  33  34  35  36 #>  [37]  37  38  39  40  41  42  43  44  45  46  47  48  49  50  51  52  53  54 #>  [55]  55  56  57  58  59  60  61  62  63  64  65  66  67  68  69  70  71  72 #>  [73]  73  74  75  76  77  78  79  80  81  82  83  84  85  86  87  88  89  90 #>  [91]  91  92  93  94  95  96  97  98  99 100 101 102 103 104 105 106 107 108 #> [109] 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 #> [127] 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 #> [145] 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 #> [163] 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 #> [181] 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 #> [199] 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 #> [217] 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 #> [235] 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 #> [253] 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 #> [271] 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 #> [289] 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 #> [307] 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 #> [325] 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 #> [343] 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 #> [361] 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 #> [379] 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 #> [397] 397 398 399 400 ndraws(x) #> [1] 400"},{"path":"https://mc-stan.org/posterior/dev/reference/draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Transform to draws objects — draws","title":"Transform to draws objects — draws","text":"Try transform R object format supported posterior package.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Transform to draws objects — draws","text":"","code":"as_draws(x, ...)  is_draws(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Transform to draws objects — draws","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Transform to draws objects — draws","text":"possible, draws object closest supported format x. formats linked See Also section .","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Transform to draws objects — draws","text":"class \"draws\" parent class supported formats, also subclasses form \"draws_{format}\" (e.g. \"draws_array\").","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Transform to draws objects — draws","text":"","code":"# create some random draws x <- matrix(rnorm(30), nrow = 10) colnames(x) <- c(\"a\", \"b\", \"c\") str(x) #>  num [1:10, 1:3] -0.195 1.916 0.702 0.971 -0.128 ... #>  - attr(*, \"dimnames\")=List of 2 #>   ..$ : NULL #>   ..$ : chr [1:3] \"a\" \"b\" \"c\"  # transform to a draws object y <- as_draws(x) str(y) #>  'draws_matrix' num [1:10, 1:3] -0.195 1.916 0.702 0.971 -0.128 ... #>  - attr(*, \"dimnames\")=List of 2 #>   ..$ draw    : chr [1:10] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ variable: chr [1:3] \"a\" \"b\" \"c\" #>  - attr(*, \"nchains\")= int 1  # remove the draws classes from the object class(y) <- class(y)[-(1:2)] str(y) #>  num [1:10, 1:3] -0.195 1.916 0.702 0.971 -0.128 ... #>  - attr(*, \"dimnames\")=List of 2 #>   ..$ draw    : chr [1:10] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ variable: chr [1:3] \"a\" \"b\" \"c\" #>  - attr(*, \"nchains\")= int 1"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_array.html","id":null,"dir":"Reference","previous_headings":"","what":"The draws_array format — draws_array","title":"The draws_array format — draws_array","text":"as_draws_array() methods convert objects draws_array format. draws_array() function creates object draws_array format based set numeric vectors. See Details.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_array.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The draws_array format — draws_array","text":"","code":"as_draws_array(x, ...)  # Default S3 method as_draws_array(x, ...)  # S3 method for class 'draws_array' as_draws_array(x, ...)  # S3 method for class 'draws_matrix' as_draws_array(x, ...)  # S3 method for class 'draws_df' as_draws_array(x, ...)  # S3 method for class 'draws_list' as_draws_array(x, ...)  # S3 method for class 'draws_rvars' as_draws_array(x, ...)  # S3 method for class 'mcmc' as_draws_array(x, ...)  # S3 method for class 'mcmc.list' as_draws_array(x, ...)  draws_array(..., .nchains = 1)  is_draws_array(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_array.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The draws_array format — draws_array","text":"x object convert draws_array object. ... as_draws_array(): Arguments passed individual methods (applicable). draws_array(): Named arguments containing numeric vectors defining separate variable. .nchains (positive integer) number chains. default 1.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_array.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The draws_array format — draws_array","text":"draws_array object, classes c(\"draws_array\", \"draws\", \"array\").","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_array.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The draws_array format — draws_array","text":"Objects class \"draws_array\" 3-D arrays dimensions \"iteration\", \"chain\", \"variable\". See Examples.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws_array.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The draws_array format — draws_array","text":"","code":"x1 <- as_draws_array(example_draws()) class(x1) #> [1] \"draws_array\" \"draws\"       \"array\"       print(x1) #> # A draws_array: 100 iterations, 4 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration   1    2     3   4 #>         1 2.0  3.0  1.79 6.5 #>         2 1.5  8.2  5.99 9.1 #>         3 5.8 -1.2  2.56 0.2 #>         4 6.8 10.9  2.79 3.7 #>         5 1.8  9.8 -0.03 5.5 #>  #> , , variable = tau #>  #>          chain #> iteration   1    2    3   4 #>         1 2.8 2.80  8.7 3.8 #>         2 7.0 2.76  2.9 6.8 #>         3 9.7 0.57  8.4 5.3 #>         4 4.8 2.45  4.4 1.6 #>         5 2.8 2.80 11.0 3.0 #>  #> , , variable = theta[1] #>  #>          chain #> iteration     1     2    3     4 #>         1  3.96  6.26 13.3  5.78 #>         2  0.12  9.32  6.3  2.09 #>         3 21.25 -0.97 10.6 15.72 #>         4 14.70 12.45  5.4  2.69 #>         5  5.96  9.75  8.2 -0.91 #>  #> , , variable = theta[2] #>  #>          chain #> iteration      1    2   3   4 #>         1  0.271  1.0 2.1 5.0 #>         2 -0.069  9.4 7.3 8.2 #>         3 14.931 -1.2 5.7 6.0 #>         4  8.586 12.5 2.8 2.7 #>         5  1.156 11.9 3.2 3.2 #>  #> # ... with 95 more iterations, and 6 more variables str(x1) #>  'draws_array' num [1:100, 1:4, 1:10] 2.01 1.46 5.81 6.85 1.81 ... #>  - attr(*, \"dimnames\")=List of 3 #>   ..$ iteration: chr [1:100] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ chain    : chr [1:4] \"1\" \"2\" \"3\" \"4\" #>   ..$ variable : chr [1:10] \"mu\" \"tau\" \"theta[1]\" \"theta[2]\" ...  x2 <- draws_array(a = rnorm(10), b = rnorm(10), c = 1) class(x2) #> [1] \"draws_array\" \"draws\"       \"array\"       print(x2) #> # A draws_array: 10 iterations, 1 chains, and 3 variables #> , , variable = a #>  #>          chain #> iteration       1 #>         1  0.1891 #>         2  0.7187 #>         3  0.0078 #>         4  2.4915 #>         5 -0.1703 #>  #> , , variable = b #>  #>          chain #> iteration      1 #>         1 -1.529 #>         2  1.389 #>         3  0.054 #>         4 -0.062 #>         5 -1.014 #>  #> , , variable = c #>  #>          chain #> iteration 1 #>         1 1 #>         2 1 #>         3 1 #>         4 1 #>         5 1 #>  #> # ... with 5 more iterations str(x2) #>  'draws_array' num [1:10, 1, 1:3] 0.18907 0.71868 0.00777 2.49145 -0.17028 ... #>  - attr(*, \"dimnames\")=List of 3 #>   ..$ iteration: chr [1:10] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ chain    : chr \"1\" #>   ..$ variable : chr [1:3] \"a\" \"b\" \"c\""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_df.html","id":null,"dir":"Reference","previous_headings":"","what":"The draws_df format — draws_df","title":"The draws_df format — draws_df","text":"as_draws_df() methods convert objects draws_df format. draws_df() function creates object draws_df format based set numeric vectors. See Details.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The draws_df format — draws_df","text":"","code":"as_draws_df(x, ...)  # Default S3 method as_draws_df(x, ...)  # S3 method for class 'data.frame' as_draws_df(x, ...)  # S3 method for class 'draws_df' as_draws_df(x, ...)  # S3 method for class 'draws_matrix' as_draws_df(x, ...)  # S3 method for class 'draws_array' as_draws_df(x, ...)  # S3 method for class 'draws_list' as_draws_df(x, ...)  # S3 method for class 'draws_rvars' as_draws_df(x, ...)  # S3 method for class 'mcmc' as_draws_df(x, ...)  # S3 method for class 'mcmc.list' as_draws_df(x, ...)  draws_df(..., .nchains = 1)  is_draws_df(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The draws_df format — draws_df","text":"x object convert draws_df object. ... as_draws_df(): Arguments passed individual methods (applicable). draws_df(): Named arguments containing numeric vectors defining separate variable. .nchains (positive integer) number chains. default 1.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The draws_df format — draws_df","text":"draws_df object, classes c(\"draws_df\", \"draws\", class(tibble::tibble())).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_df.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The draws_df format — draws_df","text":"Objects class \"draws_df\" tibble data frames. one column per variable well additional metadata columns \".iteration\", \".chain\", \".draw\". difference \".iteration\" \".draw\" columns former relative MCMC chain latter ignores chain information unique values. See Examples. data.frame-like object supplied as_draws_df contains columns named \".iteration\" \".chain\", treated iteration chain indices, respectively. See Examples.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The draws_df format — draws_df","text":"","code":"x1 <- as_draws_df(example_draws()) class(x1) #> [1] \"draws_df\"   \"draws\"      \"tbl_df\"     \"tbl\"        \"data.frame\" print(x1) #> # A draws_df: 100 iterations, 4 chains, and 10 variables #>      mu tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6] #> 1  2.01 2.8     3.96    0.271    -0.74      2.1    0.923      1.7 #> 2  1.46 7.0     0.12   -0.069     0.95      7.3   -0.062     11.3 #> 3  5.81 9.7    21.25   14.931     1.83      1.4    0.531      7.2 #> 4  6.85 4.8    14.70    8.586     2.67      4.4    4.758      8.1 #> 5  1.81 2.8     5.96    1.156     3.11      2.0    0.769      4.7 #> 6  3.84 4.1     5.76    9.909    -1.00      5.3    5.889     -1.7 #> 7  5.47 4.0     4.03    4.151    10.15      6.6    3.741     -2.2 #> 8  1.20 1.5    -0.28    1.846     0.47      4.3    1.467      3.3 #> 9  0.15 3.9     1.81    0.661     0.86      4.5   -1.025      1.1 #> 10 7.17 1.8     6.08    8.102     7.68      5.6    7.106      8.5 #> # ... with 390 more draws, and 2 more variables #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'} str(x1) #> draws_df [400 × 13] (S3: draws_df/draws/tbl_df/tbl/data.frame) #>  $ mu        : num [1:400] 2.01 1.46 5.81 6.85 1.81 ... #>  $ tau       : num [1:400] 2.77 6.98 9.68 4.79 2.85 ... #>  $ theta[1]  : num [1:400] 3.962 0.124 21.251 14.7 5.96 ... #>  $ theta[2]  : num [1:400] 0.271 -0.069 14.931 8.586 1.156 ... #>  $ theta[3]  : num [1:400] -0.743 0.952 1.829 2.675 3.109 ... #>  $ theta[4]  : num [1:400] 2.1 7.28 1.38 4.39 1.99 ... #>  $ theta[5]  : num [1:400] 0.923 -0.062 0.531 4.758 0.769 ... #>  $ theta[6]  : num [1:400] 1.65 11.26 7.16 8.1 4.66 ... #>  $ theta[7]  : num [1:400] 3.32 9.62 14.8 9.49 1.21 ... #>  $ theta[8]  : num [1:400] 4.85 -8.64 -1.74 5.28 -4.54 ... #>  $ .chain    : int [1:400] 1 1 1 1 1 1 1 1 1 1 ... #>  $ .iteration: int [1:400] 1 2 3 4 5 6 7 8 9 10 ... #>  $ .draw     : int [1:400] 1 2 3 4 5 6 7 8 9 10 ...  x2 <- draws_df(a = rnorm(10), b = rnorm(10), c = 1) class(x2) #> [1] \"draws_df\"   \"draws\"      \"tbl_df\"     \"tbl\"        \"data.frame\" print(x2) #> # A draws_df: 10 iterations, 1 chains, and 3 variables #>         a      b c #> 1  -0.666 -0.034 1 #> 2  -0.693  0.680 1 #> 3  -0.535  0.010 1 #> 4   0.130  1.754 1 #> 5   0.212 -0.676 1 #> 6   0.119  0.601 1 #> 7   1.522  1.057 1 #> 8   0.006 -0.589 1 #> 9   0.438 -0.520 1 #> 10  0.327  0.705 1 #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'} str(x2) #> draws_df [10 × 6] (S3: draws_df/draws/tbl_df/tbl/data.frame) #>  $ a         : num [1:10] -0.666 -0.693 -0.535 0.13 0.212 ... #>  $ b         : num [1:10] -0.0341 0.6796 0.0103 1.7538 -0.6757 ... #>  $ c         : num [1:10] 1 1 1 1 1 1 1 1 1 1 #>  $ .chain    : int [1:10] 1 1 1 1 1 1 1 1 1 1 #>  $ .iteration: int [1:10] 1 2 3 4 5 6 7 8 9 10 #>  $ .draw     : int [1:10] 1 2 3 4 5 6 7 8 9 10  # the difference between iteration and draw is clearer when contrasting # the head and tail of the data frame print(head(x1), reserved = TRUE, max_variables = 2) #> # A draws_df: 6 iterations, 1 chains, and 10 variables #>    mu tau .chain .iteration .draw #> 1 2.0 2.8      1          1     1 #> 2 1.5 7.0      1          2     2 #> 3 5.8 9.7      1          3     3 #> 4 6.8 4.8      1          4     4 #> 5 1.8 2.8      1          5     5 #> 6 3.8 4.1      1          6     6 #> # ... with 8 more variables print(tail(x1), reserved = TRUE, max_variables = 2) #> # A draws_df: 6 iterations, 1 chains, and 10 variables #>     mu tau .chain .iteration .draw #> 1 5.69 2.2      4         95   395 #> 2 3.28 3.3      4         96   396 #> 3 5.04 3.6      4         97   397 #> 4 2.73 6.8      4         98   398 #> 5 0.48 1.8      4         99   399 #> 6 7.05 4.8      4        100   400 #> # ... with 8 more variables  # manually supply chain information xnew <- data.frame(mu = rnorm(10), .chain = rep(1:2, each = 5)) xnew <- as_draws_df(xnew) print(xnew) #> # A draws_df: 5 iterations, 2 chains, and 1 variables #>       mu #> 1  -0.10 #> 2  -0.77 #> 3   1.29 #> 4  -1.36 #> 5  -0.34 #> 6   0.24 #> 7  -2.07 #> 8   0.73 #> 9   0.66 #> 10  0.51 #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_list.html","id":null,"dir":"Reference","previous_headings":"","what":"The draws_list format — draws_list","title":"The draws_list format — draws_list","text":"as_draws_list() methods convert objects draws_list format. draws_list() function creates object draws_list format based set numeric vectors. See Details.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The draws_list format — draws_list","text":"","code":"as_draws_list(x, ...)  # Default S3 method as_draws_list(x, ...)  # S3 method for class 'draws_list' as_draws_list(x, ...)  # S3 method for class 'draws_matrix' as_draws_list(x, ...)  # S3 method for class 'draws_array' as_draws_list(x, ...)  # S3 method for class 'draws_df' as_draws_list(x, ...)  # S3 method for class 'draws_rvars' as_draws_list(x, ...)  # S3 method for class 'mcmc' as_draws_list(x, ...)  # S3 method for class 'mcmc.list' as_draws_list(x, ...)  draws_list(..., .nchains = 1)  is_draws_list(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The draws_list format — draws_list","text":"x object convert draws_list object. ... as_draws_list(): Arguments passed individual methods (applicable). draws_list(): Named arguments containing numeric vectors defining separate variable. .nchains (positive integer) number chains. default 1.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The draws_list format — draws_list","text":"draws_list object, classes c(\"draws_list\", \"draws\", \"list\").","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_list.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The draws_list format — draws_list","text":"Objects class \"draws_list\" lists one element per MCMC chain. elements named list numeric vectors one vector per variable. length vector equal number saved iterations per chain. See Examples.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The draws_list format — draws_list","text":"","code":"x1 <- as_draws_list(example_draws()) class(x1) #> [1] \"draws_list\" \"draws\"      \"list\"       print(x1) #> # A draws_list: 100 iterations, 4 chains, and 10 variables #>  #> [chain = 1] #> $mu #>  [1] 2.01 1.46 5.81 6.85 1.81 3.84 5.47 1.20 0.15 7.17 #>  #> $tau #>  [1] 2.8 7.0 9.7 4.8 2.8 4.1 4.0 1.5 3.9 1.8 #>  #> $`theta[1]` #>  [1]  3.96  0.12 21.25 14.70  5.96  5.76  4.03 -0.28  1.81  6.08 #>  #> $`theta[2]` #>  [1]  0.271 -0.069 14.931  8.586  1.156  9.909  4.151  1.846  0.661  8.102 #>  #>  #> [chain = 2] #> $mu #>  [1]   2.99   8.17  -1.15  10.93   9.82 -10.90  -9.26   1.79   5.35   0.87 #>  #> $tau #>  [1] 2.80 2.76 0.57 2.45 2.80 6.08 9.33 6.81 2.82 6.69 #>  #> $`theta[1]` #>  [1]  6.26  9.32 -0.97 12.45  9.75  2.56 11.92  9.89  4.31  9.26 #>  #> $`theta[2]` #>  [1]  1.0  9.4 -1.2 12.5 11.9 -8.8 -6.1 11.6  2.8  8.4 #>  #> # ... with 90 more iterations, and 2 more chains, and 6 more variables str(x1) #> List of 4 #>  $ 1:List of 10 #>   ..$ mu      : num [1:100] 2.01 1.46 5.81 6.85 1.81 ... #>   ..$ tau     : num [1:100] 2.77 6.98 9.68 4.79 2.85 ... #>   ..$ theta[1]: num [1:100] 3.962 0.124 21.251 14.7 5.96 ... #>   ..$ theta[2]: num [1:100] 0.271 -0.069 14.931 8.586 1.156 ... #>   ..$ theta[3]: num [1:100] -0.743 0.952 1.829 2.675 3.109 ... #>   ..$ theta[4]: num [1:100] 2.1 7.28 1.38 4.39 1.99 ... #>   ..$ theta[5]: num [1:100] 0.923 -0.062 0.531 4.758 0.769 ... #>   ..$ theta[6]: num [1:100] 1.65 11.26 7.16 8.1 4.66 ... #>   ..$ theta[7]: num [1:100] 3.32 9.62 14.8 9.49 1.21 ... #>   ..$ theta[8]: num [1:100] 4.85 -8.64 -1.74 5.28 -4.54 ... #>  $ 2:List of 10 #>   ..$ mu      : num [1:100] 2.99 8.17 -1.15 10.93 9.82 ... #>   ..$ tau     : num [1:100] 2.804 2.757 0.569 2.453 2.798 ... #>   ..$ theta[1]: num [1:100] 6.259 9.321 -0.972 12.455 9.751 ... #>   ..$ theta[2]: num [1:100] 1.03 9.36 -1.19 12.53 11.94 ... #>   ..$ theta[3]: num [1:100] 0.218 9.685 -1.373 11.155 12.718 ... #>   ..$ theta[4]: num [1:100] -0.734 8.11 -0.794 10.476 9.698 ... #>   ..$ theta[5]: num [1:100] 4.06 6.72 -0.787 10.595 9.946 ... #>   ..$ theta[6]: num [1:100] 3.34 7.4 -1.18 10.51 8.35 ... #>   ..$ theta[7]: num [1:100] 3.15 11.39 -1.43 15.54 12.91 ... #>   ..$ theta[8]: num [1:100] -0.443 12.359 -1.775 14.45 15.171 ... #>  $ 3:List of 10 #>   ..$ mu      : num [1:100] 1.7944 5.9864 2.5572 2.7944 -0.0296 ... #>   ..$ tau     : num [1:100] 8.72 2.91 8.41 4.39 11.03 ... #>   ..$ theta[1]: num [1:100] 13.32 6.31 10.56 5.37 8.2 ... #>   ..$ theta[2]: num [1:100] 2.11 7.31 5.7 2.8 3.15 ... #>   ..$ theta[3]: num [1:100] 1.38 4.11 -8.27 -10.77 -27.78 ... #>   ..$ theta[4]: num [1:100] 7.82 4.7 6.8 6.8 12.32 ... #>   ..$ theta[5]: num [1:100] -1.5 6.96 -3.15 -4.81 -14.91 ... #>   ..$ theta[6]: num [1:100] 12.744 0.877 5.435 3.67 -0.246 ... #>   ..$ theta[7]: num [1:100] 9.37 6.11 15.37 3.17 7.81 ... #>   ..$ theta[8]: num [1:100] 11.98 2.26 4.27 2.91 3.52 ... #>  $ 4:List of 10 #>   ..$ mu      : num [1:100] 6.459 9.145 0.203 3.693 5.48 ... #>   ..$ tau     : num [1:100] 3.77 6.84 5.32 1.55 3 ... #>   ..$ theta[1]: num [1:100] 5.776 2.086 15.719 2.689 -0.906 ... #>   ..$ theta[2]: num [1:100] 4.96 8.19 6.04 2.67 3.19 ... #>   ..$ theta[3]: num [1:100] 5.69 3.47 3.13 3.16 2.55 ... #>   ..$ theta[4]: num [1:100] 4.84 7.78 6.06 7.92 11.27 ... #>   ..$ theta[5]: num [1:100] 2.74 6.15 3.73 3.34 3.98 ... #>   ..$ theta[6]: num [1:100] 0.607 1.227 1.538 0.26 -1.121 ... #>   ..$ theta[7]: num [1:100] 9.54 10.12 7.11 2.11 7.31 ... #>   ..$ theta[8]: num [1:100] 3.252 4.728 0.182 4.755 7.523 ... #>  - attr(*, \"class\")= chr [1:3] \"draws_list\" \"draws\" \"list\"  x2 <- draws_list(a = rnorm(10), b = rnorm(10), c = 1) class(x2) #> [1] \"draws_list\" \"draws\"      \"list\"       print(x2) #> # A draws_list: 10 iterations, 1 chains, and 3 variables #>  #> [chain = 1] #> $a #>  [1]  1.121  0.567  0.607  1.594 -0.174  1.730 -0.292  0.921  0.469 -0.089 #>  #> $b #>  [1] -0.456 -0.245 -0.995  0.260  0.434  2.030 -0.760 -0.055 -0.941 -0.716 #>  #> $c #>  [1] 1 1 1 1 1 1 1 1 1 1 #>  str(x2) #> List of 1 #>  $ 1:List of 3 #>   ..$ a: num [1:10] 1.121 0.567 0.607 1.594 -0.174 ... #>   ..$ b: num [1:10] -0.456 -0.245 -0.995 0.26 0.434 ... #>   ..$ c: num [1:10] 1 1 1 1 1 1 1 1 1 1 #>  - attr(*, \"class\")= chr [1:3] \"draws_list\" \"draws\" \"list\""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"The draws_matrix format — draws_matrix","title":"The draws_matrix format — draws_matrix","text":"as_draws_matrix() methods convert objects draws_matrix format. draws_matrix() function creates object draws_matrix format based set numeric vectors. See Details.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The draws_matrix format — draws_matrix","text":"","code":"as_draws_matrix(x, ...)  # Default S3 method as_draws_matrix(x, ...)  # S3 method for class 'draws_matrix' as_draws_matrix(x, ...)  # S3 method for class 'draws_array' as_draws_matrix(x, ...)  # S3 method for class 'draws_df' as_draws_matrix(x, ...)  # S3 method for class 'draws_list' as_draws_matrix(x, ...)  # S3 method for class 'draws_rvars' as_draws_matrix(x, ...)  # S3 method for class 'mcmc' as_draws_matrix(x, ...)  # S3 method for class 'mcmc.list' as_draws_matrix(x, ...)  draws_matrix(..., .nchains = 1)  is_draws_matrix(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The draws_matrix format — draws_matrix","text":"x object convert draws_matrix object. ... as_draws_matrix(): Arguments passed individual methods (applicable). draws_matrix(): Named arguments containing numeric vectors defining separate variable. .nchains (positive integer) number chains. default 1.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The draws_matrix format — draws_matrix","text":"draws_matrix object, classes c(\"draws_matrix\", \"draws\", \"matrix\").","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_matrix.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The draws_matrix format — draws_matrix","text":"Objects class \"draws_matrix\" matrices (2-D arrays) dimensions \"draw\" \"variable\". See Examples.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The draws_matrix format — draws_matrix","text":"","code":"x1 <- as_draws_matrix(example_draws()) class(x1) #> [1] \"draws_matrix\" \"draws\"        \"matrix\"       print(x1) #> # A draws_matrix: 100 iterations, 4 chains, and 10 variables #>     variable #> draw   mu tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6] #>   1  2.01 2.8     3.96    0.271    -0.74      2.1    0.923      1.7 #>   2  1.46 7.0     0.12   -0.069     0.95      7.3   -0.062     11.3 #>   3  5.81 9.7    21.25   14.931     1.83      1.4    0.531      7.2 #>   4  6.85 4.8    14.70    8.586     2.67      4.4    4.758      8.1 #>   5  1.81 2.8     5.96    1.156     3.11      2.0    0.769      4.7 #>   6  3.84 4.1     5.76    9.909    -1.00      5.3    5.889     -1.7 #>   7  5.47 4.0     4.03    4.151    10.15      6.6    3.741     -2.2 #>   8  1.20 1.5    -0.28    1.846     0.47      4.3    1.467      3.3 #>   9  0.15 3.9     1.81    0.661     0.86      4.5   -1.025      1.1 #>   10 7.17 1.8     6.08    8.102     7.68      5.6    7.106      8.5 #> # ... with 390 more draws, and 2 more variables str(x1) #>  'draws_matrix' num [1:400, 1:10] 2.01 1.46 5.81 6.85 1.81 ... #>  - attr(*, \"dimnames\")=List of 2 #>   ..$ draw    : chr [1:400] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ variable: chr [1:10] \"mu\" \"tau\" \"theta[1]\" \"theta[2]\" ... #>  - attr(*, \"nchains\")= int 4  x2 <- draws_matrix(a = rnorm(10), b = rnorm(10), c = 1) class(x2) #> [1] \"draws_matrix\" \"draws\"        \"matrix\"       print(x2) #> # A draws_matrix: 10 iterations, 1 chains, and 3 variables #>     variable #> draw     a     b c #>   1  -0.29 -2.11 1 #>   2   2.17  0.87 1 #>   3   1.02 -0.84 1 #>   4   0.80  0.82 1 #>   5  -0.81  0.49 1 #>   6   1.88  0.42 1 #>   7   2.01  0.65 1 #>   8  -0.84  0.79 1 #>   9   0.21  0.36 1 #>   10  0.25 -0.87 1 str(x2) #>  'draws_matrix' num [1:10, 1:3] -0.291 2.174 1.018 0.803 -0.805 ... #>  - attr(*, \"dimnames\")=List of 2 #>   ..$ draw    : chr [1:10] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ variable: chr [1:3] \"a\" \"b\" \"c\" #>  - attr(*, \"nchains\")= int 1"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_of.html","id":null,"dir":"Reference","previous_headings":"","what":"Get/set array of draws underlying a random variable — draws_of","title":"Get/set array of draws underlying a random variable — draws_of","text":"Gets/sets array-representation backs rvar. used rarely.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_of.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get/set array of draws underlying a random variable — draws_of","text":"","code":"draws_of(x, with_chains = FALSE)  draws_of(x, with_chains = FALSE) <- value"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_of.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get/set array of draws underlying a random variable — draws_of","text":"x (rvar) rvar object. with_chains (logical) array draws include dimension chains? FALSE (default), chains included array dimension c(ndraws(x), dim(x)). TRUE, chains included array dimension c(niterations(x), nchains(x), dim(x)). value (array) array values use backing array x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_of.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get/set array of draws underlying a random variable — draws_of","text":"with_chains = FALSE, array dimensions c(ndraws(x), dim(x)). with_chains = TRUE, array dimensions c(niterations(x), nchains(x), dim(x)).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_of.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get/set array of draws underlying a random variable — draws_of","text":"rvars implement fast versions basic math operations (including matrix multiplication), sometimes may need bypass rvar abstraction need efficiently. draws_of() allows get / set underlying array draws order . rvars represent draws internally using arrays arbitrary dimension, returned draws_of(x) can set using draws_of(x) <- value. first dimension arrays index draws. with_chains = TRUE, dimensions returned array modified first dimension index iterations second dimension index chains.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_of.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get/set array of draws underlying a random variable — draws_of","text":"","code":"x <- rvar(1:10, nchains = 2) x #> rvar<5,2>[1] mean ± sd: #> [1] 5.5 ± 3   # draws_of() without arguments will return the array of draws without # chain information (first dimension is draw) draws_of(x) #>    [,1] #> 1     1 #> 2     2 #> 3     3 #> 4     4 #> 5     5 #> 6     6 #> 7     7 #> 8     8 #> 9     9 #> 10   10  # draws_of() with with_chains = TRUE will reshape the returned array to # include chain information in the second dimension draws_of(x, with_chains = TRUE) #> , , 1 #>  #>      [,1] [,2] #> [1,]    1    6 #> [2,]    2    7 #> [3,]    3    8 #> [4,]    4    9 #> [5,]    5   10 #>   # you can also set draws using draws_of(). When with_chains = FALSE the # existing chain information will be retained ... draws_of(x) <- 2:11 x #> rvar<5,2>[1] mean ± sd: #> [1] 6.5 ± 3   # when with_chains = TRUE the chain information will be set by the # second dimension of the assigned array draws_of(x, with_chains = TRUE) <- array(2:11, dim = c(2,5)) x #> rvar<2,5>[1] mean ± sd: #> [1] 6.5 ± 3"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_rvars.html","id":null,"dir":"Reference","previous_headings":"","what":"The draws_rvars format — draws_rvars","title":"The draws_rvars format — draws_rvars","text":"as_draws_rvars() methods convert objects draws_rvars format. draws_rvars() function creates object draws_rvars format based set numeric vectors. See Details.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_rvars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The draws_rvars format — draws_rvars","text":"","code":"as_draws_rvars(x, ...)  # Default S3 method as_draws_rvars(x, ...)  # S3 method for class 'draws_rvars' as_draws_rvars(x, ...)  # S3 method for class 'list' as_draws_rvars(x, ...)  # S3 method for class 'draws_matrix' as_draws_rvars(x, ...)  # S3 method for class 'draws_array' as_draws_rvars(x, ...)  # S3 method for class 'draws_df' as_draws_rvars(x, ...)  # S3 method for class 'draws_list' as_draws_rvars(x, ...)  # S3 method for class 'mcmc' as_draws_rvars(x, ...)  # S3 method for class 'mcmc.list' as_draws_rvars(x, ...)  draws_rvars(..., .nchains = 1)  is_draws_rvars(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_rvars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"The draws_rvars format — draws_rvars","text":"x object convert draws_rvars object. ... as_draws_rvars(): Arguments passed individual methods (applicable). draws_rvars(): Named arguments containing numeric vectors defining separate variable. .nchains (positive integer) number chains. default 1.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_rvars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"The draws_rvars format — draws_rvars","text":"draws_rvars object, classes c(\"draws_rvars\", \"draws\", \"list\").","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_rvars.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"The draws_rvars format — draws_rvars","text":"Objects class \"draws_rvars\" lists rvar objects. See Examples.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws_rvars.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"The draws_rvars format — draws_rvars","text":"","code":"x1 <- as_draws_rvars(example_draws()) class(x1) #> [1] \"draws_rvars\" \"draws\"       \"list\"        print(x1) #> # A draws_rvars: 100 iterations, 4 chains, and 3 variables #> $mu: rvar<100,4>[1] mean ± sd: #> [1] 4.2 ± 3.4  #>  #> $tau: rvar<100,4>[1] mean ± sd: #> [1] 4.2 ± 3.6  #>  #> $theta: rvar<100,4>[8] mean ± sd: #> [1] 6.7 ± 6.3  5.3 ± 4.6  3.0 ± 6.8  4.9 ± 4.9  3.2 ± 5.1  4.0 ± 5.2  6.5 ± 5.3  #> [8] 4.6 ± 5.3  #>  str(x1) #> List of 3 #>  $ mu   : rvar<100,4>[1]  4.2 ± 3.4 #>  $ tau  : rvar<100,4>[1]  4.2 ± 3.6 #>  $ theta: rvar<100,4>[8]  6.7 ± 6.3  5.3 ± 4.6  3.0 ± 6.8  4.9 ± 4.9 ... #>  - attr(*, \"class\")= chr [1:3] \"draws_rvars\" \"draws\" \"list\"  x2 <- draws_rvars(a = rnorm(10), b = rnorm(10), c = 1) class(x2) #> [1] \"draws_rvars\" \"draws\"       \"list\"        print(x2) #> # A draws_rvars: 10 iterations, 1 chains, and 3 variables #> $a: rvar<10>[1] mean ± sd: #> [1] 0.42 ± 1.2  #>  #> $b: rvar<10>[1] mean ± sd: #> [1] -0.17 ± 0.93  #>  #> $c: rvar<10>[1] mean ± sd: #> [1] 1 ± 0  #>  str(x2) #> List of 3 #>  $ a: rvar<10>[1]  0.42 ± 1.2 #>  $ b: rvar<10>[1]  -0.17 ± 0.93 #>  $ c: rvar<10>[1]  1 ± 0 #>  - attr(*, \"class\")= chr [1:3] \"draws_rvars\" \"draws\" \"list\""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Summaries of draws objects — draws_summary","title":"Summaries of draws objects — draws_summary","text":"summarise_draws() (summarize_draws()) methods provide quick way get table summary statistics diagnostics. methods convert object draws object already. convenience, summary() method draws rvar objects also provided alias summarise_draws() input object draws rvar object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summaries of draws objects — draws_summary","text":"","code":"summarise_draws(.x, ...)  summarize_draws(.x, ...)  # S3 method for class 'draws' summarise_draws(   .x,   ...,   .args = list(),   .num_args = getOption(\"posterior.num_args\", list()),   .cores = 1 )  # S3 method for class 'draws' summary(object, ...)  # S3 method for class 'rvar' summarise_draws(.x, ...)  # S3 method for class 'rvar' summary(object, ...)  default_summary_measures()  default_convergence_measures()  default_mcse_measures()"},{"path":"https://mc-stan.org/posterior/dev/reference/draws_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summaries of draws objects — draws_summary","text":".x, object (draws) draws object one coercible draws object. ... Name-value pairs summary diagnostic functions. provided names used names columns result unless function returns named vector, case latter names used. functions can specified format supported as_function(). See Examples. .args (named list) Optional arguments passed summary functions. .num_args (named list) Optional arguments passed num() pretty printing summaries. Can controlled globally via posterior.num_args option. .cores (positive integer) number cores use computing summaries different variables parallel. Coerced integer possible, otherwise errors. default .cores = 1, case parallelization implemented. default, socket cluster used Windows forks otherwise.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summaries of draws objects — draws_summary","text":"summarise_draws() methods return tibble data frame. first column (\"variable\") contains variable names remaining columns contain summary statistics diagnostics. functions default_summary_measures(), default_convergence_measures(), default_mcse_measures() return character vectors names default measures.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/draws_summary.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summaries of draws objects — draws_summary","text":"default summary functions used ones specified default_summary_measures() default_convergence_measures(): default_summary_measures() mean() median() sd() mad() quantile2() default_convergence_measures() rhat() ess_bulk() ess_tail() var() function used compute variances due inconsistent behavior matrices. Instead, please use distributional::variance().","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/draws_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summaries of draws objects — draws_summary","text":"","code":"x <- example_draws(\"eight_schools\") class(x) #> [1] \"draws_array\" \"draws\"       \"array\"       str(x) #>  'draws_array' num [1:100, 1:4, 1:10] 2.01 1.46 5.81 6.85 1.81 ... #>  - attr(*, \"dimnames\")=List of 3 #>   ..$ iteration: chr [1:100] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ chain    : chr [1:4] \"1\" \"2\" \"3\" \"4\" #>   ..$ variable : chr [1:10] \"mu\" \"tau\" \"theta[1]\" \"theta[2]\" ...  summarise_draws(x) #> # A tibble: 10 × 10 #>    variable  mean median    sd   mad      q5   q95  rhat ess_bulk ess_tail #>    <chr>    <dbl>  <dbl> <dbl> <dbl>   <dbl> <dbl> <dbl>    <dbl>    <dbl> #>  1 mu        4.18   4.16  3.40  3.57  -0.854  9.39  1.02     558.     322. #>  2 tau       4.16   3.07  3.58  2.89   0.309 11.0   1.01     246.     202. #>  3 theta[1]  6.75   5.97  6.30  4.87  -1.23  18.9   1.01     400.     254. #>  4 theta[2]  5.25   5.13  4.63  4.25  -1.97  12.5   1.02     564.     372. #>  5 theta[3]  3.04   3.99  6.80  4.94 -10.3   11.9   1.01     312.     205. #>  6 theta[4]  4.86   4.99  4.92  4.51  -3.57  12.2   1.02     695.     252. #>  7 theta[5]  3.22   3.72  5.08  4.38  -5.93  10.8   1.01     523.     306. #>  8 theta[6]  3.99   4.14  5.16  4.81  -4.32  11.5   1.02     548.     205. #>  9 theta[7]  6.50   5.90  5.26  4.54  -1.19  15.4   1.00     434.     308. #> 10 theta[8]  4.57   4.64  5.25  4.89  -3.79  12.2   1.02     355.     146. summarise_draws(x, \"mean\", \"median\") #> # A tibble: 10 × 3 #>    variable  mean median #>    <chr>    <dbl>  <dbl> #>  1 mu        4.18   4.16 #>  2 tau       4.16   3.07 #>  3 theta[1]  6.75   5.97 #>  4 theta[2]  5.25   5.13 #>  5 theta[3]  3.04   3.99 #>  6 theta[4]  4.86   4.99 #>  7 theta[5]  3.22   3.72 #>  8 theta[6]  3.99   4.14 #>  9 theta[7]  6.50   5.90 #> 10 theta[8]  4.57   4.64 summarise_draws(x, mean, mcse = mcse_mean) #> # A tibble: 10 × 3 #>    variable  mean  mcse #>    <chr>    <dbl> <dbl> #>  1 mu        4.18 0.150 #>  2 tau       4.16 0.213 #>  3 theta[1]  6.75 0.319 #>  4 theta[2]  5.25 0.202 #>  5 theta[3]  3.04 0.447 #>  6 theta[4]  4.86 0.189 #>  7 theta[5]  3.22 0.232 #>  8 theta[6]  3.99 0.222 #>  9 theta[7]  6.50 0.250 #> 10 theta[8]  4.57 0.273 summarise_draws(x, ~quantile(.x, probs = c(0.4, 0.6))) #> # A tibble: 10 × 3 #>    variable `40%` `60%` #>    <chr>    <dbl> <dbl> #>  1 mu        3.41  5.35 #>  2 tau       2.47  3.96 #>  3 theta[1]  4.95  7.01 #>  4 theta[2]  4.32  6.13 #>  5 theta[3]  2.54  5.33 #>  6 theta[4]  3.78  6.11 #>  7 theta[5]  2.69  4.69 #>  8 theta[6]  2.92  5.47 #>  9 theta[7]  4.81  7.33 #> 10 theta[8]  3.50  5.92  # using default_*_meaures() summarise_draws(x, default_summary_measures()) #> # A tibble: 10 × 7 #>    variable  mean median    sd   mad      q5   q95 #>    <chr>    <dbl>  <dbl> <dbl> <dbl>   <dbl> <dbl> #>  1 mu        4.18   4.16  3.40  3.57  -0.854  9.39 #>  2 tau       4.16   3.07  3.58  2.89   0.309 11.0  #>  3 theta[1]  6.75   5.97  6.30  4.87  -1.23  18.9  #>  4 theta[2]  5.25   5.13  4.63  4.25  -1.97  12.5  #>  5 theta[3]  3.04   3.99  6.80  4.94 -10.3   11.9  #>  6 theta[4]  4.86   4.99  4.92  4.51  -3.57  12.2  #>  7 theta[5]  3.22   3.72  5.08  4.38  -5.93  10.8  #>  8 theta[6]  3.99   4.14  5.16  4.81  -4.32  11.5  #>  9 theta[7]  6.50   5.90  5.26  4.54  -1.19  15.4  #> 10 theta[8]  4.57   4.64  5.25  4.89  -3.79  12.2  summarise_draws(x, default_convergence_measures()) #> # A tibble: 10 × 4 #>    variable  rhat ess_bulk ess_tail #>    <chr>    <dbl>    <dbl>    <dbl> #>  1 mu        1.02     558.     322. #>  2 tau       1.01     246.     202. #>  3 theta[1]  1.01     400.     254. #>  4 theta[2]  1.02     564.     372. #>  5 theta[3]  1.01     312.     205. #>  6 theta[4]  1.02     695.     252. #>  7 theta[5]  1.01     523.     306. #>  8 theta[6]  1.02     548.     205. #>  9 theta[7]  1.00     434.     308. #> 10 theta[8]  1.02     355.     146. summarise_draws(x, default_mcse_measures()) #> # A tibble: 10 × 6 #>    variable mcse_mean mcse_median mcse_sd mcse_q5 mcse_q95 #>    <chr>        <dbl>       <dbl>   <dbl>   <dbl>    <dbl> #>  1 mu           0.150       0.319   0.249   0.551    0.415 #>  2 tau          0.213       0.250   0.236   0.114    0.964 #>  3 theta[1]     0.319       0.262   0.327   0.820    1.36  #>  4 theta[2]     0.202       0.213   0.273   0.676    0.848 #>  5 theta[3]     0.447       0.346   0.611   2.18     0.623 #>  6 theta[4]     0.189       0.287   0.251   0.956    0.449 #>  7 theta[5]     0.232       0.139   0.328   1.62     0.736 #>  8 theta[6]     0.222       0.421   0.365   1.16     0.432 #>  9 theta[7]     0.250       0.270   0.260   0.458    0.622 #> 10 theta[8]     0.273       0.372   0.322   0.997    1.29   # compute variance of variables summarise_draws(x, var = distributional::variance) #> # A tibble: 10 × 2 #>    variable   var #>    <chr>    <dbl> #>  1 mu        11.6 #>  2 tau       12.8 #>  3 theta[1]  39.7 #>  4 theta[2]  21.5 #>  5 theta[3]  46.2 #>  6 theta[4]  24.2 #>  7 theta[5]  25.9 #>  8 theta[6]  26.6 #>  9 theta[7]  27.7 #> 10 theta[8]  27.6  # illustrate use of '.args' ws <- rexp(ndraws(x)) summarise_draws(x, weighted.mean, .args = list(w = ws)) #> # A tibble: 10 × 2 #>    variable weighted.mean #>    <chr>            <dbl> #>  1 mu                4.37 #>  2 tau               3.93 #>  3 theta[1]          6.56 #>  4 theta[2]          5.17 #>  5 theta[3]          3.01 #>  6 theta[4]          5.00 #>  7 theta[5]          3.42 #>  8 theta[6]          4.08 #>  9 theta[7]          6.35 #> 10 theta[8]          4.82  # adjust how numerical summaries are printed summarise_draws(x, .num_args = list(sigfig = 2, notation = \"dec\")) #> # A tibble: 10 × 10 #>    variable  mean median    sd   mad     q5   q95  rhat ess_bulk ess_tail #>    <chr>    <dbl>  <dbl> <dbl> <dbl>  <dbl> <dbl> <dbl>    <dbl>    <dbl> #>  1 mu         4.2    4.2   3.4   3.6  -0.85   9.4   1.0     558.     322. #>  2 tau        4.2    3.1   3.6   2.9   0.31  11.    1.0     246.     202. #>  3 theta[1]   6.7    6.0   6.3   4.9  -1.2   19.    1.0     400.     254. #>  4 theta[2]   5.3    5.1   4.6   4.3  -2.0   13.    1.0     564.     372. #>  5 theta[3]   3.0    4.0   6.8   4.9 -10.    12.    1.0     312.     205. #>  6 theta[4]   4.9    5.0   4.9   4.5  -3.6   12.    1.0     695.     252. #>  7 theta[5]   3.2    3.7   5.1   4.4  -5.9   11.    1.0     523.     306. #>  8 theta[6]   4.0    4.1   5.2   4.8  -4.3   12.    1.0     548.     205. #>  9 theta[7]   6.5    5.9   5.3   4.5  -1.2   15.    1.0     434.     308. #> 10 theta[8]   4.6    4.6   5.3   4.9  -3.8   12.    1.0     355.     146."},{"path":"https://mc-stan.org/posterior/dev/reference/drop-rvar-method.html","id":null,"dir":"Reference","previous_headings":"","what":"Drop redundant dimensions — drop,rvar-method","title":"Drop redundant dimensions — drop,rvar-method","text":"Delete dimensions rvar size one. See base::drop()","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/drop-rvar-method.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Drop redundant dimensions — drop,rvar-method","text":"","code":"# S4 method for class 'rvar' drop(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/drop-rvar-method.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Drop redundant dimensions — drop,rvar-method","text":"x (rvar) rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/drop-rvar-method.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Drop redundant dimensions — drop,rvar-method","text":"rvar length x, entry equal 1 dim(x) removed. exception dim(x) == 1, case dim(drop(x)) == 1 well (rvars, unlike numerics, never NULL dimensions).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/drop-rvar-method.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Drop redundant dimensions — drop,rvar-method","text":"","code":"# Sigma is a 3x3 covariance matrix Sigma <- as_draws_rvars(example_draws(\"multi_normal\"))$Sigma Sigma #> rvar<100,4>[3,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.28 ± 0.17   0.53 ± 0.20  -0.40 ± 0.28  #> [2,]  0.53 ± 0.20   3.67 ± 0.45  -2.10 ± 0.48  #> [3,] -0.40 ± 0.28  -2.10 ± 0.48   8.12 ± 0.95   Sigma[1, ] #> rvar<100,4>[1,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.28 ± 0.17   0.53 ± 0.20  -0.40 ± 0.28   drop(Sigma[1, ]) #> rvar<100,4>[3] mean ± sd: #> [1]  1.28 ± 0.17   0.53 ± 0.20  -0.40 ± 0.28   # equivalently ... Sigma[1, drop = TRUE] #> rvar<100,4>[1] mean ± sd: #> [1] 1.3 ± 0.17"},{"path":"https://mc-stan.org/posterior/dev/reference/entropy.html","id":null,"dir":"Reference","previous_headings":"","what":"Normalized entropy — entropy","title":"Normalized entropy — entropy","text":"Normalized entropy, measuring dispersion draws categorical distributions.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/entropy.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Normalized entropy — entropy","text":"","code":"entropy(x)  # Default S3 method entropy(x)  # S3 method for class 'rvar' entropy(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/entropy.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Normalized entropy — entropy","text":"x (multiple options) vector interpreted draws categorical distribution, : factor numeric (integer integer-like) rvar, rvar_factor, rvar_ordered","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/entropy.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Normalized entropy — entropy","text":"x factor numeric, returns length-1 numeric vector value 0 1 (inclusive) giving normalized Shannon entropy x. x rvar, returns array shape x, cell normalized Shannon entropy draws corresponding cell x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/entropy.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Normalized entropy — entropy","text":"Calculates normalized Shannon entropy draws x. value entropy x divided maximum entropy distribution n categories, n length(unique(x)) numeric vectors length(levels(x)) factors: $$-\\frac{\\sum_{= 1}^{n} p_i \\log(p_i)}{\\log(n)}$$ scales output 0 (probability one category) 1 (uniform). form normalized entropy referred \\(H_\\mathrm{REL}\\) Wilcox (1967).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/entropy.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Normalized entropy — entropy","text":"Allen R. Wilcox (1967). Indices Qualitative Variation (. ORNL-TM-1919). Oak Ridge National Lab., Tenn.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/entropy.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Normalized entropy — entropy","text":"","code":"set.seed(1234)  levels <- c(\"a\", \"b\", \"c\", \"d\", \"e\")  # a uniform distribution: high normalized entropy x <- factor(   sample(levels, 4000, replace = TRUE, prob = c(0.2, 0.2, 0.2, 0.2, 0.2)),   levels = levels ) entropy(x) #> [1] 0.9999008  # a unimodal distribution: low normalized entropy y <- factor(   sample(levels, 4000, replace = TRUE, prob = c(0.95, 0.02, 0.015, 0.01, 0.005)),   levels = levels ) entropy(y) #> [1] 0.1659647  # both together, as an rvar xy <- c(rvar(x), rvar(y)) xy #> rvar_factor<4000>[2] mode <entropy>: #> [1] d <1.00>  a <0.17>  #> 5 levels: a b c d e entropy(xy) #> [1] 0.9999008 0.1659647"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_basic.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic version of the effective sample size — ess_basic","title":"Basic version of the effective sample size — ess_basic","text":"Compute basic effective sample size (ESS) estimate single variable described Gelman et al. (2013) changes according Vehtari et al. (2021). practical applications, strongly recommend improved ESS convergence diagnostics implemented ess_bulk() ess_tail(). See Vehtari (2021) -depth comparison different effective sample size estimators.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_basic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic version of the effective sample size — ess_basic","text":"","code":"ess_basic(x, ...)  # Default S3 method ess_basic(x, split = TRUE, ...)  # S3 method for class 'rvar' ess_basic(x, split = TRUE, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_basic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic version of the effective sample size — ess_basic","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable). split (logical) estimate computed split chains? default TRUE.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_basic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Basic version of the effective sample size — ess_basic","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_basic.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Basic version of the effective sample size — ess_basic","text":"Andrew Gelman, John B. Carlin, Hal S. Stern, David B. Dunson, Aki Vehtari Donald B. Rubin (2013). Bayesian Data Analysis, Third Edition. Chapman Hall/CRC. Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221 Aki Vehtari (2021). Comparison MCMC effective sample size estimators. Retrieved https://avehtari.github.io/rhat_ess/ess_comparison.html","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ess_basic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Basic version of the effective sample size — ess_basic","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") ess_basic(mu) #> [1] 511.5225  d <- as_draws_rvars(example_draws(\"multi_normal\")) ess_basic(d$Sigma) #>          [,1]     [,2]     [,3] #> [1,] 680.2791 446.2236 481.9080 #> [2,] 446.2236 522.0755 418.0690 #> [3,] 481.9080 418.0690 636.2592"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_bulk.html","id":null,"dir":"Reference","previous_headings":"","what":"Bulk effective sample size (bulk-ESS) — ess_bulk","title":"Bulk effective sample size (bulk-ESS) — ess_bulk","text":"Compute bulk effective sample size estimate (bulk-ESS) single variable. Bulk-ESS useful diagnostic sampling efficiency bulk posterior. defined effective sample size rank normalized values using split chains. tail effective sample size see ess_tail(). See Vehtari (2021) -depth comparison different effective sample size estimators.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_bulk.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bulk effective sample size (bulk-ESS) — ess_bulk","text":"","code":"ess_bulk(x, ...)  # Default S3 method ess_bulk(x, ...)  # S3 method for class 'rvar' ess_bulk(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_bulk.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bulk effective sample size (bulk-ESS) — ess_bulk","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_bulk.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bulk effective sample size (bulk-ESS) — ess_bulk","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_bulk.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Bulk effective sample size (bulk-ESS) — ess_bulk","text":"Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221 Aki Vehtari (2021). Comparison MCMC effective sample size estimators. Retrieved https://avehtari.github.io/rhat_ess/ess_comparison.html","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ess_bulk.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bulk effective sample size (bulk-ESS) — ess_bulk","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") ess_bulk(mu) #> [1] 558.0173  d <- as_draws_rvars(example_draws(\"multi_normal\")) ess_bulk(d$Sigma) #>          [,1]     [,2]     [,3] #> [1,] 742.2907 454.0657 468.3890 #> [2,] 454.0657 528.7972 434.1141 #> [3,] 468.3890 434.1141 728.9440"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Effective sample size for the mean — ess_mean","title":"Effective sample size for the mean — ess_mean","text":"Compute effective sample size estimate mean (expectation) estimate single variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Effective sample size for the mean — ess_mean","text":"","code":"ess_mean(x, ...)  # Default S3 method ess_mean(x, ...)  # S3 method for class 'rvar' ess_mean(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Effective sample size for the mean — ess_mean","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_mean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Effective sample size for the mean — ess_mean","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_mean.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Effective sample size for the mean — ess_mean","text":"Andrew Gelman, John B. Carlin, Hal S. Stern, David B. Dunson, Aki Vehtari Donald B. Rubin (2013). Bayesian Data Analysis, Third Edition. Chapman Hall/CRC.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_mean.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Effective sample size for the mean — ess_mean","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") ess_mean(mu) #> [1] 511.5225  d <- as_draws_rvars(example_draws(\"multi_normal\")) ess_mean(d$Sigma) #>          [,1]     [,2]     [,3] #> [1,] 680.2791 446.2236 481.9080 #> [2,] 446.2236 522.0755 418.0690 #> [3,] 481.9080 418.0690 636.2592"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_quantile.html","id":null,"dir":"Reference","previous_headings":"","what":"Effective sample sizes for quantiles — ess_quantile","title":"Effective sample sizes for quantiles — ess_quantile","text":"Compute effective sample size estimates quantile estimates single variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_quantile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Effective sample sizes for quantiles — ess_quantile","text":"","code":"ess_quantile(x, probs = c(0.05, 0.95), ...)  # Default S3 method ess_quantile(x, probs = c(0.05, 0.95), names = TRUE, ...)  # S3 method for class 'rvar' ess_quantile(x, probs = c(0.05, 0.95), names = TRUE, ...)  ess_median(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_quantile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Effective sample sizes for quantiles — ess_quantile","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. probs (numeric vector) Probabilities [0, 1]. ... Arguments passed individual methods (applicable). names (logical) result names attribute? default TRUE, use FALSE improved speed many values probs.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_quantile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Effective sample sizes for quantiles — ess_quantile","text":"input array, returns numeric vector one element per quantile. draws non-finite, , NA, NaN, Inf, -Inf, returned output vector (numeric) NA values. Also, draws variable (constant), returned output vector (numeric) NA values well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar length(probs) == 1, returns array dimensions rvar, element equal value returned passing draws array element rvar function. length(probs) > 1, first dimension result indexes input probabilities; .e. result dimension c(length(probs), dim(x)).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_quantile.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Effective sample sizes for quantiles — ess_quantile","text":"Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ess_quantile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Effective sample sizes for quantiles — ess_quantile","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") ess_quantile(mu, probs = c(0.1, 0.9)) #>  ess_q10  ess_q90  #> 300.6674 325.0324   d <- as_draws_rvars(example_draws(\"multi_normal\")) ess_quantile(d$mu, probs = c(0.1, 0.9)) #>             [,1]     [,2]     [,3] #> ess_q10 383.4835 468.2163 340.6056 #> ess_q90 389.0418 419.6722 271.5482"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_sd.html","id":null,"dir":"Reference","previous_headings":"","what":"Effective sample size for the standard deviation — ess_sd","title":"Effective sample size for the standard deviation — ess_sd","text":"Compute effective sample size estimate standard deviation (SD) estimate single variable. defined effective sample size estimate absolute deviation mean.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_sd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Effective sample size for the standard deviation — ess_sd","text":"","code":"ess_sd(x, ...)  # Default S3 method ess_sd(x, ...)  # S3 method for class 'rvar' ess_sd(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_sd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Effective sample size for the standard deviation — ess_sd","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_sd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Effective sample size for the standard deviation — ess_sd","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_sd.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Effective sample size for the standard deviation — ess_sd","text":"Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ess_sd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Effective sample size for the standard deviation — ess_sd","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") ess_sd(mu) #> [1] 131.1074  d <- as_draws_rvars(example_draws(\"multi_normal\")) ess_sd(d$Sigma) #>          [,1]     [,2]     [,3] #> [1,] 226.3239 165.9586 277.6148 #> [2,] 165.9586 287.7507 264.0477 #> [3,] 277.6148 264.0477 280.1463"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_tail.html","id":null,"dir":"Reference","previous_headings":"","what":"Tail effective sample size (tail-ESS) — ess_tail","title":"Tail effective sample size (tail-ESS) — ess_tail","text":"Compute tail effective sample size estimate (tail-ESS) single variable. Tail-ESS useful diagnostic sampling efficiency tails posterior. defined minimum effective sample sizes 5% 95% quantiles. bulk effective sample size see ess_bulk(). See Vehtari (2021) -depth comparison different effective sample size estimators.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_tail.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Tail effective sample size (tail-ESS) — ess_tail","text":"","code":"ess_tail(x, ...)  # Default S3 method ess_tail(x, ...)  # S3 method for class 'rvar' ess_tail(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ess_tail.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Tail effective sample size (tail-ESS) — ess_tail","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_tail.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Tail effective sample size (tail-ESS) — ess_tail","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ess_tail.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Tail effective sample size (tail-ESS) — ess_tail","text":"Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221 Aki Vehtari (2021). Comparison MCMC effective sample size estimators. Retrieved https://avehtari.github.io/rhat_ess/ess_comparison.html","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ess_tail.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Tail effective sample size (tail-ESS) — ess_tail","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") ess_tail(mu) #> [1] 322.0955  d <- as_draws_rvars(example_draws(\"multi_normal\")) ess_tail(d$Sigma) #>          [,1]     [,2]     [,3] #> [1,] 369.3083 238.6147 307.7817 #> [2,] 238.6147 363.2964 356.7673 #> [3,] 307.7817 356.7673 324.4500"},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Example draws objects — example_draws","title":"Example draws objects — example_draws","text":"Objects use examples, vignettes, tests.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Example draws objects — example_draws","text":"","code":"example_draws(example = \"eight_schools\")"},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Example draws objects — example_draws","text":"example (string) name example draws object. See Details available options.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Example draws objects — example_draws","text":"draws object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Example draws objects — example_draws","text":"following example draws objects available. eight_schools: draws_array object 100 iterations 4 Markov chains obtained fitting eight schools model described Gelman et al. (2013) Stan. variables : mu: Overall mean eight schools tau: Standard deviation schools theta: Individual means eight schools multi_normal: draws_array object 100 iterations 4 Markov chains obtained fitting 3-dimensional multivariate normal model 100 simulated observations. variables : mu: Mean parameter vector length 3 Sigma: Covariance matrix dimension 3 x 3","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":"note","dir":"Reference","previous_headings":"","what":"Note","title":"Example draws objects — example_draws","text":"objects intended used demonstrations tests. contain fewer iterations chains recommended performing actual inference.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Example draws objects — example_draws","text":"Andrew Gelman, John B. Carlin, Hal S. Stern, David B. Dunson, Aki Vehtari Donald B. Rubin (2013). Bayesian Data Analysis, Third Edition. Chapman Hall/CRC.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/example_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Example draws objects — example_draws","text":"","code":"draws_eight_schools <- example_draws(\"eight_schools\") summarise_draws(draws_eight_schools) #> # A tibble: 10 × 10 #>    variable  mean median    sd   mad      q5   q95  rhat ess_bulk ess_tail #>    <chr>    <dbl>  <dbl> <dbl> <dbl>   <dbl> <dbl> <dbl>    <dbl>    <dbl> #>  1 mu        4.18   4.16  3.40  3.57  -0.854  9.39  1.02     558.     322. #>  2 tau       4.16   3.07  3.58  2.89   0.309 11.0   1.01     246.     202. #>  3 theta[1]  6.75   5.97  6.30  4.87  -1.23  18.9   1.01     400.     254. #>  4 theta[2]  5.25   5.13  4.63  4.25  -1.97  12.5   1.02     564.     372. #>  5 theta[3]  3.04   3.99  6.80  4.94 -10.3   11.9   1.01     312.     205. #>  6 theta[4]  4.86   4.99  4.92  4.51  -3.57  12.2   1.02     695.     252. #>  7 theta[5]  3.22   3.72  5.08  4.38  -5.93  10.8   1.01     523.     306. #>  8 theta[6]  3.99   4.14  5.16  4.81  -4.32  11.5   1.02     548.     205. #>  9 theta[7]  6.50   5.90  5.26  4.54  -1.19  15.4   1.00     434.     308. #> 10 theta[8]  4.57   4.64  5.25  4.89  -3.79  12.2   1.02     355.     146.  draws_multi_normal <- example_draws(\"multi_normal\") summarise_draws(draws_multi_normal) #> # A tibble: 12 × 10 #>    variable      mean  median    sd   mad     q5     q95  rhat ess_bulk ess_tail #>    <chr>        <dbl>   <dbl> <dbl> <dbl>  <dbl>   <dbl> <dbl>    <dbl>    <dbl> #>  1 mu[1]       0.0514  0.0575 0.112 0.131 -0.130  0.225  1.01      677.     356. #>  2 mu[2]       0.111   0.104  0.199 0.198 -0.208  0.449  1.00      566.     426. #>  3 mu[3]       0.186   0.184  0.314 0.315 -0.322  0.715  1.02      650.     334. #>  4 Sigma[1,1]  1.28    1.26   0.165 0.173  1.03   1.56   1.00      742.     369. #>  5 Sigma[2,1]  0.525   0.502  0.200 0.173  0.227  0.874  1.01      454.     239. #>  6 Sigma[3,1] -0.403  -0.393  0.282 0.267 -0.874  0.0432 1.01      468.     308. #>  7 Sigma[1,2]  0.525   0.502  0.200 0.173  0.227  0.874  1.01      454.     239. #>  8 Sigma[2,2]  3.67    3.62   0.447 0.433  3.02   4.40   1.01      529.     363. #>  9 Sigma[3,2] -2.10   -2.11   0.480 0.469 -2.87  -1.39   1.02      434.     357. #> 10 Sigma[1,3] -0.403  -0.393  0.282 0.267 -0.874  0.0432 1.01      468.     308. #> 11 Sigma[2,3] -2.10   -2.11   0.480 0.469 -2.87  -1.39   1.02      434.     357. #> 12 Sigma[3,3]  8.12    8.02   0.946 0.941  6.71   9.91   0.997     729.     324."},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract draws of a single variable — extract_variable","title":"Extract draws of a single variable — extract_variable","text":"Extract vector draws single variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract draws of a single variable — extract_variable","text":"","code":"extract_variable(x, variable, ...)  # Default S3 method extract_variable(x, variable, ...)  # S3 method for class 'draws' extract_variable(x, variable, ...)  # S3 method for class 'draws_df' extract_variable(x, variable, ...)  # S3 method for class 'draws_list' extract_variable(x, variable, ...)  # S3 method for class 'draws_rvars' extract_variable(x, variable, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract draws of a single variable — extract_variable","text":"x (draws) draws object another R object method defined. variable (string) name variable extract. name must correspond scalar variable must include indices array variables (e.g. \"x[1]\", \"y[1,2]\") result scalar variable. extract dimensions variables indices, use extract_variable_array(). ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract draws of a single variable — extract_variable","text":"vector length equal number draws.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract draws of a single variable — extract_variable","text":"","code":"x <- example_draws() mu <- extract_variable(x, variable = \"mu\") str(mu) #>  num [1:400] 2.01 1.46 5.81 6.85 1.81 ..."},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_array.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract array of a single (possibly indexed) variable — extract_variable_array","title":"Extract array of a single (possibly indexed) variable — extract_variable_array","text":"Extract array draws single variable, including dimensions variables indices.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_array.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract array of a single (possibly indexed) variable — extract_variable_array","text":"","code":"extract_variable_array(x, variable, ...)  # Default S3 method extract_variable_array(x, variable, ...)  # S3 method for class 'draws' extract_variable_array(x, variable, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_array.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract array of a single (possibly indexed) variable — extract_variable_array","text":"x (draws) draws object another R object method defined. variable (string) name variable extract. extract dimensions variables indices (e.g. \"x[1]\"), provide base variable name (e.g. \"x\"). ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_array.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract array of a single (possibly indexed) variable — extract_variable_array","text":"array dimension niterations(x) x nchains(x) x remaining dimensions determined indices variable x.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_array.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract array of a single (possibly indexed) variable — extract_variable_array","text":"","code":"x <- example_draws(example = \"multi_normal\")  mu <- extract_variable_array(x, variable = \"mu\") str(mu) #>  num [1:100, 1:4, 1:3] 0.18119 -0.03419 -0.05875 -0.1536 0.00989 ... #>  - attr(*, \"dimnames\")=List of 3 #>   ..$ : NULL #>   ..$ : NULL #>   ..$ : NULL  mu1 <- extract_variable_array(x, variable = \"mu[1]\") str(mu1) #>  num [1:100, 1:4, 1] 0.18119 -0.03419 -0.05875 -0.1536 0.00989 ... #>  - attr(*, \"dimnames\")=List of 3 #>   ..$ : NULL #>   ..$ : NULL #>   ..$ : NULL  Sigma <- extract_variable_array(x, variable = \"Sigma\") str(Sigma) #>  num [1:100, 1:4, 1:3, 1:3] 1.2 1.14 1.12 1.14 1.19 ... #>  - attr(*, \"dimnames\")=List of 4 #>   ..$ : NULL #>   ..$ : NULL #>   ..$ : NULL #>   ..$ : NULL"},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract matrix of a single variable — extract_variable_matrix","title":"Extract matrix of a single variable — extract_variable_matrix","text":"Extract iterations x chains matrix draws single variable. primarily used convergence diagnostic functions rhat().","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract matrix of a single variable — extract_variable_matrix","text":"","code":"extract_variable_matrix(x, variable, ...)  # Default S3 method extract_variable_matrix(x, variable, ...)  # S3 method for class 'draws' extract_variable_matrix(x, variable, ...)  # S3 method for class 'draws_df' extract_variable_matrix(x, variable, ...)  # S3 method for class 'draws_list' extract_variable_matrix(x, variable, ...)  # S3 method for class 'draws_rvars' extract_variable_matrix(x, variable, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract matrix of a single variable — extract_variable_matrix","text":"x (draws) draws object another R object method defined. variable (string) name variable extract. name must correspond scalar variable must include indices array variables (e.g. \"x[1]\", \"y[1,2]\") result scalar variable. extract dimensions variables indices, use extract_variable_array(). ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract matrix of a single variable — extract_variable_matrix","text":"matrix dimension iterations x chains.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/extract_variable_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract matrix of a single variable — extract_variable_matrix","text":"","code":"x <- example_draws() mu <- extract_variable_matrix(x, variable = \"mu\") dim(mu) #> [1] 100   4 rhat(mu) #> [1] 1.021923"},{"path":"https://mc-stan.org/posterior/dev/reference/for_each_draw.html","id":null,"dir":"Reference","previous_headings":"","what":"Loop over draws — for_each_draw","title":"Loop over draws — for_each_draw","text":"Executes expression every draw draws object. Used primarily side effects returns input x invisibly.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/for_each_draw.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Loop over draws — for_each_draw","text":"","code":"for_each_draw(x, expr)"},{"path":"https://mc-stan.org/posterior/dev/reference/for_each_draw.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Loop over draws — for_each_draw","text":"x (draws) draws object another R object method defined. expr (expression) bare expression can contain references variables x name. expression executed per draw x, references variables x resolve value variable draw. expression supports quasiquotation.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/for_each_draw.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Loop over draws — for_each_draw","text":"for_each_draw() used primarily side effects (expression executed draw x), returns input x invisibly.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/for_each_draw.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Loop over draws — for_each_draw","text":"x draws_rvars format, first converted format. allows variables x include dimensions (.e, act R vectors arrays) referred expr. Within expr, use .draw refer draw index, value 1 ndraws(x). expr executed calling environment for_each_draw(), can use variables environment (however, due use data masking, modify variables environment, one must use <<-.)","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/for_each_draw.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Loop over draws — for_each_draw","text":"","code":"eight_schools <- as_draws_rvars(example_draws())   # 1. A simple example --- looping over draws and printing each draw # NOTE: You probably don't want to do this in practice! This example is # just intended to show what for_each_draw() is doing. If you just want to # print the draws of an rvar, it is probably better to use draws_of() for_each_draw(eight_schools, {   print(mu) }) #> [1] 2.005831 #> [1] 1.458316 #> [1] 5.814947 #> [1] 6.849586 #> [1] 1.805168 #> [1] 3.841243 #> [1] 5.474273 #> [1] 1.203062 #> [1] 0.1463805 #> [1] 7.17291 #> [1] 0.9910314 #> [1] -1.550489 #> [1] 0.5842059 #> [1] 5.447506 #> [1] 6.180503 #> [1] 8.188255 #> [1] 7.384924 #> [1] 5.065307 #> [1] 6.59501 #> [1] -5.56139 #> [1] 10.34668 #> [1] 8.732913 #> [1] 8.560648 #> [1] 9.382581 #> [1] 1.368601 #> [1] 6.328316 #> [1] 7.920994 #> [1] 5.504498 #> [1] 7.154337 #> [1] 7.154337 #> [1] 4.498041 #> [1] 3.972859 #> [1] 1.246672 #> [1] 6.715447 #> [1] 2.593476 #> [1] 4.150923 #> [1] 5.576988 #> [1] 6.479588 #> [1] 6.714915 #> [1] 3.092834 #> [1] 4.667634 #> [1] 0.3257462 #> [1] 7.78165 #> [1] 2.771024 #> [1] -2.159893 #> [1] 3.623976 #> [1] 4.177537 #> [1] 5.189134 #> [1] 3.700737 #> [1] 8.054184 #> [1] 2.589031 #> [1] 2.482616 #> [1] 0.9075757 #> [1] 0.27648 #> [1] 8.077656 #> [1] 2.332971 #> [1] 4.332468 #> [1] 1.729912 #> [1] 1.419623 #> [1] 6.577866 #> [1] 11.08855 #> [1] -2.140353 #> [1] -1.800176 #> [1] 12.28125 #> [1] -2.614854 #> [1] 12.24904 #> [1] 0.8886184 #> [1] 0.9028057 #> [1] 1.677317 #> [1] 7.796531 #> [1] 9.592966 #> [1] 5.919053 #> [1] 2.746375 #> [1] 6.479243 #> [1] 2.768363 #> [1] 7.426639 #> [1] 2.667748 #> [1] 5.528707 #> [1] 11.79623 #> [1] -0.6559906 #> [1] -0.2416307 #> [1] 5.276274 #> [1] -0.1637204 #> [1] 1.761676 #> [1] -0.8038231 #> [1] 5.327505 #> [1] 6.328764 #> [1] 2.452526 #> [1] 3.733484 #> [1] 2.7919 #> [1] 6.123445 #> [1] 3.651789 #> [1] 5.425331 #> [1] 4.815524 #> [1] 3.507938 #> [1] 6.775166 #> [1] 1.856798 #> [1] 6.172828 #> [1] 1.548535 #> [1] 7.516744 #> [1] 2.990381 #> [1] 8.172526 #> [1] -1.15365 #> [1] 10.93486 #> [1] 9.820921 #> [1] -10.90481 #> [1] -9.260446 #> [1] 1.791052 #> [1] 5.350254 #> [1] 0.8686961 #> [1] 9.831286 #> [1] 7.178421 #> [1] 7.303903 #> [1] 0.1740227 #> [1] 8.024494 #> [1] 13.71125 #> [1] -2.654716 #> [1] 9.164643 #> [1] 7.337641 #> [1] -0.4282678 #> [1] 4.826956 #> [1] -0.421578 #> [1] 0.8573548 #> [1] 0.2247874 #> [1] 8.471193 #> [1] 9.4772 #> [1] 0.1802919 #> [1] 3.526179 #> [1] 6.635041 #> [1] 4.873137 #> [1] 5.749479 #> [1] -0.2319217 #> [1] 9.551073 #> [1] 1.256314 #> [1] 4.600533 #> [1] 2.622144 #> [1] 7.089645 #> [1] 3.271309 #> [1] 10.1848 #> [1] -2.222072 #> [1] 5.777605 #> [1] 3.345942 #> [1] 4.580048 #> [1] 6.25215 #> [1] 3.036535 #> [1] 6.377873 #> [1] -0.8467208 #> [1] 10.17687 #> [1] 2.262151 #> [1] 1.947261 #> [1] 8.905462 #> [1] 6.451443 #> [1] 4.76286 #> [1] -2.212966 #> [1] 8.292972 #> [1] 6.414798 #> [1] 6.069405 #> [1] 3.430352 #> [1] 4.860967 #> [1] 6.715199 #> [1] 7.275805 #> [1] 6.428511 #> [1] 3.242366 #> [1] 9.293644 #> [1] -0.6929381 #> [1] 8.700848 #> [1] 3.719785 #> [1] 5.747341 #> [1] 6.778653 #> [1] 8.779596 #> [1] 0.3407823 #> [1] 9.734953 #> [1] -1.61732 #> [1] 10.80919 #> [1] 2.96836 #> [1] 7.013745 #> [1] 3.666725 #> [1] 1.410787 #> [1] 6.585366 #> [1] 3.456987 #> [1] 3.942221 #> [1] 5.830744 #> [1] 7.50853 #> [1] -0.9847083 #> [1] 7.009851 #> [1] 1.248523 #> [1] 1.869871 #> [1] 5.82212 #> [1] 3.379486 #> [1] 5.587379 #> [1] 5.892139 #> [1] 10.19627 #> [1] 3.957886 #> [1] 2.666729 #> [1] 7.741973 #> [1] 0.7657729 #> [1] 8.243569 #> [1] 1.519901 #> [1] 8.575984 #> [1] -1.241991 #> [1] 1.794368 #> [1] 5.986371 #> [1] 2.557202 #> [1] 2.794425 #> [1] -0.02958928 #> [1] 1.063617 #> [1] 3.673857 #> [1] 3.505838 #> [1] 8.853159 #> [1] 8.853159 #> [1] 1.896446 #> [1] 4.269309 #> [1] 0.3929587 #> [1] -0.3855215 #> [1] 0.4399129 #> [1] 6.107962 #> [1] 6.136167 #> [1] 0.9391723 #> [1] -0.3633222 #> [1] 4.018959 #> [1] 5.360394 #> [1] 0.4944048 #> [1] 2.182324 #> [1] -0.450423 #> [1] 2.371517 #> [1] 1.998246 #> [1] 3.006006 #> [1] 2.614495 #> [1] 4.054033 #> [1] 4.727055 #> [1] 2.077013 #> [1] 1.7171 #> [1] 5.676568 #> [1] 7.359798 #> [1] 3.347586 #> [1] 3.465405 #> [1] 7.734784 #> [1] 1.075762 #> [1] 0.8731733 #> [1] 8.382703 #> [1] 9.133231 #> [1] 7.911396 #> [1] 3.647458 #> [1] 4.021722 #> [1] 5.590273 #> [1] 3.771822 #> [1] 6.767269 #> [1] 6.73121 #> [1] -2.035578 #> [1] -0.6331069 #> [1] -2.500302 #> [1] 8.864541 #> [1] 9.813685 #> [1] 4.852993 #> [1] -0.1317092 #> [1] 5.444751 #> [1] 6.496114 #> [1] 2.082844 #> [1] 3.426155 #> [1] 3.866463 #> [1] 1.897673 #> [1] 6.787045 #> [1] 3.676815 #> [1] 2.801344 #> [1] 1.558138 #> [1] 5.079696 #> [1] 5.331685 #> [1] 4.058808 #> [1] 6.433192 #> [1] 6.149452 #> [1] 6.754594 #> [1] 5.755464 #> [1] 4.770074 #> [1] 4.443709 #> [1] 6.27212 #> [1] 3.151525 #> [1] 4.954608 #> [1] 5.294373 #> [1] 3.509907 #> [1] -0.5068128 #> [1] -0.5068128 #> [1] -0.5068128 #> [1] -0.5068128 #> [1] 1.006574 #> [1] 3.142413 #> [1] 6.640588 #> [1] 4.788217 #> [1] 2.894039 #> [1] 9.07924 #> [1] 0.2812174 #> [1] 6.380328 #> [1] 7.482811 #> [1] 8.413412 #> [1] 6.317088 #> [1] 1.339948 #> [1] 7.774194 #> [1] 3.926885 #> [1] 0.08176881 #> [1] 3.174703 #> [1] 3.575558 #> [1] 6.458979 #> [1] 9.145118 #> [1] 0.2030693 #> [1] 3.692529 #> [1] 5.480271 #> [1] 2.379514 #> [1] 11.82462 #> [1] 4.90456 #> [1] 0.8796356 #> [1] 3.813747 #> [1] 3.432436 #> [1] -4.296498 #> [1] -4.06038 #> [1] 7.379277 #> [1] 2.212441 #> [1] 6.090105 #> [1] 8.645111 #> [1] 10.29126 #> [1] 2.295806 #> [1] 8.158265 #> [1] 6.594462 #> [1] 4.773796 #> [1] -1.60865 #> [1] 8.442649 #> [1] 1.968831 #> [1] 5.527651 #> [1] 6.100609 #> [1] 5.13686 #> [1] 6.267986 #> [1] 6.21822 #> [1] 2.246441 #> [1] 1.015631 #> [1] 4.376825 #> [1] -0.2470492 #> [1] 6.855368 #> [1] 0.7892017 #> [1] 7.310153 #> [1] 0.5838083 #> [1] 3.452831 #> [1] 6.157008 #> [1] 6.945902 #> [1] 7.793461 #> [1] 5.713618 #> [1] 1.094745 #> [1] 4.14184 #> [1] 4.656109 #> [1] 4.835303 #> [1] 2.360251 #> [1] 5.1895 #> [1] 6.964457 #> [1] 0.7819602 #> [1] 4.921984 #> [1] 4.125013 #> [1] 4.381954 #> [1] 0.4576623 #> [1] 3.089239 #> [1] 5.613297 #> [1] 5.800871 #> [1] 2.689139 #> [1] 4.23484 #> [1] -0.1137887 #> [1] 6.758072 #> [1] 5.357305 #> [1] 3.36597 #> [1] 3.614427 #> [1] 3.357607 #> [1] 3.627169 #> [1] 0.8046778 #> [1] 7.199353 #> [1] -0.3494357 #> [1] 1.544988 #> [1] 8.613144 #> [1] 0.5170308 #> [1] 8.365525 #> [1] 0.9939937 #> [1] 2.543458 #> [1] 7.218512 #> [1] 5.124879 #> [1] 2.415208 #> [1] 3.815243 #> [1] 5.156247 #> [1] 3.742969 #> [1] 0.4044733 #> [1] 8.137713 #> [1] 8.008371 #> [1] 6.180301 #> [1] 5.815311 #> [1] 3.155752 #> [1] 3.224573 #> [1] 5.446791 #> [1] 1.068988 #> [1] 6.694287 #> [1] 5.169541 #> [1] 0.9799776 #> [1] 5.687312 #> [1] 3.280556 #> [1] 5.039586 #> [1] 2.726364 #> [1] 0.4754905 #> [1] 7.047233   # 2. A more complex example --- building a parallel coordinates plot # First, construct the plot bounds plot(1, type = \"n\",   xlim = c(1, length(eight_schools$theta)),   ylim = range(range(eight_schools$theta)),   xlab = \"school\", ylab = \"theta\" )  # Then, use for_each_draw() to make a parallel coordinates plot of all draws # of eight_schools$theta. Use resample_draws(eight_schools, n = ...) # in place of eight_schools if a smaller sample is desired for the plot. for_each_draw(eight_schools, {   lines(seq_along(theta), theta, col = rgb(1, 0, 0, 0.05)) })  # Finally, add means and 90% intervals lines(seq_along(eight_schools$theta), mean(eight_schools$theta)) with(summarise_draws(eight_schools$theta),   segments(seq_along(eight_schools$theta), y0 = q5, y1 = q95) )"},{"path":"https://mc-stan.org/posterior/dev/reference/is_constant.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if vector is constant — is_constant","title":"Check if vector is constant — is_constant","text":"check vector constant, defined tolerance.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/is_constant.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if vector is constant — is_constant","text":"","code":"is_constant(x, tol = .Machine$double.eps)"},{"path":"https://mc-stan.org/posterior/dev/reference/is_constant.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if vector is constant — is_constant","text":"x (vector) vector check constant tol (numeric) tolerance consider two values equal. Default .Machine$double.eps.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar.html","id":null,"dir":"Reference","previous_headings":"","what":"Is x a random variable? — is_rvar","title":"Is x a random variable? — is_rvar","text":"Test x rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Is x a random variable? — is_rvar","text":"","code":"is_rvar(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Is x a random variable? — is_rvar","text":"x (object) object test.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Is x a random variable? — is_rvar","text":"TRUE x rvar, FALSE otherwise.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar_factor.html","id":null,"dir":"Reference","previous_headings":"","what":"Is x a factor random variable? — is_rvar_factor","title":"Is x a factor random variable? — is_rvar_factor","text":"Test x rvar_factor rvar_ordered.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar_factor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Is x a factor random variable? — is_rvar_factor","text":"","code":"is_rvar_factor(x)  is_rvar_ordered(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar_factor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Is x a factor random variable? — is_rvar_factor","text":"x (object) object test.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/is_rvar_factor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Is x a factor random variable? — is_rvar_factor","text":"TRUE x rvar_factor rvar_ordered, FALSE otherwise.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/match.html","id":null,"dir":"Reference","previous_headings":"","what":"Value Matching — match","title":"Value Matching — match","text":"Generic version base::match(). base vectors, returns vector positions (first) matches first argument second. rvars, returns rvar matches.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/match.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Value Matching — match","text":"","code":"match(x, table, ...)  # Default S3 method match(x, ...)  # S3 method for class 'rvar' match(x, ...)  x %in% table"},{"path":"https://mc-stan.org/posterior/dev/reference/match.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Value Matching — match","text":"x (multiple options) values matched. Can : base vector: see base::match() rvar table (vector) values matched . ... Arguments passed base::match nomatch value returned case match     found.  Note coerced integer. incomparables vector values matched.      value x matching value vector assigned     nomatch value.  historical reasons, FALSE     equivalent NULL.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/match.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Value Matching — match","text":"x base vector, vector length x. x rvar, rvar shape x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/match.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Value Matching — match","text":"information match behaves base vectors, see base::match(). x rvar, draws x matched table using base::match(), result returned rvar. implementation %% identical base::%%, except uses generic version match() non-base vectors (rvars) supported.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/match.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Value Matching — match","text":"","code":"x <- rvar(c(\"a\",\"b\",\"b\",\"c\",\"d\")) x %in% c(\"b\",\"d\") #> rvar<5>[1] mean ± sd: #> [1] 0.6 ± 0.55   # for additional examples, see base::match()"},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_mean.html","id":null,"dir":"Reference","previous_headings":"","what":"Monte Carlo standard error for the mean — mcse_mean","title":"Monte Carlo standard error for the mean — mcse_mean","text":"Compute Monte Carlo standard error mean (expectation) single variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_mean.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Monte Carlo standard error for the mean — mcse_mean","text":"","code":"mcse_mean(x, ...)  # Default S3 method mcse_mean(x, ...)  # S3 method for class 'rvar' mcse_mean(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_mean.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Monte Carlo standard error for the mean — mcse_mean","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_mean.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Monte Carlo standard error for the mean — mcse_mean","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_mean.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Monte Carlo standard error for the mean — mcse_mean","text":"Andrew Gelman, John B. Carlin, Hal S. Stern, David B. Dunson, Aki Vehtari Donald B. Rubin (2013). Bayesian Data Analysis, Third Edition. Chapman Hall/CRC.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_mean.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Monte Carlo standard error for the mean — mcse_mean","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") mcse_mean(mu) #> [1] 0.1504394  d <- as_draws_rvars(example_draws(\"multi_normal\")) mcse_mean(d$Sigma) #>             [,1]        [,2]       [,3] #> [1,] 0.006331065 0.009478331 0.01283981 #> [2,] 0.009478331 0.019579138 0.02346471 #> [3,] 0.012839814 0.023464711 0.03748603"},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_quantile.html","id":null,"dir":"Reference","previous_headings":"","what":"Monte Carlo standard error for quantiles — mcse_quantile","title":"Monte Carlo standard error for quantiles — mcse_quantile","text":"Compute Monte Carlo standard errors quantile estimates single variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_quantile.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Monte Carlo standard error for quantiles — mcse_quantile","text":"","code":"mcse_quantile(x, probs = c(0.05, 0.95), ...)  # Default S3 method mcse_quantile(x, probs = c(0.05, 0.95), names = TRUE, ...)  # S3 method for class 'rvar' mcse_quantile(x, probs = c(0.05, 0.95), names = TRUE, ...)  mcse_median(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_quantile.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Monte Carlo standard error for quantiles — mcse_quantile","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. probs (numeric vector) Probabilities [0, 1]. ... Arguments passed individual methods (applicable). names (logical) result names attribute? default TRUE, use FALSE improved speed many values probs.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_quantile.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Monte Carlo standard error for quantiles — mcse_quantile","text":"input array, returns numeric vector one element per quantile. draws non-finite, , NA, NaN, Inf, -Inf, returned output vector (numeric) NA values. Also, draws variable (constant), returned output vector (numeric) NA values well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar length(probs) == 1, returns array dimensions rvar, element equal value returned passing draws array element rvar function. length(probs) > 1, first dimension result indexes input probabilities; .e. result dimension c(length(probs), dim(x)).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_quantile.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Monte Carlo standard error for quantiles — mcse_quantile","text":"Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_quantile.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Monte Carlo standard error for quantiles — mcse_quantile","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") mcse_quantile(mu, probs = c(0.1, 0.9)) #>  mcse_q10  mcse_q90  #> 0.3199011 0.2677437   d <- as_draws_rvars(example_draws(\"multi_normal\")) mcse_quantile(d$mu) #>                 [,1]       [,2]       [,3] #> mcse_q5  0.012675014 0.01279547 0.02331627 #> mcse_q95 0.008302994 0.02609606 0.05555146"},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_sd.html","id":null,"dir":"Reference","previous_headings":"","what":"Monte Carlo standard error for the standard deviation — mcse_sd","title":"Monte Carlo standard error for the standard deviation — mcse_sd","text":"Compute Monte Carlo standard error standard deviation (SD) single variable without assuming normality using moments moments first order Taylor series approximation (Kenney Keeping, 1951, p. 141).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_sd.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Monte Carlo standard error for the standard deviation — mcse_sd","text":"","code":"mcse_sd(x, ...)  # Default S3 method mcse_sd(x, ...)  # S3 method for class 'rvar' mcse_sd(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_sd.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Monte Carlo standard error for the standard deviation — mcse_sd","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_sd.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Monte Carlo standard error for the standard deviation — mcse_sd","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_sd.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Monte Carlo standard error for the standard deviation — mcse_sd","text":"Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221 J. F. Kenney & E. S. Keeping (1951). Mathematics Statistics, Vol. II.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/mcse_sd.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Monte Carlo standard error for the standard deviation — mcse_sd","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") mcse_sd(mu) #> [1] 0.2487345  d <- as_draws_rvars(example_draws(\"multi_normal\")) mcse_sd(d$Sigma) #>             [,1]       [,2]       [,3] #> [1,] 0.007911205 0.01281948 0.01365999 #> [2,] 0.012819476 0.01966138 0.02375922 #> [3,] 0.013659991 0.02375922 0.04301713"},{"path":"https://mc-stan.org/posterior/dev/reference/merge_chains.html","id":null,"dir":"Reference","previous_headings":"","what":"Merge chains of draws objects — merge_chains","title":"Merge chains of draws objects — merge_chains","text":"Merge chains draws objects single chain. operations trigger automatic merging chains, example, chains match two objects involved binary operation. default, warning issued happens can activate one via options(posterior.warn_on_merge_chains = TRUE).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/merge_chains.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Merge chains of draws objects — merge_chains","text":"","code":"merge_chains(x, ...)  # S3 method for class 'draws_matrix' merge_chains(x, ...)  # S3 method for class 'draws_array' merge_chains(x, ...)  # S3 method for class 'draws_df' merge_chains(x, ...)  # S3 method for class 'draws_list' merge_chains(x, ...)  # S3 method for class 'rvar' merge_chains(x, ...)  # S3 method for class 'draws_rvars' merge_chains(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/merge_chains.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Merge chains of draws objects — merge_chains","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/merge_chains.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Merge chains of draws objects — merge_chains","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/merge_chains.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Merge chains of draws objects — merge_chains","text":"","code":"x <- example_draws()  # draws_array with 4 chains, 100 iters each str(x) #>  'draws_array' num [1:100, 1:4, 1:10] 2.01 1.46 5.81 6.85 1.81 ... #>  - attr(*, \"dimnames\")=List of 3 #>   ..$ iteration: chr [1:100] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ chain    : chr [1:4] \"1\" \"2\" \"3\" \"4\" #>   ..$ variable : chr [1:10] \"mu\" \"tau\" \"theta[1]\" \"theta[2]\" ...  # draws_array with 1 chain of 400 iterations str(merge_chains(x)) #>  'draws_array' num [1:400, 1, 1:10] 2.01 1.46 5.81 6.85 1.81 ... #>  - attr(*, \"dimnames\")=List of 3 #>   ..$ iteration: chr [1:400] \"1\" \"2\" \"3\" \"4\" ... #>   ..$ chain    : chr \"1\" #>   ..$ variable : chr [1:10] \"mu\" \"tau\" \"theta[1]\" \"theta[2]\" ..."},{"path":"https://mc-stan.org/posterior/dev/reference/modal_category.html","id":null,"dir":"Reference","previous_headings":"","what":"Modal category — modal_category","title":"Modal category — modal_category","text":"Modal category vector.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/modal_category.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Modal category — modal_category","text":"","code":"modal_category(x)  # Default S3 method modal_category(x)  # S3 method for class 'rvar' modal_category(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/modal_category.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Modal category — modal_category","text":"x (multiple options) vector interpreted draws categorical distribution, : factor numeric (integer integer-like) rvar, rvar_factor, rvar_ordered","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/modal_category.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Modal category — modal_category","text":"x factor numeric, returns length-1 vector containing modal value. x rvar, returns array shape x, cell modal value draws corresponding cell x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/modal_category.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Modal category — modal_category","text":"Finds modal category (.e., frequent value) x. case ties, returns first tie.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/modal_category.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Modal category — modal_category","text":"","code":"x <- factor(c(\"a\",\"b\",\"b\",\"c\",\"d\")) modal_category(x) #> [1] \"b\"  # in the case of ties, the first tie is returned y <- factor(c(\"a\",\"c\",\"c\",\"d\",\"d\")) modal_category(y) #> [1] \"c\"  # both together, as an rvar xy <- c(rvar(x), rvar(y)) xy #> rvar_factor<5>[2] mode <entropy>: #> [1] b <0.96>  c <0.76>  #> 4 levels: a b c d modal_category(xy) #> [1] \"b\" \"c\""},{"path":"https://mc-stan.org/posterior/dev/reference/mutate_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Mutate variables in draws objects — mutate_variables","title":"Mutate variables in draws objects — mutate_variables","text":"Mutate variables draws object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mutate_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Mutate variables in draws objects — mutate_variables","text":"","code":"mutate_variables(.x, ...)  # S3 method for class 'draws_matrix' mutate_variables(.x, ...)  # S3 method for class 'draws_array' mutate_variables(.x, ...)  # S3 method for class 'draws_df' mutate_variables(.x, ...)  # S3 method for class 'draws_list' mutate_variables(.x, ...)  # S3 method for class 'draws_rvars' mutate_variables(.x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/mutate_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Mutate variables in draws objects — mutate_variables","text":".x (draws) draws object. ... Name-value pairs expressions, either length 1 length entire input (.e., number iterations draws). name argument name new variable, value corresponding value. Use NULL value mutate_variables drop variable. New variables overwrite existing variables name.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mutate_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Mutate variables in draws objects — mutate_variables","text":"Returns draws object format .x, variables mutated according expressions provided ....","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/mutate_variables.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Mutate variables in draws objects — mutate_variables","text":"order mutate variables draws_matrix draws_array objects, transformed draws_df objects first transformed back mutation. transformations quite expensive larger number draws, recommend using mutate_variables draws_df draws_list objects speed issue. draws_rvars objects, output expression ... coerced rvar object already one using as_rvar().","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/mutate_variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Mutate variables in draws objects — mutate_variables","text":"","code":"x <- as_draws_df(example_draws()) x <- subset(x, variable = c(\"mu\", \"tau\"))  mutate_variables(x, tau2 = tau^2) #> # A draws_df: 100 iterations, 4 chains, and 3 variables #>      mu tau tau2 #> 1  2.01 2.8  7.7 #> 2  1.46 7.0 48.7 #> 3  5.81 9.7 93.6 #> 4  6.85 4.8 22.9 #> 5  1.81 2.8  8.1 #> 6  3.84 4.1 16.7 #> 7  5.47 4.0 15.6 #> 8  1.20 1.5  2.2 #> 9  0.15 3.9 15.4 #> 10 7.17 1.8  3.1 #> # ... with 390 more draws #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'} mutate_variables(x, scale = 1.96 * tau, lower = mu - scale) #> # A draws_df: 100 iterations, 4 chains, and 4 variables #>      mu tau scale lower #> 1  2.01 2.8   5.4  -3.4 #> 2  1.46 7.0  13.7 -12.2 #> 3  5.81 9.7  19.0 -13.2 #> 4  6.85 4.8   9.4  -2.5 #> 5  1.81 2.8   5.6  -3.8 #> 6  3.84 4.1   8.0  -4.2 #> 7  5.47 4.0   7.7  -2.3 #> 8  1.20 1.5   2.9  -1.7 #> 9  0.15 3.9   7.7  -7.6 #> 10 7.17 1.8   3.5   3.7 #> # ... with 390 more draws #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/reference/order_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Order draws objects — order_draws","title":"Order draws objects — order_draws","text":"Order draws objects according iteration chain number. default, draws objects ordered subsetting extracting parts may leave unordered state.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/order_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Order draws objects — order_draws","text":"","code":"order_draws(x, ...)  # S3 method for class 'draws_matrix' order_draws(x, ...)  # S3 method for class 'draws_array' order_draws(x, ...)  # S3 method for class 'draws_df' order_draws(x, ...)  # S3 method for class 'draws_list' order_draws(x, ...)  # S3 method for class 'draws_rvars' order_draws(x, ...)  # S3 method for class 'rvar' order_draws(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/order_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Order draws objects — order_draws","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/order_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Order draws objects — order_draws","text":"draws object class x.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/order_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Order draws objects — order_draws","text":"","code":"x <- as_draws_array(example_draws()) dimnames(x[10:5, 4:3, ]) #> $iteration #> [1] \"10\" \"9\"  \"8\"  \"7\"  \"6\"  \"5\"  #>  #> $chain #> [1] \"4\" \"3\" #>  #> $variable #>  [1] \"mu\"       \"tau\"      \"theta[1]\" \"theta[2]\" \"theta[3]\" \"theta[4]\" #>  [7] \"theta[5]\" \"theta[6]\" \"theta[7]\" \"theta[8]\" #>  dimnames(order_draws(x[10:5, 4:3, ])) #> $iteration #> [1] \"5\"  \"6\"  \"7\"  \"8\"  \"9\"  \"10\" #>  #> $chain #> [1] \"3\" \"4\" #>  #> $variable #>  [1] \"mu\"       \"tau\"      \"theta[1]\" \"theta[2]\" \"theta[3]\" \"theta[4]\" #>  [7] \"theta[5]\" \"theta[6]\" \"theta[7]\" \"theta[8]\" #>"},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_diags.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto smoothing diagnostics — pareto_diags","title":"Pareto smoothing diagnostics — pareto_diags","text":"Compute diagnostics Pareto smoothing tail draws x replacing tail draws order statistics generalized Pareto distribution fit tail(s).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_diags.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto smoothing diagnostics — pareto_diags","text":"","code":"pareto_diags(x, ...)  # Default S3 method pareto_diags(   x,   tail = c(\"both\", \"right\", \"left\"),   r_eff = NULL,   ndraws_tail = NULL,   verbose = FALSE,   are_log_weights = FALSE,   ... )  # S3 method for class 'rvar' pareto_diags(x, ...)  pareto_khat_threshold(x, ...)  # Default S3 method pareto_khat_threshold(x, ...)  # S3 method for class 'rvar' pareto_khat_threshold(x, ...)  pareto_min_ss(x, ...)  # Default S3 method pareto_min_ss(x, ...)  # S3 method for class 'rvar' pareto_min_ss(x, ...)  pareto_convergence_rate(x, ...)  # Default S3 method pareto_convergence_rate(x, ...)  # S3 method for class 'rvar' pareto_convergence_rate(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_diags.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto smoothing diagnostics — pareto_diags","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable). tail (string) tail diagnose/smooth: \"right\": diagnose/smooth right (upper) tail \"left\": diagnose/smooth left (lower) tail \"\": diagnose/smooth tails return maximum k-hat value default \"\". r_eff (numeric) relative effective sample size estimate. r_eff NULL, calculated assuming draws MCMC. Default NULL. ndraws_tail (numeric) number draws tail. ndraws_tail specified, calculated ceiling(3 * sqrt(length(x) / r_eff)) length(x) > 225 length(x) / 5 otherwise (see Appendix H Vehtari et al. (2024)). verbose (logical) diagnostic messages printed? TRUE, messages related Pareto diagnostics printed. Default FALSE. are_log_weights (logical) draws log weights? Default FALSE. TRUE computation take account draws log weights, right tail smoothed.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_diags.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pareto smoothing diagnostics — pareto_diags","text":"List Pareto smoothing diagnostics: khat: estimated Pareto k shape parameter, min_ss: minimum sample size reliable Pareto smoothed estimate, khat_threshold: khat-threshold reliable Pareto smoothed estimate, convergence_rate: Pareto smoothed estimate RMSE convergence rate.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_diags.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Pareto smoothing diagnostics — pareto_diags","text":"fitted Generalized Pareto Distribution used smooth tail values smoothed values used compute expectations, following diagnostics can give information reliability estimates. min_ss: Minimum sample size reliable Pareto smoothed estimate. actual sample size greater min_ss, Pareto smoothed estimates can considered reliable. actual sample size lower min_ss, increasing sample size might result reliable estimates. details, see Section 3.2.3, Equation 11 Vehtari et al. (2024). khat_threshold: Threshold k-hat values result reliable Pareto smoothed estimates. threshold lower smaller effective sample sizes. k-hat larger threshold, increasing total sample size may improve reliability estimates. details, see Section 3.2.4, Equation 13 Vehtari et al. (2024). convergence_rate: Relative convergence rate compared central limit theorem. Applicable actual sample size sufficiently large (greater min_ss). convergence rate tells rate variance estimate reduces sample size increased, compared central limit theorem convergence rate. See Appendix B Vehtari et al. (2024).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_diags.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Pareto smoothing diagnostics — pareto_diags","text":"Aki Vehtari, Daniel Simpson, Andrew Gelman, Yuling Yao Jonah Gabry (2024). Pareto Smoothed Importance Sampling. Journal Machine Learning Research, 25(72):1-58. PDF","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_diags.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pareto smoothing diagnostics — pareto_diags","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") pareto_diags(mu) #> $khat #> [1] 0.1883631 #>  #> $min_ss #> [1] 17.06389 #>  #> $khat_threshold #> [1] 0.6156891 #>  #> $convergence_rate #> [1] 0.9872523 #>   d <- as_draws_rvars(example_draws(\"multi_normal\")) pareto_diags(d$Sigma) #> $khat #>            [,1]       [,2]        [,3] #> [1,] 0.04795008 0.04397814  0.04538642 #> [2,] 0.04397814 0.08793028  0.07088579 #> [3,] 0.04538642 0.07088579 -0.08599429 #>  #> $min_ss #>          [,1]     [,2]     [,3] #> [1,] 11.22962 11.11735 11.15692 #> [2,] 11.11735 12.48554 11.92049 #> [3,] 11.15692 11.92049 10.00000 #>  #> $khat_threshold #>           [,1]      [,2]      [,3] #> [1,] 0.6156891 0.6156891 0.6156891 #> [2,] 0.6156891 0.6156891 0.6156891 #> [3,] 0.6156891 0.6156891 0.6156891 #>  #> $convergence_rate #>           [,1]      [,2]      [,3] #> [1,] 0.9984733 0.9986277 0.9985736 #> [2,] 0.9986277 0.9965542 0.9974598 #> [3,] 0.9985736 0.9974598 1.0000000 #>"},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_khat.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto khat diagnostic — pareto_khat","title":"Pareto khat diagnostic — pareto_khat","text":"Estimate Pareto k value fitting Generalized Pareto Distribution one two tails x. can used estimate number fractional moments useful convergence diagnostics. details see Vehtari et al. (2024).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_khat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto khat diagnostic — pareto_khat","text":"","code":"pareto_khat(x, ...)  # Default S3 method pareto_khat(   x,   tail = c(\"both\", \"right\", \"left\"),   r_eff = NULL,   ndraws_tail = NULL,   verbose = FALSE,   are_log_weights = FALSE,   ... )  # S3 method for class 'rvar' pareto_khat(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_khat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto khat diagnostic — pareto_khat","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable). tail (string) tail diagnose/smooth: \"right\": diagnose/smooth right (upper) tail \"left\": diagnose/smooth left (lower) tail \"\": diagnose/smooth tails return maximum k-hat value default \"\". r_eff (numeric) relative effective sample size estimate. r_eff NULL, calculated assuming draws MCMC. Default NULL. ndraws_tail (numeric) number draws tail. ndraws_tail specified, calculated ceiling(3 * sqrt(length(x) / r_eff)) length(x) > 225 length(x) / 5 otherwise (see Appendix H Vehtari et al. (2024)). verbose (logical) diagnostic messages printed? TRUE, messages related Pareto diagnostics printed. Default FALSE. are_log_weights (logical) draws log weights? Default FALSE. TRUE computation take account draws log weights, right tail smoothed.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_khat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pareto khat diagnostic — pareto_khat","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_khat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Pareto khat diagnostic — pareto_khat","text":"Aki Vehtari, Daniel Simpson, Andrew Gelman, Yuling Yao Jonah Gabry (2024). Pareto Smoothed Importance Sampling. Journal Machine Learning Research, 25(72):1-58. PDF","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_khat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pareto khat diagnostic — pareto_khat","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") pareto_khat(mu) #> [1] 0.1883631  d <- as_draws_rvars(example_draws(\"multi_normal\")) pareto_khat(d$Sigma) #>            [,1]       [,2]        [,3] #> [1,] 0.04795008 0.04397814  0.04538642 #> [2,] 0.04397814 0.08793028  0.07088579 #> [3,] 0.04538642 0.07088579 -0.08599429"},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_smooth.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto smoothing — pareto_smooth","title":"Pareto smoothing — pareto_smooth","text":"Smooth tail draws x replacing tail draws order statistics generalized Pareto distribution fit tail(s). details see Vehtari et al. (2024).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_smooth.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto smoothing — pareto_smooth","text":"","code":"pareto_smooth(x, ...)  # S3 method for class 'rvar' pareto_smooth(x, return_k = FALSE, extra_diags = FALSE, ...)  # Default S3 method pareto_smooth(   x,   tail = c(\"both\", \"right\", \"left\"),   r_eff = NULL,   ndraws_tail = NULL,   return_k = FALSE,   extra_diags = FALSE,   verbose = TRUE,   are_log_weights = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_smooth.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto smoothing — pareto_smooth","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable). return_k (logical) Pareto khat included output? TRUE, output list containing smoothed draws diagnostics, otherwise numeric smoothed draws. Default FALSE. extra_diags (logical) extra Pareto khat diagnostics included output? TRUE, min_ss, khat_threshold convergence_rate estimated k value returned. Default FALSE. tail (string) tail diagnose/smooth: \"right\": diagnose/smooth right (upper) tail \"left\": diagnose/smooth left (lower) tail \"\": diagnose/smooth tails return maximum k-hat value default \"\". r_eff (numeric) relative effective sample size estimate. r_eff NULL, calculated assuming draws MCMC. Default NULL. ndraws_tail (numeric) number draws tail. ndraws_tail specified, calculated ceiling(3 * sqrt(length(x) / r_eff)) length(x) > 225 length(x) / 5 otherwise (see Appendix H Vehtari et al. (2024)). verbose (logical) diagnostic messages printed? TRUE, messages related Pareto diagnostics printed. Default FALSE. are_log_weights (logical) draws log weights? Default FALSE. TRUE computation take account draws log weights, right tail smoothed.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_smooth.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pareto smoothing — pareto_smooth","text":"Either vector x smoothed values named list containing vector x named list diagnostics containing numeric values: khat: estimated Pareto k shape parameter, optionally min_ss: minimum sample size reliable Pareto smoothed estimate khat_threshold: sample size specific khat threshold reliable Pareto smoothed estimates convergence_rate: Relative convergence rate Pareto smoothed estimates draws non-finite, , NA, NaN, Inf, -Inf, Pareto smoothing performed, original draws returned diagnostics NA (numeric).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_smooth.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Pareto smoothing — pareto_smooth","text":"Aki Vehtari, Daniel Simpson, Andrew Gelman, Yuling Yao Jonah Gabry (2024). Pareto Smoothed Importance Sampling. Journal Machine Learning Research, 25(72):1-58. PDF","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/pareto_smooth.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pareto smoothing — pareto_smooth","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") pareto_smooth(mu) #> Pareto k-hat = 0.19. #>          chain #> iteration            1           2           3           4 #>       1    2.005831131   2.9903807  1.79436801  6.45897880 #>       2    1.458316115   8.0694650  5.98637117  9.27455226 #>       3    5.814947304  -1.3572537  2.55720201  0.30799874 #>       4    6.849586239  11.4282511  2.79442522  3.69252884 #>       5    1.805167741  10.1122198  0.11775891  5.48027067 #>       6    3.841242509 -10.9048130  1.06361700  2.37951413 #>       7    5.474272939  -7.6803520  3.67385716 12.38234076 #>       8    1.203061702   1.7910520  3.50583836  4.90456023 #>       9    0.196964953   5.3502540  8.86764651  0.87963558 #>       10   7.172909824   0.8686961  8.92988008  3.81374732 #>       11   0.991031399  10.2332113  1.89644594  3.43243605 #>       12  -1.584871574   7.1784205  4.26930915 -5.20627855 #>       13   0.732818989   7.3039028  0.50650715 -4.54522355 #>       14   5.447505729   0.2349618 -0.30509849  7.37454008 #>       15   6.180503083   7.8728580  0.56675275  2.21244092 #>       16   8.111140275  13.7112499  6.10796214  6.09010450 #>       17   7.404334735  -4.0393964  6.13616693  8.63655395 #>       18   5.065306530   9.3514496  0.93917231 10.81730425 #>       19   6.595009921   7.3376411 -0.25161267  2.29580552 #>       20  -6.141777930  -0.4181885  4.01895927  8.02861731 #>       21  10.998473912   4.8269561  5.36039410  6.59446197 #>       22   8.748750597  -0.3605767  0.65236100  4.77379635 #>       23   8.479223008   0.8569094  2.18232401 -1.71134333 #>       24   9.515087161   0.3431308 -0.47808994  8.38076792 #>       25   1.368600891   8.4293964  2.37151659  1.96883059 #>       26   6.328315654   9.6024486  1.99824582  5.52765102 #>       27   7.799157426   0.2719572  3.00600558  6.10060909 #>       28   5.504497775   3.5261792  2.61449547  5.13685962 #>       29   7.154337317   6.6350413  4.05403279  6.26798609 #>       30   7.154337317   4.8731366  4.72705540  6.21822025 #>       31   4.498041388   5.7494789  2.07701271  2.24644098 #>       32   3.972859301  -0.0552018  1.71709968  1.01563071 #>       33   1.246672116   9.6939981  5.67656775  4.37682520 #>       34   6.715446883   1.2563140  7.35979809 -0.15011826 #>       35   2.593476464   4.6005333  3.34758639  6.85536829 #>       36   4.150923157   2.6221442  3.46540535  0.80866989 #>       37   5.576988102   7.0896455  7.55994315  7.31015271 #>       38   6.479588155   3.2713094  1.07576229  0.70653658 #>       39   6.714914933  10.5019605  0.87317333  3.45283097 #>       40   3.092833896  -3.0056665  8.28687405  6.15700804 #>       41   4.667634250   5.7776049  9.20058491  6.94590217 #>       42   0.443470401   3.3459415  7.76326303  7.69327441 #>       43   7.659139022   4.5800481  3.64745811  5.71361755 #>       44   2.771024107   6.2521502  4.02172175  1.09474532 #>       45  -2.533628504   3.0365350  5.59027281  4.14183957 #>       46   3.623976143   6.3778728  3.77182163  4.65610892 #>       47   4.177536768  -1.1571581  6.76726892  4.83530335 #>       48   5.189133838  10.3626756  6.73120973  2.36025147 #>       49   3.700737411   2.2621509 -2.15804595  5.18949994 #>       50   7.910712779   1.9472608 -0.81877383  6.96445721 #>       51   2.589031398   9.0605670 -3.29425505  0.78386808 #>       52   2.482615981   6.4514427  8.99413915  4.92198428 #>       53   0.907575663   4.7628599  9.99861639  4.12501340 #>       54   0.377394675  -2.7548612  4.85299318  4.38195376 #>       55   7.949271925   8.1971198  0.03388132  0.59589843 #>       56   2.332970667   6.4147976  5.44475101  3.08923892 #>       57   4.332468078   6.0694052  6.49611407  5.61329746 #>       58   1.729912103   3.4303524  2.08284445  5.80087096 #>       59   1.419622625   4.8609672  3.42615485  2.68913918 #>       60   6.577866229   6.7151986  3.86646326  4.23484000 #>       61  11.690832364   7.2758048  1.89767270  0.07643546 #>       62  -2.336123539   6.4285112  6.78704544  6.75807164 #>       63  -1.996144462   3.2423664  3.67681516  5.35730452 #>       64  13.607246151   9.4315314  2.80134400  3.36597040 #>       65  -3.632647487  -0.9790194  1.55813764  3.61442662 #>       66  12.879658954   8.6918646  5.07969585  3.35760729 #>       67   0.888618383   3.7197851  5.33168512  3.62716863 #>       68   0.902805722   5.7473411  4.05880826  0.83301183 #>       69   1.677317438   6.7786534  6.43319154  7.19935256 #>       70   7.727975737   8.8073091  6.14945199 -0.19999135 #>       71   9.790179925   0.4753524  6.75459412  1.54498835 #>       72   5.919052946   9.8915144  5.75546387  8.58272995 #>       73   2.746375368  -1.8479045  4.77007413  0.67972393 #>       74   6.479242789  11.2002490  4.44370854  8.24150349 #>       75   2.768362673   2.9683601  6.27212042  0.99399372 #>       76   7.434553938   7.0137450  3.15152477  2.54345797 #>       77   2.667748017   3.6667249  4.95460833  7.21851228 #>       78   5.528706765   1.4107874  5.29437266  5.12487891 #>       79  12.001222505   6.5853663  3.50990665  2.41520814 #>       80  -0.896870228   3.4569871 -0.54045445  3.81524258 #>       81  -0.101887371   3.9422212 -0.60547524  5.15624656 #>       82   5.276273611   5.8307438 -0.67336840  3.74296853 #>       83  -0.009972747   7.4963181 -0.74437667  0.53696452 #>       84   1.761676222  -1.2541562  1.00657412  7.98856351 #>       85  -1.065626425   7.0098511  3.14241272  7.83568123 #>       86   5.327504662   1.2485226  6.64058798  6.18030063 #>       87   6.328764411   1.8698705  4.78821655  5.81531118 #>       88   2.452525963   5.8221195  2.89403878  3.15575203 #>       89   3.733483884   3.3794860  9.12932297  3.22457344 #>       90   2.791900326   5.5873786  0.41082914  5.44679063 #>       91   6.123445484   5.8921388  6.38032817  1.06898827 #>       92   3.651788529  10.6527701  7.46521057  6.69428679 #>       93   5.425330551   3.9578860  8.33327864  5.16954115 #>       94   4.815524177   2.6667289  6.31708788  0.97997759 #>       95   3.507938034   7.5924910  1.33994762  5.68731206 #>       96   6.775165528   0.7585901  7.62555057  3.28055582 #>       97   1.856798224   8.1536791  3.92688491  5.03958552 #>       98   6.172828280   1.5199011  0.15791566  2.72636415 #>       99   1.548534686   8.5303112  3.17470254  0.62442662 #>       100  7.527890706  -1.4671966  3.57555760  7.04723309  d <- as_draws_rvars(example_draws(\"multi_normal\")) pareto_smooth(d$Sigma) #> Pareto k-hat = 0.05. #> Pareto k-hat = 0.04. #> Pareto k-hat = 0.05. #> Pareto k-hat = 0.04. #> Pareto k-hat = 0.09. #> Pareto k-hat = 0.07. #> Pareto k-hat = 0.05. #> Pareto k-hat = 0.07. #> Pareto k-hat = -0.09. #> rvar<100,4>[3,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.28 ± 0.17   0.53 ± 0.21  -0.40 ± 0.29  #> [2,]  0.53 ± 0.21   3.67 ± 0.45  -2.10 ± 0.49  #> [3,] -0.40 ± 0.29  -2.10 ± 0.49   8.12 ± 0.96"},{"path":"https://mc-stan.org/posterior/dev/reference/pit.html","id":null,"dir":"Reference","previous_headings":"","what":"Probability integral transform — pit","title":"Probability integral transform — pit","text":"Probability integral transform (PIT). LOO-PIT given weighted sample.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pit.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Probability integral transform — pit","text":"","code":"pit(x, y, ...)  # Default S3 method pit(x, y, weights = NULL, log = FALSE, ...)  # S3 method for class 'draws_matrix' pit(x, y, weights = NULL, log = FALSE, ...)  # S3 method for class 'rvar' pit(x, y, weights = NULL, log = FALSE, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/pit.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Probability integral transform — pit","text":"x (draws) draws_matrix object one coercible draws_matrix object, rvar object. y (observations) 1D vector, array dim(x), x rvar. element y corresponds variable x. ... Arguments passed individual methods (applicable). weights matrix weights draw variable. weights one column per variable x, ndraws(x) rows. log (logical) weights passed already log scale? default FALSE, , expecting weights standard (non-log) scale.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pit.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Probability integral transform — pit","text":"numeric vector length length(y) containing PIT values, array shape dim(y), x rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/pit.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Probability integral transform — pit","text":"pit() function computes probability integral transform y using empirical cumulative distribution computed samples x. continuous valued y x, PIT elements y computed empirical cumulative distribution value:   x_i, corresponding set draws x. draws objects, corresponds draws ith variable, rvar elements y x matched. draws x can provided (log-)weights y x discrete, randomisation used obtain continuous PIT values. (see, e.g., Czado, C., Gneiting, T., Held, L.: Predictive model assessment count data.  Biometrics 65(4), 1254–1261 (2009).)","code":"PIT(y_i) = Pr(x_i < y_i),"},{"path":"https://mc-stan.org/posterior/dev/reference/pit.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Probability integral transform — pit","text":"","code":"# PIT for a draws object x <- example_draws() # Create a vector of observations y <- rnorm(nvariables(x), 5, 5) pit(x, y) #>       mu      tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6]  #>   0.9925   0.9250   0.6850   0.2375   0.4100   0.3275   0.6100   0.3725  #> theta[7] theta[8]  #>   0.8425   0.1700   # Compute weighted PIT (for example LOO-PIT) weights <- matrix(runif(length(x)), ncol = nvariables(x))  pit(x, y, weights) #>        mu       tau  theta[1]  theta[2]  theta[3]  theta[4]  theta[5]  theta[6]  #> 0.9972353 0.9297652 0.6788869 0.2233790 0.4367275 0.3191985 0.5956808 0.3728594  #>  theta[7]  theta[8]  #> 0.8496700 0.1614059   # PIT for an rvar x <- rvar(example_draws()) # Create an array of observations with the same dimensions as x. y_arr <- array(rnorm(length(x), 5, 5), dim = dim(x)) pit(x, y_arr) #>      variable #> chain   mu  tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6] theta[7] #>     1 0.30 0.00     0.45     0.85     0.15     0.10     0.23     0.17     0.30 #>     2 0.02 0.65     0.73     0.18     0.56     0.45     0.42     0.54     0.23 #>     3 1.00 0.41     0.14     0.88     0.40     0.87     0.41     0.20     0.00 #>     4 0.03 0.92     0.00     0.63     0.39     0.44     0.62     0.92     0.89 #>      variable #> chain theta[8] #>     1     0.64 #>     2     0.52 #>     3     0.25 #>     4     0.48"},{"path":"https://mc-stan.org/posterior/dev/reference/posterior-package.html","id":null,"dir":"Reference","previous_headings":"","what":"Tools for working with posterior (and prior) distributions — posterior-package","title":"Tools for working with posterior (and prior) distributions — posterior-package","text":"https://mc-stan.org/posterior/ posterior package intended provide useful tools users developers packages fitting Bayesian models working output Bayesian models. primary goals package : Efficiently convert many different useful formats draws (samples) posterior prior distributions. Provide consistent methods operations commonly performed draws, example, subsetting, binding, mutating draws. Provide various summaries draws convenient formats. Provide lightweight implementations state art posterior inference diagnostics.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/posterior-package.html","id":"package-options","dir":"Reference","previous_headings":"","what":"Package options","title":"Tools for working with posterior (and prior) distributions — posterior-package","text":"following options used format print draws objects, print.draws_array(), print.draws_df(), print.draws_list(), print.draws_matrix(), print.draws_rvars(): posterior.max_draws: Maximum number draws print. posterior.max_iterations: Maximum number iterations print. posterior.max_chains: Maximum number chains print. posterior.max_variables: Maximum number variables print. following options used formatting output summarize_draws: posterior.num_args: Arguments passed num() pretty printing summaries. following options used format print rvar objects, print.rvar() print.draws_rvars(): posterior.rvar_summary: style summary display: \"mean_sd\" displays mean ± sd, \"median_mad\" displays median ± mad. posterior.digits: many significant digits displayed. defaults smaller value (2) getOption(\"digits\") rvars print two numbers (point summary uncertainty) next . following option used construct new rvar objects, rfun() rdo(): posterior.rvar_ndraws: number draws used construct new random variables number determined existing arguments (e.g., rvars passed function). following options used control warning messages: posterior.warn_on_merge_chains: (logical) operations trigger automatic merging chains, example, chains match two objects involved binary operation. Whether causes warning can controlled option.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/posterior-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"Tools for working with posterior (and prior) distributions — posterior-package","text":"Maintainer: Paul-Christian Bürkner paul.buerkner@gmail.com Authors: Jonah Gabry jsg2201@columbia.edu Matthew Kay mjskay@northwestern.edu Aki Vehtari Aki.Vehtari@aalto.fi contributors: Måns Magnusson [contributor] Rok Češnovar [contributor] Ben Lambert [contributor] Ozan Adıgüzel [contributor] Jacob Socolar [contributor] Noa Kallioinen [contributor] Teemu Säilynoja [contributor]","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_array.html","id":null,"dir":"Reference","previous_headings":"","what":"Print draws_array objects — print.draws_array","title":"Print draws_array objects — print.draws_array","text":"Pretty printing draws_array objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_array.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print draws_array objects — print.draws_array","text":"","code":"# S3 method for class 'draws_array' print(   x,   digits = 2,   max_iterations = getOption(\"posterior.max_iterations\", 5),   max_chains = getOption(\"posterior.max_chains\", 8),   max_variables = getOption(\"posterior.max_variables\", 4),   reserved = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_array.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print draws_array objects — print.draws_array","text":"x (draws) draws object another R object method defined. digits (nonnegative integer) minimum number significant digits print. NULL, defaults getOption(\"posterior.digits\", 2). max_iterations (positive integer) maximum number iterations print. Can controlled globally via \"posterior.max_iterations\" option. max_chains (positive integer) maximum number chains print. Can controlled globally via \"posterior.max_chains\" option. max_variables (positive integer) maximum number variables print. Can controlled globally via \"posterior.max_variables\" option. reserved (logical) reserved variables included output? Defaults FALSE. See reserved_variables overview currently reserved variable names. ... arguments passed underlying print() methods.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_array.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print draws_array objects — print.draws_array","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_array.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print draws_array objects — print.draws_array","text":"","code":"x <- as_draws_array(example_draws()) print(x) #> # A draws_array: 100 iterations, 4 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration   1    2     3   4 #>         1 2.0  3.0  1.79 6.5 #>         2 1.5  8.2  5.99 9.1 #>         3 5.8 -1.2  2.56 0.2 #>         4 6.8 10.9  2.79 3.7 #>         5 1.8  9.8 -0.03 5.5 #>  #> , , variable = tau #>  #>          chain #> iteration   1    2    3   4 #>         1 2.8 2.80  8.7 3.8 #>         2 7.0 2.76  2.9 6.8 #>         3 9.7 0.57  8.4 5.3 #>         4 4.8 2.45  4.4 1.6 #>         5 2.8 2.80 11.0 3.0 #>  #> , , variable = theta[1] #>  #>          chain #> iteration     1     2    3     4 #>         1  3.96  6.26 13.3  5.78 #>         2  0.12  9.32  6.3  2.09 #>         3 21.25 -0.97 10.6 15.72 #>         4 14.70 12.45  5.4  2.69 #>         5  5.96  9.75  8.2 -0.91 #>  #> , , variable = theta[2] #>  #>          chain #> iteration      1    2   3   4 #>         1  0.271  1.0 2.1 5.0 #>         2 -0.069  9.4 7.3 8.2 #>         3 14.931 -1.2 5.7 6.0 #>         4  8.586 12.5 2.8 2.7 #>         5  1.156 11.9 3.2 3.2 #>  #> # ... with 95 more iterations, and 6 more variables"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_df.html","id":null,"dir":"Reference","previous_headings":"","what":"Print draws_df objects — print.draws_df","title":"Print draws_df objects — print.draws_df","text":"Pretty printing draws_df objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_df.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print draws_df objects — print.draws_df","text":"","code":"# S3 method for class 'draws_df' print(   x,   digits = 2,   max_draws = getOption(\"posterior.max_draws\", 10),   max_variables = getOption(\"posterior.max_variables\", 8),   reserved = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_df.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print draws_df objects — print.draws_df","text":"x (draws) draws object another R object method defined. digits (nonnegative integer) minimum number significant digits print. NULL, defaults getOption(\"posterior.digits\", 2). max_draws (positive integer) maximum number draws print. Can controlled globally via \"posterior.max_draws\" option. max_variables (positive integer) maximum number variables print. Can controlled globally via \"posterior.max_variables\" option. reserved (logical) reserved variables included output? Defaults FALSE. See reserved_variables overview currently reserved variable names. ... arguments passed underlying print() methods.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_df.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print draws_df objects — print.draws_df","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_df.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print draws_df objects — print.draws_df","text":"","code":"x <- as_draws_df(example_draws()) print(x) #> # A draws_df: 100 iterations, 4 chains, and 10 variables #>      mu tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6] #> 1  2.01 2.8     3.96    0.271    -0.74      2.1    0.923      1.7 #> 2  1.46 7.0     0.12   -0.069     0.95      7.3   -0.062     11.3 #> 3  5.81 9.7    21.25   14.931     1.83      1.4    0.531      7.2 #> 4  6.85 4.8    14.70    8.586     2.67      4.4    4.758      8.1 #> 5  1.81 2.8     5.96    1.156     3.11      2.0    0.769      4.7 #> 6  3.84 4.1     5.76    9.909    -1.00      5.3    5.889     -1.7 #> 7  5.47 4.0     4.03    4.151    10.15      6.6    3.741     -2.2 #> 8  1.20 1.5    -0.28    1.846     0.47      4.3    1.467      3.3 #> 9  0.15 3.9     1.81    0.661     0.86      4.5   -1.025      1.1 #> 10 7.17 1.8     6.08    8.102     7.68      5.6    7.106      8.5 #> # ... with 390 more draws, and 2 more variables #> # ... hidden reserved variables {'.chain', '.iteration', '.draw'}"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Print draws_list objects — print.draws_list","title":"Print draws_list objects — print.draws_list","text":"Pretty printing draws_list objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print draws_list objects — print.draws_list","text":"","code":"# S3 method for class 'draws_list' print(   x,   digits = 2,   max_iterations = getOption(\"posterior.max_iterations\", 10),   max_chains = getOption(\"posterior.max_chains\", 2),   max_variables = getOption(\"posterior.max_variables\", 4),   reserved = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print draws_list objects — print.draws_list","text":"x (draws) draws object another R object method defined. digits (nonnegative integer) minimum number significant digits print. NULL, defaults getOption(\"posterior.digits\", 2). max_iterations (positive integer) maximum number iterations print. Can controlled globally via \"posterior.max_iterations\" option. max_chains (positive integer) maximum number chains print. Can controlled globally via \"posterior.max_chains\" option. max_variables (positive integer) maximum number variables print. Can controlled globally via \"posterior.max_variables\" option. reserved (logical) reserved variables included output? Defaults FALSE. See reserved_variables overview currently reserved variable names. ... arguments passed underlying print() methods.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print draws_list objects — print.draws_list","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_list.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print draws_list objects — print.draws_list","text":"","code":"x <- as_draws_list(example_draws()) print(x) #> # A draws_list: 100 iterations, 4 chains, and 10 variables #>  #> [chain = 1] #> $mu #>  [1] 2.01 1.46 5.81 6.85 1.81 3.84 5.47 1.20 0.15 7.17 #>  #> $tau #>  [1] 2.8 7.0 9.7 4.8 2.8 4.1 4.0 1.5 3.9 1.8 #>  #> $`theta[1]` #>  [1]  3.96  0.12 21.25 14.70  5.96  5.76  4.03 -0.28  1.81  6.08 #>  #> $`theta[2]` #>  [1]  0.271 -0.069 14.931  8.586  1.156  9.909  4.151  1.846  0.661  8.102 #>  #>  #> [chain = 2] #> $mu #>  [1]   2.99   8.17  -1.15  10.93   9.82 -10.90  -9.26   1.79   5.35   0.87 #>  #> $tau #>  [1] 2.80 2.76 0.57 2.45 2.80 6.08 9.33 6.81 2.82 6.69 #>  #> $`theta[1]` #>  [1]  6.26  9.32 -0.97 12.45  9.75  2.56 11.92  9.89  4.31  9.26 #>  #> $`theta[2]` #>  [1]  1.0  9.4 -1.2 12.5 11.9 -8.8 -6.1 11.6  2.8  8.4 #>  #> # ... with 90 more iterations, and 2 more chains, and 6 more variables"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Print draws_matrix objects — print.draws_matrix","title":"Print draws_matrix objects — print.draws_matrix","text":"Pretty printing draws_matrix objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print draws_matrix objects — print.draws_matrix","text":"","code":"# S3 method for class 'draws_matrix' print(   x,   digits = 2,   max_draws = getOption(\"posterior.max_draws\", 10),   max_variables = getOption(\"posterior.max_variables\", 8),   reserved = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print draws_matrix objects — print.draws_matrix","text":"x (draws) draws object another R object method defined. digits (nonnegative integer) minimum number significant digits print. NULL, defaults getOption(\"posterior.digits\", 2). max_draws (positive integer) maximum number draws print. Can controlled globally via \"posterior.max_draws\" option. max_variables (positive integer) maximum number variables print. Can controlled globally via \"posterior.max_variables\" option. reserved (logical) reserved variables included output? Defaults FALSE. See reserved_variables overview currently reserved variable names. ... arguments passed underlying print() methods.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print draws_matrix objects — print.draws_matrix","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_matrix.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print draws_matrix objects — print.draws_matrix","text":"","code":"x <- as_draws_matrix(example_draws()) print(x) #> # A draws_matrix: 100 iterations, 4 chains, and 10 variables #>     variable #> draw   mu tau theta[1] theta[2] theta[3] theta[4] theta[5] theta[6] #>   1  2.01 2.8     3.96    0.271    -0.74      2.1    0.923      1.7 #>   2  1.46 7.0     0.12   -0.069     0.95      7.3   -0.062     11.3 #>   3  5.81 9.7    21.25   14.931     1.83      1.4    0.531      7.2 #>   4  6.85 4.8    14.70    8.586     2.67      4.4    4.758      8.1 #>   5  1.81 2.8     5.96    1.156     3.11      2.0    0.769      4.7 #>   6  3.84 4.1     5.76    9.909    -1.00      5.3    5.889     -1.7 #>   7  5.47 4.0     4.03    4.151    10.15      6.6    3.741     -2.2 #>   8  1.20 1.5    -0.28    1.846     0.47      4.3    1.467      3.3 #>   9  0.15 3.9     1.81    0.661     0.86      4.5   -1.025      1.1 #>   10 7.17 1.8     6.08    8.102     7.68      5.6    7.106      8.5 #> # ... with 390 more draws, and 2 more variables"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_rvars.html","id":null,"dir":"Reference","previous_headings":"","what":"Print draws_rvars objects — print.draws_rvars","title":"Print draws_rvars objects — print.draws_rvars","text":"Pretty printing draws_rvars objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_rvars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print draws_rvars objects — print.draws_rvars","text":"","code":"# S3 method for class 'draws_rvars' print(   x,   digits = 2,   max_variables = getOption(\"posterior.max_variables\", 8),   summary = getOption(\"posterior.rvar_summary\", \"mean_sd\"),   reserved = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_rvars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print draws_rvars objects — print.draws_rvars","text":"x (draws) draws object another R object method defined. digits (nonnegative integer) minimum number significant digits print. NULL, defaults getOption(\"posterior.digits\", 2). max_variables (positive integer) maximum number variables print. Can controlled globally via \"posterior.max_variables\" option. summary (string) style summary display: \"mean_sd\" displays mean ± sd \"median_mad\" displays median ± mad \"mode_entropy\" displays mode <entropy>, used automatically rvar_factors. shows normalized entropy, ranges 0 (probability one category) 1 (uniform). See entropy(). \"mode_dissent\" displays mode <dissent>, used automatically rvar_ordereds. shows Tastle Wierman's (2007) dissention measure, ranges 0 (probability one category) 0.5 (uniform) 1 (bimodal: probability split equally first last category). See dissent(). NULL uses getOption(\"posterior.rvar_summary\") (default \"mean_sd) reserved (logical) reserved variables included output? Defaults FALSE. See reserved_variables overview currently reserved variable names. ... arguments passed underlying print() methods.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_rvars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print draws_rvars objects — print.draws_rvars","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_rvars.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print draws_rvars objects — print.draws_rvars","text":"","code":"x <- as_draws_rvars(example_draws()) print(x) #> # A draws_rvars: 100 iterations, 4 chains, and 3 variables #> $mu: rvar<100,4>[1] mean ± sd: #> [1] 4.2 ± 3.4  #>  #> $tau: rvar<100,4>[1] mean ± sd: #> [1] 4.2 ± 3.6  #>  #> $theta: rvar<100,4>[8] mean ± sd: #> [1] 6.7 ± 6.3  5.3 ± 4.6  3.0 ± 6.8  4.9 ± 4.9  3.2 ± 5.1  4.0 ± 5.2  6.5 ± 5.3  #> [8] 4.6 ± 5.3  #>"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_summary.html","id":null,"dir":"Reference","previous_headings":"","what":"Print summaries of draws objects — print.draws_summary","title":"Print summaries of draws objects — print.draws_summary","text":"Print output summarise_draws().","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_summary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print summaries of draws objects — print.draws_summary","text":"","code":"# S3 method for class 'draws_summary' print(x, ..., num_args = NULL)"},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_summary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print summaries of draws objects — print.draws_summary","text":"x (draws_summary) \"draws_summary\" object output summarise_draws(). ... Additional arguments passed tibble::print.tbl_df() num_args (named list) Optional arguments passed num() pretty printing summaries. NULL (default), uses arguments stored \"num_args\" attribute x, set .num_args argument summarise_draws(), can controlled globally via posterior.num_args option.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_summary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print summaries of draws objects — print.draws_summary","text":"invisible version input object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.draws_summary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print summaries of draws objects — print.draws_summary","text":"","code":"x <- example_draws(\"eight_schools\")  # adjust how summaries are printed when calling summarise_draws()... summarise_draws(x, .num_args = list(sigfig = 2, notation = \"dec\")) #> # A tibble: 10 × 10 #>    variable  mean median    sd   mad     q5   q95  rhat ess_bulk ess_tail #>    <chr>    <dbl>  <dbl> <dbl> <dbl>  <dbl> <dbl> <dbl>    <dbl>    <dbl> #>  1 mu         4.2    4.2   3.4   3.6  -0.85   9.4   1.0     558.     322. #>  2 tau        4.2    3.1   3.6   2.9   0.31  11.    1.0     246.     202. #>  3 theta[1]   6.7    6.0   6.3   4.9  -1.2   19.    1.0     400.     254. #>  4 theta[2]   5.3    5.1   4.6   4.3  -2.0   13.    1.0     564.     372. #>  5 theta[3]   3.0    4.0   6.8   4.9 -10.    12.    1.0     312.     205. #>  6 theta[4]   4.9    5.0   4.9   4.5  -3.6   12.    1.0     695.     252. #>  7 theta[5]   3.2    3.7   5.1   4.4  -5.9   11.    1.0     523.     306. #>  8 theta[6]   4.0    4.1   5.2   4.8  -4.3   12.    1.0     548.     205. #>  9 theta[7]   6.5    5.9   5.3   4.5  -1.2   15.    1.0     434.     308. #> 10 theta[8]   4.6    4.6   5.3   4.9  -3.8   12.    1.0     355.     146.  # ... or when printing s <- summarise_draws(x) print(s, num_args = list(sigfig = 2, notation = \"dec\")) #> # A tibble: 10 × 10 #>    variable  mean median    sd   mad     q5   q95  rhat ess_bulk ess_tail #>    <chr>    <dbl>  <dbl> <dbl> <dbl>  <dbl> <dbl> <dbl>    <dbl>    <dbl> #>  1 mu         4.2    4.2   3.4   3.6  -0.85   9.4   1.0     558.     322. #>  2 tau        4.2    3.1   3.6   2.9   0.31  11.    1.0     246.     202. #>  3 theta[1]   6.7    6.0   6.3   4.9  -1.2   19.    1.0     400.     254. #>  4 theta[2]   5.3    5.1   4.6   4.3  -2.0   13.    1.0     564.     372. #>  5 theta[3]   3.0    4.0   6.8   4.9 -10.    12.    1.0     312.     205. #>  6 theta[4]   4.9    5.0   4.9   4.5  -3.6   12.    1.0     695.     252. #>  7 theta[5]   3.2    3.7   5.1   4.4  -5.9   11.    1.0     523.     306. #>  8 theta[6]   4.0    4.1   5.2   4.8  -4.3   12.    1.0     548.     205. #>  9 theta[7]   6.5    5.9   5.3   4.5  -1.2   15.    1.0     434.     308. #> 10 theta[8]   4.6    4.6   5.3   4.9  -3.8   12.    1.0     355.     146. print(s, num_args = list(digits = 3)) #> # A tibble: 10 × 10 #>    variable  mean median    sd   mad      q5    q95  rhat ess_bulk ess_tail #>    <chr>    <dbl>  <dbl> <dbl> <dbl>   <dbl>  <dbl> <dbl>    <dbl>    <dbl> #>  1 mu       4.180  4.164 3.402 3.570  -0.854  9.387 1.022  558.017  322.096 #>  2 tau      4.164  3.072 3.576 2.892   0.309 11.038 1.015  246.373  202.023 #>  3 theta[1] 6.749  5.973 6.301 4.875  -1.231 18.874 1.014  400.180  253.919 #>  4 theta[2] 5.253  5.133 4.633 4.250  -1.967 12.536 1.015  564.254  371.803 #>  5 theta[3] 3.044  3.985 6.800 4.938 -10.313 11.877 1.014  312.057  205.244 #>  6 theta[4] 4.858  4.992 4.919 4.510  -3.569 12.200 1.023  694.771  251.894 #>  7 theta[5] 3.223  3.722 5.084 4.377  -5.930 10.822 1.005  522.883  305.761 #>  8 theta[6] 3.987  4.137 5.156 4.808  -4.323 11.535 1.020  548.162  204.756 #>  9 theta[7] 6.503  5.902 5.264 4.545  -1.190 15.375 1.004  434.005  308.006 #> 10 theta[8] 4.565  4.637 5.252 4.889  -3.794 12.243 1.023  355.380  146.273"},{"path":"https://mc-stan.org/posterior/dev/reference/print.rvar.html","id":null,"dir":"Reference","previous_headings":"","what":"Print or format a random variable — print.rvar","title":"Print or format a random variable — print.rvar","text":"Printing formatting methods rvars.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.rvar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Print or format a random variable — print.rvar","text":"","code":"# S3 method for class 'rvar' print(   x,   ...,   summary = NULL,   digits = NULL,   color = TRUE,   width = getOption(\"width\") )  # S3 method for class 'rvar' format(x, ..., summary = NULL, digits = NULL, color = FALSE)  # S3 method for class 'rvar' str(   object,   ...,   summary = NULL,   vec.len = NULL,   indent.str = paste(rep.int(\" \", max(0, nest.lev + 1)), collapse = \"..\"),   nest.lev = 0,   give.attr = TRUE )"},{"path":"https://mc-stan.org/posterior/dev/reference/print.rvar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Print or format a random variable — print.rvar","text":"x, object (rvar) rvar print. ... arguments passed underlying print() methods. summary (string) style summary display: \"mean_sd\" displays mean ± sd \"median_mad\" displays median ± mad \"mode_entropy\" displays mode <entropy>, used automatically rvar_factors. shows normalized entropy, ranges 0 (probability one category) 1 (uniform). See entropy(). \"mode_dissent\" displays mode <dissent>, used automatically rvar_ordereds. shows Tastle Wierman's (2007) dissention measure, ranges 0 (probability one category) 0.5 (uniform) 1 (bimodal: probability split equally first last category). See dissent(). NULL uses getOption(\"posterior.rvar_summary\") (default \"mean_sd) digits (nonnegative integer) minimum number significant digits print. NULL, defaults getOption(\"posterior.digits\", 2). color (logical) Whether use color formatting output. TRUE, pillar::style_num() functions may used produce strings containing control sequences produce colored output terminal. width maxmimum width used print lists factor levels rvar_factors. See format(). vec.len (nonnegative integer) many 'first ' elements displayed vector. NULL, defaults getOption(\"str\")$vec.len, defaults 4. indent.str (string) indentation string use. nest.lev (nonnegative integer) Current nesting level recursive calls str(). give.attr (logical) TRUE (default), show attributes sub structures.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.rvar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Print or format a random variable — print.rvar","text":"print(), invisible version input object. str(), nothing; .e. invisible(NULL). format(), character vector dimensions x entry form \"mean±sd\" \"median±mad\", depending value summary.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.rvar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Print or format a random variable — print.rvar","text":"print() str() print rvar objects summarizing element random variable either mean±sd median±mad, depending value summary. functions use format() implementation rvar objects hood, returns character vector mean±sd median±mad form.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.rvar.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Print or format a random variable — print.rvar","text":"William J. Tastle, Mark J. Wierman (2007). Consensus dissention: measure ordinal dispersion. International Journal Approximate Reasoning. 45(3), 531–545. doi:10.1016/j.ijar.2006.06.024 .","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/print.rvar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Print or format a random variable — print.rvar","text":"","code":"set.seed(5678) x = rbind(   cbind(rvar(rnorm(1000, 1)), rvar(rnorm(1000, 2))),   cbind(rvar(rnorm(1000, 3)), rvar(rnorm(1000, 4))) )  print(x) #> rvar<1000>[2,2] mean ± sd: #>      [,1]      [,2]      #> [1,] 1 ± 1.01  2 ± 0.99  #> [2,] 3 ± 1.00  4 ± 1.03  print(x, summary = \"median_mad\") #> rvar<1000>[2,2] median ± mad: #>      [,1]        [,2]        #> [1,] 1.0 ± 1.00  2.0 ± 0.98  #> [2,] 3.0 ± 1.03  3.9 ± 1.02   str(x) #>  rvar<1000>[2,2]  1 ± 1.01  3 ± 1.00  2 ± 0.99  4 ± 1.03  format(x) #>      [,1]       [,2]       #> [1,] \"1 ± 1.01\" \"2 ± 0.99\" #> [2,] \"3 ± 1.00\" \"4 ± 1.03\""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_convergence_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto convergence rate — ps_convergence_rate","title":"Pareto convergence rate — ps_convergence_rate","text":"Given number draws scalar array k's, compute relative convergence rate PSIS estimate RMSE. See Appendix B Vehtari et al. (2024). function exported usable packages. user-facing diagnostic functions, see pareto_convergence_rate pareto_diags.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_convergence_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto convergence rate — ps_convergence_rate","text":"","code":"ps_convergence_rate(k, ndraws, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ps_convergence_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto convergence rate — ps_convergence_rate","text":"k pareto-k values ndraws number draws ... unused","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_convergence_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pareto convergence rate — ps_convergence_rate","text":"convergence rate","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ps_khat_threshold.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto k-hat threshold — ps_khat_threshold","title":"Pareto k-hat threshold — ps_khat_threshold","text":"Given number draws, computes khat threshold reliable Pareto smoothed estimate (small probability large error). See section 3.2.4, equation (13) Vehtari et al. (2024). function exported usable packages. user-facing diagnostic functions, see pareto_khat_threshold pareto_diags.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_khat_threshold.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto k-hat threshold — ps_khat_threshold","text":"","code":"ps_khat_threshold(ndraws, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ps_khat_threshold.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto k-hat threshold — ps_khat_threshold","text":"ndraws number draws ... unused","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_khat_threshold.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pareto k-hat threshold — ps_khat_threshold","text":"threshold","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ps_min_ss.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto-smoothing minimum sample-size — ps_min_ss","title":"Pareto-smoothing minimum sample-size — ps_min_ss","text":"Given Pareto-k computes minimum sample size reliable Pareto smoothed estimate (small probability large error). See section 3.2.3 Vehtari et al. (2024). function exported usable packages. user-facing diagnostic functions, see pareto_min_ss pareto_diags.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_min_ss.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto-smoothing minimum sample-size — ps_min_ss","text":"","code":"ps_min_ss(k, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ps_min_ss.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto-smoothing minimum sample-size — ps_min_ss","text":"k pareto k value ... unused","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_min_ss.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pareto-smoothing minimum sample-size — ps_min_ss","text":"minimum sample size","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto smooth tail function to pareto smooth the tail of a vector. Exported for usage in other packages, not by users. — ps_tail","title":"Pareto smooth tail function to pareto smooth the tail of a vector. Exported for usage in other packages, not by users. — ps_tail","text":"Pareto smooth tail function pareto smooth tail vector. Exported usage packages, users.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto smooth tail function to pareto smooth the tail of a vector. Exported for usage in other packages, not by users. — ps_tail","text":"","code":"ps_tail(   x,   ndraws_tail,   smooth_draws = TRUE,   tail = c(\"right\", \"left\"),   are_log_weights = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto smooth tail function to pareto smooth the tail of a vector. Exported for usage in other packages, not by users. — ps_tail","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ndraws_tail (numeric) number draws tail. ndraws_tail specified, set length(x). smooth_draws (logical) tails smoothed? Default TRUE. FALSE, k calculated x remain untouched. tail (string) tail diagnose/smooth: \"right\": diagnose/smooth right (upper) tail \"left\": diagnose/smooth left (lower) tail are_log_weights (logical) draws log weights? Default FALSE. TRUE computation take account draws log weights, right tail smoothed. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Pareto smooth tail function to pareto smooth the tail of a vector. Exported for usage in other packages, not by users. — ps_tail","text":"Aki Vehtari, Daniel Simpson, Andrew Gelman, Yuling Yao Jonah Gabry (2024). Pareto Smoothed Importance Sampling. Journal Machine Learning Research, 25(72):1-58. PDF","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail_length.html","id":null,"dir":"Reference","previous_headings":"","what":"Pareto tail length — ps_tail_length","title":"Pareto tail length — ps_tail_length","text":"Calculate tail length number draws relative efficiency r_eff. See Appendix H Vehtari et al. (2024). function used internally exported available packages.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail_length.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pareto tail length — ps_tail_length","text":"","code":"ps_tail_length(ndraws, r_eff, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail_length.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pareto tail length — ps_tail_length","text":"ndraws number draws r_eff relative efficiency ... unused","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/ps_tail_length.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pareto tail length — ps_tail_length","text":"tail length","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/quantile2.html","id":null,"dir":"Reference","previous_headings":"","what":"Compute Quantiles — quantile2","title":"Compute Quantiles — quantile2","text":"Compute quantiles sample return format consistent summary functions posterior package.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/quantile2.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Compute Quantiles — quantile2","text":"","code":"quantile2(x, probs = c(0.05, 0.95), na.rm = FALSE, ...)  # Default S3 method quantile2(x, probs = c(0.05, 0.95), na.rm = FALSE, names = TRUE, ...)  # S3 method for class 'rvar' quantile2(x, probs = c(0.05, 0.95), na.rm = FALSE, names = TRUE, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/quantile2.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Compute Quantiles — quantile2","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. probs (numeric vector) Probabilities [0, 1]. na.rm (logical) NA NaN values removed x prior computing quantiles? default FALSE. ... Arguments passed individual methods (applicable) stats::quantile(). names (logical) result names attribute? default TRUE, use FALSE improved speed many values probs.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/quantile2.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Compute Quantiles — quantile2","text":"numeric vector length length(probs). names = TRUE, names attribute names like \"q5\", \"q95\", etc, based values probs.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/quantile2.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Compute Quantiles — quantile2","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") quantile2(mu) #>         q5        q95  #> -0.8536202  9.3873124"},{"path":"https://mc-stan.org/posterior/dev/reference/r_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"Rank values — r_scale","title":"Rank values — r_scale","text":"Compute ranks numeric array, , replace value rank. Average rank ties used conserve number unique values discrete quantities.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/r_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rank values — r_scale","text":"","code":"r_scale(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/r_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rank values — r_scale","text":"x (numeric) scalar, vector, matrix, array values.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/r_scale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rank values — r_scale","text":"numeric array ranked values size dimension input.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rdo.html","id":null,"dir":"Reference","previous_headings":"","what":"Execute expressions of random variables — rdo","title":"Execute expressions of random variables — rdo","text":"Execute (nearly) arbitrary R expressions may include rvars, producing new rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rdo.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Execute expressions of random variables — rdo","text":"","code":"rdo(expr, dim = NULL, ndraws = NULL)"},{"path":"https://mc-stan.org/posterior/dev/reference/rdo.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Execute expressions of random variables — rdo","text":"expr (expression) bare expression can (optionally) contain rvars. expression supports quasiquotation. dim (integer vector) One integers giving maximal indices dimension override dimensions rvar created (see dim()). NULL (default), dim determined input. NOTE: argument controls dimensions rvar, underlying array, change number draws using argument. ndraws (positive integer) number draws used construct new random variables rvars supplied expr. NULL, getOption(\"posterior.rvar_ndraws\") used (default 4000). expr contains rvars, number draws provided rvars used instead value argument.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rdo.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Execute expressions of random variables — rdo","text":"rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rdo.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Execute expressions of random variables — rdo","text":"function evaluates expr possibly multiple times, draw rvars contains, returns new rvar representing output expressions. identify rvars, rdo() searches calling environment variables named expr is_rvar() evaluates TRUE. expr contains rvars, executed ndraws times rvar many draws returned. rdo() necessarily fast (fact cases may slow), advantage allowing nearly arbitrary R expression executed rvars simply wrapping rdo( ... ). makes especially useful prototyping tool. create code rdo() unacceptably slow application, consider rewriting using math operations directly rvars (fast), using rvar_rng(), /using operations directly arrays back rvars (via draws_of()).","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rdo.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Execute expressions of random variables — rdo","text":"","code":"mu <- rdo(rnorm(10, mean = 1:10, sd = 1)) sigma <- rdo(rgamma(1, shape = 1, rate = 1)) x <- rdo(rnorm(10, mu, sigma)) x #> rvar<4000>[10] mean ± sd: #>  [1]  1 ± 1.7   2 ± 1.7   3 ± 1.7   4 ± 1.7   5 ± 1.7   6 ± 1.7   7 ± 1.7  #>  [8]  8 ± 1.7   9 ± 1.7  10 ± 1.7"},{"path":"https://mc-stan.org/posterior/dev/reference/reexports.html","id":null,"dir":"Reference","previous_headings":"","what":"Objects exported from other packages — reexports","title":"Objects exported from other packages — reexports","text":"objects imported packages. Follow links see documentation. distributional cdf, variance","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rename_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Rename variables in draws objects — rename_variables","title":"Rename variables in draws objects — rename_variables","text":"Rename variables draws object.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rename_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rename variables in draws objects — rename_variables","text":"","code":"rename_variables(.x, ...)  # S3 method for class 'draws' rename_variables(.x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/rename_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rename variables in draws objects — rename_variables","text":".x (draws) draws object. ... One expressions, separated commas, indicating variables rename. variable names can unquoted (new_name = old_name) quoted (\"new_name\" = \"old_name\"). non-scalar variables, elements can renamed together (\"new_name\" = \"old_name\") can renamed individually (\"new_name[1]\" = \"old_name[1]\").","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rename_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rename variables in draws objects — rename_variables","text":"Returns draws object format .x, variables renamed according expressions provided ....","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rename_variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rename variables in draws objects — rename_variables","text":"","code":"x <- as_draws_df(example_draws()) variables(x) #>  [1] \"mu\"       \"tau\"      \"theta[1]\" \"theta[2]\" \"theta[3]\" \"theta[4]\" #>  [7] \"theta[5]\" \"theta[6]\" \"theta[7]\" \"theta[8]\"  x <- rename_variables(x, mean = mu, sigma = tau) variables(x) #>  [1] \"mean\"     \"sigma\"    \"theta[1]\" \"theta[2]\" \"theta[3]\" \"theta[4]\" #>  [7] \"theta[5]\" \"theta[6]\" \"theta[7]\" \"theta[8]\"  x <- rename_variables(x, b = `theta[1]`) # or b  = \"theta[1]\" variables(x) #>  [1] \"mean\"     \"sigma\"    \"b\"        \"theta[2]\" \"theta[3]\" \"theta[4]\" #>  [7] \"theta[5]\" \"theta[6]\" \"theta[7]\" \"theta[8]\"  # rename all elements of 'theta' at once x <- rename_variables(x, alpha = theta) variables(x) #>  [1] \"mean\"     \"sigma\"    \"b\"        \"alpha[2]\" \"alpha[3]\" \"alpha[4]\" #>  [7] \"alpha[5]\" \"alpha[6]\" \"alpha[7]\" \"alpha[8]\""},{"path":"https://mc-stan.org/posterior/dev/reference/repair_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Repair indices of draws objects — repair_draws","title":"Repair indices of draws objects — repair_draws","text":"Repair indices draws objects iterations, chains, draws continuously consistently numbered.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/repair_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Repair indices of draws objects — repair_draws","text":"","code":"repair_draws(x, order = TRUE, ...)  # S3 method for class 'draws_matrix' repair_draws(x, order = TRUE, ...)  # S3 method for class 'draws_array' repair_draws(x, order = TRUE, ...)  # S3 method for class 'draws_df' repair_draws(x, order = TRUE, ...)  # S3 method for class 'draws_list' repair_draws(x, order = TRUE, ...)  # S3 method for class 'draws_rvars' repair_draws(x, order = TRUE, ...)  # S3 method for class 'rvar' repair_draws(x, order = TRUE, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/repair_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Repair indices of draws objects — repair_draws","text":"x (draws) draws object another R object method defined. order (logical) draws ordered (via order_draws()) repairing indices? Defaults TRUE. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/repair_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Repair indices of draws objects — repair_draws","text":"draws object class x.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/repair_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Repair indices of draws objects — repair_draws","text":"","code":"x <- as_draws_array(example_draws()) (x <- x[10:5, 3:4, ]) #> # A draws_array: 6 iterations, 2 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration   3     4 #>        10 8.9  3.81 #>        9  8.9  0.88 #>        8  3.5  4.90 #>        7  3.7 11.82 #>        6  1.1  2.38 #>  #> , , variable = tau #>  #>          chain #> iteration    3    4 #>        10 5.96  2.7 #>        9  5.96 15.8 #>        8  0.52  3.1 #>        7  1.68  4.3 #>        6  2.70  2.3 #>  #> , , variable = theta[1] #>  #>          chain #> iteration    3     4 #>        10 13.1  7.52 #>        9  13.1  9.07 #>        8   3.7  1.50 #>        7   5.2 18.87 #>        6   5.0  0.59 #>  #> , , variable = theta[2] #>  #>          chain #> iteration   3    4 #>        10 4.7  4.3 #>        9  4.7 11.6 #>        8  4.1  6.1 #>        7  4.1 13.0 #>        6  4.3  1.1 #>  #> # ... with 1 more iterations, and 6 more variables repair_draws(x) #> # A draws_array: 6 iterations, 2 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration     1     2 #>         1 -0.03  5.48 #>         2  1.06  2.38 #>         3  3.67 11.82 #>         4  3.51  4.90 #>         5  8.85  0.88 #>  #> , , variable = tau #>  #>          chain #> iteration     1    2 #>         1 11.03  3.0 #>         2  2.70  2.3 #>         3  1.68  4.3 #>         4  0.52  3.1 #>         5  5.96 15.8 #>  #> , , variable = theta[1] #>  #>          chain #> iteration    1     2 #>         1  8.2 -0.91 #>         2  5.0  0.59 #>         3  5.2 18.87 #>         4  3.7  1.50 #>         5 13.1  9.07 #>  #> , , variable = theta[2] #>  #>          chain #> iteration   1    2 #>         1 3.2  3.2 #>         2 4.3  1.1 #>         3 4.1 13.0 #>         4 4.1  6.1 #>         5 4.7 11.6 #>  #> # ... with 1 more iterations, and 6 more variables"},{"path":"https://mc-stan.org/posterior/dev/reference/resample_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Resample draws objects — resample_draws","title":"Resample draws objects — resample_draws","text":"Resample draws objects according provided weights, example weights obtained importance sampling.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/resample_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Resample draws objects — resample_draws","text":"","code":"resample_draws(x, ...)  # S3 method for class 'draws' resample_draws(x, weights = NULL, method = \"stratified\", ndraws = NULL, ...)  # S3 method for class 'rvar' resample_draws(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/resample_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Resample draws objects — resample_draws","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable). weights (numeric vector) vector positive weights length ndraws(x). weights internally normalized. weights specified, attempt made extract weights already stored draws object (via weight_draws()). weights stored draws object, equal weight supplied draw. exactly weights influence resampling depends method argument. method (string) resampling method use: \"simple\": simple random resampling replacement \"simple_no_replace\": simple random resampling without replacement \"stratified\": stratified resampling replacement \"deterministic\": deterministic resampling replacement Currently, \"stratified\" default comparably low variance bias respect ideal resampling. latter sample perfectly proportional weights, possible practice due finite number draws available. details resampling methods, see Kitagawa (1996). ndraws (positive integer) number draws returned. default ndraws set internally total number draws x sensible.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/resample_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Resample draws objects — resample_draws","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/resample_draws.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Resample draws objects — resample_draws","text":"Upon usage resample_draws(), chains automatically merged due subsetting individual draws (see subset_draws details). Also, weights stored draws object removed process, resampling invalidates existing weights.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/resample_draws.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Resample draws objects — resample_draws","text":"Kitagawa, G., Monte Carlo Filter Smoother Non-Gaussian Nonlinear ' State Space Models, Journal Computational Graphical Statistics, 5(1):1-25, 1996.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/resample_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Resample draws objects — resample_draws","text":"","code":"x <- as_draws_df(example_draws())  # random weights for justr for demonstration w <- runif(ndraws(x), 0, 10)  # use default stratified sampling x_rs <- resample_draws(x, weights = w) #> Merging chains in order to subset via 'draw'. summarise_draws(x_rs, default_summary_measures()) #> # A tibble: 10 × 7 #>    variable  mean median    sd   mad      q5   q95 #>    <chr>    <dbl>  <dbl> <dbl> <dbl>   <dbl> <dbl> #>  1 mu        4.24   4.38  3.31  3.42  -0.993  9.16 #>  2 tau       4.28   3.14  3.69  2.92   0.362 11.4  #>  3 theta[1]  6.80   5.85  6.44  5.22  -1.75  19.4  #>  4 theta[2]  5.63   5.44  4.77  4.11  -1.56  14.3  #>  5 theta[3]  2.94   3.84  6.89  4.78 -10.3   11.9  #>  6 theta[4]  5.00   5.41  5.08  4.57  -4.19  12.2  #>  7 theta[5]  3.25   3.73  5.06  4.25  -6.08  11.2  #>  8 theta[6]  3.87   3.97  5.12  4.74  -3.85  11.1  #>  9 theta[7]  6.67   6.13  5.07  4.35  -1.19  14.8  #> 10 theta[8]  4.53   4.64  5.20  4.66  -4.36  12.1   # use simple random sampling x_rs <- resample_draws(x, weights = w, method = \"simple\") #> Merging chains in order to subset via 'draw'. summarise_draws(x_rs, default_summary_measures()) #> # A tibble: 10 × 7 #>    variable  mean median    sd   mad     q5   q95 #>    <chr>    <dbl>  <dbl> <dbl> <dbl>  <dbl> <dbl> #>  1 mu        4.16   3.81  3.46  3.80 -0.993  9.55 #>  2 tau       3.88   2.98  3.34  2.73  0.309  9.70 #>  3 theta[1]  6.40   5.77  6.16  5.28 -1.05  18.7  #>  4 theta[2]  4.99   5.04  4.48  4.11 -2.61  12.1  #>  5 theta[3]  3.20   3.84  6.24  4.66 -8.19  11.0  #>  6 theta[4]  5.05   5.36  4.79  4.81 -2.65  12.2  #>  7 theta[5]  3.44   3.72  5.24  4.66 -4.45  11.7  #>  8 theta[6]  4.35   4.82  5.03  4.73 -3.74  11.2  #>  9 theta[7]  6.27   5.65  5.06  4.18 -1.43  13.8  #> 10 theta[8]  4.17   4.22  5.08  4.34 -5.26  12.0"},{"path":"https://mc-stan.org/posterior/dev/reference/reserved_variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Reserved variables — reserved_variables","title":"Reserved variables — reserved_variables","text":"Get names reserved variables objects posterior package.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/reserved_variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Reserved variables — reserved_variables","text":"","code":"reserved_variables(x, ...)  # Default S3 method reserved_variables(x, ...)  # S3 method for class 'draws_matrix' reserved_variables(x, ...)  # S3 method for class 'draws_array' reserved_variables(x, ...)  # S3 method for class 'draws_df' reserved_variables(x, ...)  # S3 method for class 'draws_list' reserved_variables(x, ...)  # S3 method for class 'draws_rvars' reserved_variables(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/reserved_variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Reserved variables — reserved_variables","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/reserved_variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Reserved variables — reserved_variables","text":"character vector reserved variables used x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/reserved_variables.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Reserved variables — reserved_variables","text":"reserved_variables() returns names reserved variables use object. following variables names currently reserved special use cases draws formats: .log_weight: Log weights per draw (see weight_draws). , specific draws_df format, three additional reserved variables: .chain: Chain index per draw .iteration: Iteration index within chain .draw: Draw index across chains reserved variables may added future.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/reserved_variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Reserved variables — reserved_variables","text":"","code":"x <- example_draws() reserved_variables(x) #> character(0)  # if we add weights, the `.log_weight` reserved variable is used x <- weight_draws(x, rexp(ndraws(x))) reserved_variables(x) #> [1] \".log_weight\""},{"path":"https://mc-stan.org/posterior/dev/reference/rfun.html","id":null,"dir":"Reference","previous_headings":"","what":"Create functions of random variables — rfun","title":"Create functions of random variables — rfun","text":"Function create functions can accept /produce rvars.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rfun.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create functions of random variables — rfun","text":"","code":"rfun(.f, rvar_args = NULL, rvar_dots = TRUE, ndraws = NULL)"},{"path":"https://mc-stan.org/posterior/dev/reference/rfun.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create functions of random variables — rfun","text":".f (multiple options) function turn function accepts /produces random variables: function one-sided formula can parsed rlang::as_function() rvar_args (character vector) names arguments .f allowed accept rvars arguments. NULL (default), arguments .f turned arguments accept rvars, including arguments passed via ... (rvar_dots TRUE). rvar_dots (logical) dots (...) arguments also converted? applies rvar_args NULL (.e., arguments allowed rvars). ndraws (positive integer). number draws used construct new random variables rvars supplied arguments returned function. NULL, getOption(\"posterior.rvar_ndraws\") used (default 4000). arguments returned function contain rvars, number draws provided rvars used instead value argument.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rfun.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create functions of random variables — rfun","text":"function argument specification .f, can accept return rvars.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rfun.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create functions of random variables — rfun","text":"function wraps existing function (.f) returns rvars containing whatever type data .f normally return. returned function, called, executes .f possibly multiple times, draw rvars passed , returns new rvar representing output function evaluations. arguments contain rvars, .f executed ndraws times rvar many draws returned. Functions created rfun() necessarily fast (fact cases may slow), advantage allowing nearly arbitrary R functions executed rvars simply wrapping rfun(). makes especially useful prototyping tool. create code rfun() unacceptably slow application, consider rewriting using math operations directly rvars (fast), using rvar_rng(), /using operations directly arrays back rvars (via draws_of()).","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rfun.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create functions of random variables — rfun","text":"","code":"rvar_norm <- rfun(rnorm) rvar_gamma <- rfun(rgamma)  mu <- rvar_norm(10, mean = 1:10, sd = 1) sigma <- rvar_gamma(1, shape = 1, rate = 1) x <- rvar_norm(10, mu, sigma) x #> rvar<4000>[10] mean ± sd: #>  [1]  0.97 ± 1.8   2.03 ± 1.8   2.99 ± 1.7   3.99 ± 1.7   4.97 ± 1.7  #>  [6]  6.03 ± 1.8   6.99 ± 1.8   8.01 ± 1.8   8.98 ± 1.7   9.98 ± 1.7"},{"path":"https://mc-stan.org/posterior/dev/reference/rhat.html","id":null,"dir":"Reference","previous_headings":"","what":"Rhat convergence diagnostic — rhat","title":"Rhat convergence diagnostic — rhat","text":"Compute Rhat convergence diagnostic single variable maximum rank normalized split-Rhat rank normalized folded-split-Rhat proposed Vehtari et al. (2021).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rhat convergence diagnostic — rhat","text":"","code":"rhat(x, ...)  # Default S3 method rhat(x, ...)  # S3 method for class 'rvar' rhat(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/rhat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rhat convergence diagnostic — rhat","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rhat convergence diagnostic — rhat","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Rhat convergence diagnostic — rhat","text":"Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rhat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Rhat convergence diagnostic — rhat","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") rhat(mu) #> [1] 1.021923  d <- as_draws_rvars(example_draws(\"multi_normal\")) rhat(d$Sigma) #>          [,1]     [,2]      [,3] #> [1,] 1.001383 1.007945 1.0054123 #> [2,] 1.007912 1.005208 1.0193824 #> [3,] 1.005412 1.019382 0.9972943"},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_basic.html","id":null,"dir":"Reference","previous_headings":"","what":"Basic version of the Rhat convergence diagnostic — rhat_basic","title":"Basic version of the Rhat convergence diagnostic — rhat_basic","text":"Compute basic Rhat convergence diagnostic single variable described Gelman et al. (2013) changes according Vehtari et al. (2021). practical applications, strongly recommend improved Rhat convergence diagnostic implemented rhat().","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_basic.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Basic version of the Rhat convergence diagnostic — rhat_basic","text":"","code":"rhat_basic(x, ...)  # Default S3 method rhat_basic(x, split = TRUE, ...)  # S3 method for class 'rvar' rhat_basic(x, split = TRUE, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_basic.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Basic version of the Rhat convergence diagnostic — rhat_basic","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable). split (logical) estimate computed split chains? default TRUE.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_basic.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Basic version of the Rhat convergence diagnostic — rhat_basic","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_basic.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Basic version of the Rhat convergence diagnostic — rhat_basic","text":"Andrew Gelman, John B. Carlin, Hal S. Stern, David B. Dunson, Aki Vehtari Donald B. Rubin (2013). Bayesian Data Analysis, Third Edition. Chapman Hall/CRC. Aki Vehtari, Andrew Gelman, Daniel Simpson, Bob Carpenter, Paul-Christian Bürkner (2021). Rank-normalization, folding, localization: improved R-hat assessing convergence MCMC (discussion). Bayesian Analysis. 16(2), 667-–718. doi:10.1214/20-BA1221","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_basic.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Basic version of the Rhat convergence diagnostic — rhat_basic","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") rhat_basic(mu) #> [1] 0.9979106  d <- as_draws_rvars(example_draws(\"multi_normal\")) rhat_basic(d$Sigma) #>           [,1]      [,2]      [,3] #> [1,] 0.9967529 0.9967817 1.0033460 #> [2,] 0.9967817 0.9950557 0.9998587 #> [3,] 1.0033460 0.9998587 0.9947308"},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_nested.html","id":null,"dir":"Reference","previous_headings":"","what":"Nested Rhat convergence diagnostic — rhat_nested","title":"Nested Rhat convergence diagnostic — rhat_nested","text":"Compute nested Rhat convergence diagnostic single variable proposed Margossian et al. (2024).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_nested.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nested Rhat convergence diagnostic — rhat_nested","text":"","code":"rhat_nested(x, ...)  # Default S3 method rhat_nested(x, superchain_ids, ...)  # S3 method for class 'rvar' rhat_nested(x, superchain_ids, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_nested.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nested Rhat convergence diagnostic — rhat_nested","text":"x (multiple options) One : matrix draws single variable (iterations x chains). See extract_variable_matrix(). rvar. ... Arguments passed individual methods (applicable). superchain_ids (numeric) Vector length nchains specifying superchain chain belongs . equal numbers chains superchain. chains within superchain assumed initialized point.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_nested.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nested Rhat convergence diagnostic — rhat_nested","text":"input array, returns single numeric value. draws non-finite, , NA, NaN, Inf, -Inf, returned output (numeric) NA. Also, draws within chains variable (constant), returned output (numeric) NA well. reason latter , constant draws, distinguish variables supposed constant (e.g., diagonal element correlation matrix always 1) variables just happened constant failure convergence problems sampling process. input rvar, returns array dimensions rvar, element equal value returned passing draws array element rvar function.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_nested.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Nested Rhat convergence diagnostic — rhat_nested","text":"Nested Rhat convergence diagnostic useful running many short chains. calculated superchains, groups chains initialized point. Note slight difference calculation Rhat nested Rhat, nested Rhat lower bounded 1. means nested Rhat one chain per superchain exactly equal basic Rhat (see Footnote 3 Margossian et al. (2024)).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_nested.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Nested Rhat convergence diagnostic — rhat_nested","text":"Charles C. Margossian, Matthew D. Hoffman, Pavel Sountsov, Lionel Riou-Durand, Aki Vehtari Andrew Gelman (2024). Nested R-hat: Assessing convergence Markov chain Monte Carlo running many short chains. Bayesian Analysis. doi:10.1214/24-BA1453","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rhat_nested.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nested Rhat convergence diagnostic — rhat_nested","text":"","code":"mu <- extract_variable_matrix(example_draws(), \"mu\") rhat_nested(mu, superchain_ids = c(1, 1, 2, 2)) #> [1] 1.002846  d <- as_draws_rvars(example_draws(\"multi_normal\")) rhat_nested(d$Sigma, superchain_ids = c(1, 1, 2, 2)) #>          [,1]     [,2]     [,3] #> [1,] 1.000511 1.001590 1.000154 #> [2,] 1.001590 1.001037 1.000071 #> [3,] 1.000154 1.000071 1.000469"},{"path":"https://mc-stan.org/posterior/dev/reference/rstar.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate R* convergence diagnostic — rstar","title":"Calculate R* convergence diagnostic — rstar","text":"rstar() function generates measure convergence MCMC draws based whether possible determine Markov chain generated draw probability greater chance. , fits machine learning classifier training set MCMC draws evaluates predictive accuracy testing set: giving ratio accuracy predicting chain uniformly random.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rstar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate R* convergence diagnostic — rstar","text":"","code":"rstar(   x,   split = TRUE,   uncertainty = FALSE,   method = \"rf\",   hyperparameters = NULL,   training_proportion = 0.7,   nsimulations = 1000,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/rstar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate R* convergence diagnostic — rstar","text":"x (draws) draws_df object one coercible draws_df object. split (logical) estimate computed split chains? default TRUE. uncertainty (logical). Indicates whether provide vector R* values representing uncertainty calculated value (TRUE) single value (FALSE). default TRUE. method (string) machine learning classifier use (must available caret package). default \"rf\", calls random forest classifier. hyperparameters (named list) Hyperparameter settings passed classifier. default random forest classifier (method = \"rf\") list(mtry = floor(sqt(nvariables(x)))). default gradient-based model (method = \"gbm\") list(interaction.depth = 3, n.trees = 50, shrinkage = 0.1, n.minobsinnode = 10). training_proportion (positive real) proportion ((0,1)) iterations used train classifier. default 0.7. nsimulations (positive integer) number R* values returned vector uncertainty TRUE. default 1000. ... arguments passed caret::train().","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rstar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate R* convergence diagnostic — rstar","text":"numeric vector length 1 (default) length nsimulations (uncertainty = TRUE).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rstar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate R* convergence diagnostic — rstar","text":"rstar() function provides measure MCMC convergence based whether possible determine chain generated particular draw probability greater chance. , fits machine learning classifier subset original MCMC draws (training set) evaluates predictive accuracy remaining draws (testing set). predictive accuracy exceeds chance (.e. predicting chain generated draw uniformly random), diagnostic measure R* 1, indicating convergence yet occur. statistic recently developed, currently unclear reasonable threshold diagnosing convergence. statistic, R*, stochastic, meaning time test run, unless random seed fixed, generally produce different result. minimize implications stochasticity, recommended repeatedly run function calculate distribution R*; alternatively, approximation distribution can obtained setting uncertainty = TRUE, although approximation uncertainty generally lower mean. default, random forest classifier used (method = \"rf\"), tends perform best target distributions around 4 dimensions . lower dimensional targets, gradient boosted models (called via method = \"gbm\") tend higher classification accuracy. given MCMC sample, recommended try classifiers.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rstar.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Calculate R* convergence diagnostic — rstar","text":"Ben Lambert, Aki Vehtari (2020) R*: robust MCMC convergence diagnostic uncertainty using gradient-boosted machines. arXiv preprint arXiv:2003.07900.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rstar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate R* convergence diagnostic — rstar","text":"","code":"# \\donttest{ if (require(\"caret\", quietly = TRUE) && require(\"randomForest\", quietly = TRUE)) {   x <- example_draws(\"eight_schools\")   print(rstar(x))   print(rstar(x, split = FALSE))   print(rstar(x, method = \"gbm\"))   # can pass additional arguments to methods   print(rstar(x, method = \"gbm\", verbose = FALSE))    # with uncertainty, returns a vector of R* values   hist(rstar(x, uncertainty = TRUE))   hist(rstar(x, uncertainty = TRUE, nsimulations = 100))    # can use other classification methods in caret library   print(rstar(x, method = \"knn\")) } #> randomForest 4.7-1.2 #> Type rfNews() to see new features/changes/bug fixes. #>  #> Attaching package: ‘randomForest’ #> The following object is masked from ‘package:ggplot2’: #>  #>     margin #> [1] 2.2 #> [1] 1.2 #> Iter   TrainDeviance   ValidDeviance   StepSize   Improve #>      1        2.0794            -nan     0.1000    0.0164 #>      2        2.0007            -nan     0.1000   -0.0397 #>      3        1.9414            -nan     0.1000   -0.0396 #>      4        1.8824            -nan     0.1000   -0.0480 #>      5        1.8299            -nan     0.1000   -0.0616 #>      6        1.7842            -nan     0.1000   -0.0264 #>      7        1.7454            -nan     0.1000   -0.0780 #>      8        1.7063            -nan     0.1000   -0.0227 #>      9        1.6656            -nan     0.1000   -0.0256 #>     10        1.6192            -nan     0.1000   -0.0399 #>     20        1.2926            -nan     0.1000   -0.0332 #>     40        0.8985            -nan     0.1000   -0.0259 #>     50        0.7543            -nan     0.1000   -0.0373 #>  #> [1] 1.8 #> [1] 1.933333   #> [1] 1.533333 # }"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-dist.html","id":null,"dir":"Reference","previous_headings":"","what":"Density, CDF, and quantile functions of random variables — rvar-dist","title":"Density, CDF, and quantile functions of random variables — rvar-dist","text":"probability density function (density()), cumulative distribution function (cdf()), quantile function / inverse CDF (quantile()) rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-dist.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Density, CDF, and quantile functions of random variables — rvar-dist","text":"","code":"# S3 method for class 'rvar' density(x, at, ...)  # S3 method for class 'rvar_factor' density(x, at, ...)  # S3 method for class 'rvar' cdf(x, q, ...)  # S3 method for class 'rvar_factor' cdf(x, q, ...)  # S3 method for class 'rvar_ordered' cdf(x, q, ...)  # S3 method for class 'rvar' quantile(x, probs, ...)  # S3 method for class 'rvar_factor' quantile(x, probs, ...)  # S3 method for class 'rvar_ordered' quantile(x, probs, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-dist.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Density, CDF, and quantile functions of random variables — rvar-dist","text":"x (rvar) rvar object. ... Additional arguments passed onto underlying methods: density(), passed stats::density(). cdf(), ignored. quantile(), passed stats::quantile(). q, (numeric vector) One quantiles. probs (numeric vector) One probabilities [0,1].","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-dist.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Density, CDF, and quantile functions of random variables — rvar-dist","text":"x scalar rvar, returns vector length input (q, , probs) containing values corresponding function given rvar. x length greater 1, returns array dimensions c(length(y), dim(x)) y q, , probs, result[,...] value corresponding function,f(y[]), corresponding cell input array, x[...].","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-dist.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Density, CDF, and quantile functions of random variables — rvar-dist","text":"","code":"set.seed(1234) x = rvar(rnorm(100))  density(x, seq(-2, 2, length.out = 10)) #>  [1] 0.05258808 0.15648102 0.33299057 0.42878621 0.38792329 0.27729220 #>  [7] 0.20773876 0.14704714 0.10377342 0.07004217 cdf(x, seq(-2, 2, length.out = 10)) #>  [1] 0.02 0.04 0.15 0.34 0.54 0.68 0.81 0.89 0.92 0.96 quantile(x, ppoints(10)) #>  [1] -1.371156446 -1.107797288 -0.877775358 -0.574614497 -0.476119783 #>  [6] -0.187048613 -0.007696628  0.448815321  0.902987295  1.646284259  x2 = c(rvar(rnorm(100, mean = -0.5)), rvar(rnorm(100, mean = 0.5))) density(x2, seq(-2, 2, length.out = 10)) #>             [,1]        [,2] #>  [1,] 0.08835714 0.001630564 #>  [2,] 0.20312919 0.024267719 #>  [3,] 0.33416548 0.081561624 #>  [4,] 0.41908541 0.167585644 #>  [5,] 0.40299700 0.241650760 #>  [6,] 0.28262207 0.309646173 #>  [7,] 0.15825686 0.462297561 #>  [8,] 0.12739913 0.466521257 #>  [9,] 0.07744769 0.234440870 #> [10,] 0.02144551 0.109840500 cdf(x2, seq(-2, 2, length.out = 10)) #>       [,1] [,2] #>  [1,] 0.07 0.01 #>  [2,] 0.11 0.01 #>  [3,] 0.25 0.03 #>  [4,] 0.43 0.08 #>  [5,] 0.63 0.16 #>  [6,] 0.79 0.31 #>  [7,] 0.86 0.43 #>  [8,] 0.91 0.69 #>  [9,] 0.97 0.87 #> [10,] 0.99 0.93 quantile(x2, ppoints(10)) #>             [,1]       [,2] #>  [1,] -2.0034466 -0.6872996 #>  [2,] -1.3541896 -0.2346473 #>  [3,] -1.0276966  0.1308444 #>  [4,] -0.8207823  0.3500387 #>  [5,] -0.5789329  0.6861700 #>  [6,] -0.3647747  0.8192384 #>  [7,] -0.1451222  0.9367486 #>  [8,]  0.1230689  1.1749908 #>  [9,]  0.4371228  1.4569163 #> [10,]  1.1776442  2.1500961"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-matmult.html","id":null,"dir":"Reference","previous_headings":"","what":"Matrix multiplication of random variables — rvar-matmult","title":"Matrix multiplication of random variables — rvar-matmult","text":"Matrix multiplication random variables.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-matmult.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Matrix multiplication of random variables — rvar-matmult","text":"","code":"x %**% y  # S3 method for class 'rvar' matrixOps(x, y)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-matmult.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Matrix multiplication of random variables — rvar-matmult","text":"x (multiple options) object postmultiplied y: rvar numeric vector matrix logical vector matrix vector used, treated row vector. y (multiple options) object premultiplied x: rvar numeric vector matrix logical vector matrix vector used, treated column vector.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-matmult.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Matrix multiplication of random variables — rvar-matmult","text":"rvar representing matrix product x y.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-matmult.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Matrix multiplication of random variables — rvar-matmult","text":"x y vectors, converted matrices prior multiplication, x converted row vector y column vector. Numerics logicals can multiplied rvars broadcasted across draws rvar argument. Tensor multiplication used efficiently multiply matrices across draws, either x y rvar, x %**% y much faster rdo(x %*% y). R >= 4.3, can also use %*% place %**% matrix multiplication rvars. R < 4.3, S3 classes properly override %*%, must use %**% matrix multiplication rvars.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-matmult.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Matrix multiplication of random variables — rvar-matmult","text":"","code":"# d has mu (mean vector of length 3) and Sigma (3x3 covariance matrix) d <- as_draws_rvars(example_draws(\"multi_normal\")) d$Sigma #> rvar<100,4>[3,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.28 ± 0.17   0.53 ± 0.20  -0.40 ± 0.28  #> [2,]  0.53 ± 0.20   3.67 ± 0.45  -2.10 ± 0.48  #> [3,] -0.40 ± 0.28  -2.10 ± 0.48   8.12 ± 0.95   # trivial example: multiplication by a non-random matrix d$Sigma %**% diag(1:3) #> rvar<100,4>[3,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.28 ± 0.17   1.05 ± 0.40  -1.21 ± 0.85  #> [2,]  0.53 ± 0.20   7.33 ± 0.89  -6.30 ± 1.44  #> [3,] -0.40 ± 0.28  -4.20 ± 0.96  24.35 ± 2.84   # Decompose Sigma into R s.t. R'R = Sigma ... R <- chol(d$Sigma) # ... and recreate Sigma using matrix multiplication t(R) %**% R #> rvar<100,4>[3,3] mean ± sd: #>      [,1]          [,2]          [,3]          #> [1,]  1.28 ± 0.17   0.53 ± 0.20  -0.40 ± 0.28  #> [2,]  0.53 ± 0.20   3.67 ± 0.45  -2.10 ± 0.48  #> [3,] -0.40 ± 0.28  -2.10 ± 0.48   8.12 ± 0.95"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-slice.html","id":null,"dir":"Reference","previous_headings":"","what":"Random variable slicing — rvar-slice","title":"Random variable slicing — rvar-slice","text":"Operations slicing rvars replacing parts rvars.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-slice.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random variable slicing — rvar-slice","text":"","code":"# S3 method for class 'rvar' x[[i, ...]]  # S3 method for class 'rvar' x[[i, ...]] <- value  # S3 method for class 'rvar' x[..., drop = FALSE]  # S3 method for class 'rvar' x[i, ...] <- value"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-slice.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random variable slicing — rvar-slice","text":"x rvar. , ... indices; see Details. value (rvar coercable rvar) Value insert x location determined indices. drop (logical) singular dimensions dropped slicing array rvars? Unlike base array slicing operations, defaults FALSE.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-slice.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Random variable slicing — rvar-slice","text":"rvar slicing operators ([ [[) attempt implement semantics base array slicing operators. exceptions; notably, rvar slicing defaults drop = FALSE instead drop = TRUE.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-slice.html","id":"extracting-or-replacing-single-elements-with-","dir":"Reference","previous_headings":"","what":"Extracting or replacing single elements with [[","title":"Random variable slicing — rvar-slice","text":"[[ operator extracts (replaces) single elements. always returns (replaces) scalar (length-1) rvar. x[[,...]] operator can used follows: x[[<numeric>]] scalar numeric : gives ith element x. x multidimensional (.e. length(dim(x)) > 1), extra dimensions ignored indexing. example, x \\(6 \\times 2\\) rvar array, 7th element, x[[7]], first element second column, x[1,2]. x[[<numeric rvar>]] scalar numeric rvar : generalization indexing scalar numeric. Within draw x, selects element corresponding value within draw. x[[<character>]] scalar character : gives element x name equal . Unlike base arrays, work multidimensional rvars. x[[i_1,i_2,...,i_n]] scalar numeric character i_1, i_2, etc. Must provide exactly number indices dimensions x. Selects element corresponding position rvar number /dimname (string).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-slice.html","id":"extracting-or-replacing-multiple-elements-with-","dir":"Reference","previous_headings":"","what":"Extracting or replacing multiple elements with [","title":"Random variable slicing — rvar-slice","text":"[ operator extracts (replaces) multiple elements. always returns (replaces) possibly-multidimensional rvar. x[,...] operator can used follows: x[<logical>] vector logical : recycled length x, ignoring multiple dimensions x, rvar vector returned containing elements x TRUE. x[<logical rvar>] scalar logical rvar : returns rvar shape x containing draws TRUE. x[<numeric>] vector numeric : rvar vector returned containing ith elements x, ignoring dimensions. x[<matrix>] numeric matrix , ncol() == length(dim(x)): row give multidimensional index single element x. result rvar vector length nrow() containing elements x selected row . x[i_1,i_2,...,i_n] vector numeric, character, logical i_1, i_2, etc. Returns slice x containing elements dimensions specified i_1, i_2, etc. argument left empty, elements dimension included. Unlike base arrays, trailing dimensions can omitted entirely still selected; example, x three dimensions, x[1,,] x[1,] can used create slice includes elements last two dimensions. Unlike base arrays, [ defaults drop = FALSE, results retain number dimensions x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-slice.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random variable slicing — rvar-slice","text":"","code":"x <- rvar(array(1:24, dim = c(4,2,3))) dimnames(x) <- list(c(\"a\",\"b\"), c(\"d\",\"e\",\"f\")) x #> rvar<4>[2,3] mean ± sd: #>   d           e           f           #> a  2.5 ± 1.3  10.5 ± 1.3  18.5 ± 1.3  #> b  6.5 ± 1.3  14.5 ± 1.3  22.5 ± 1.3   ## Slicing single elements # x[[<numeric>]] x[[2]] #> rvar<4>[1] mean ± sd: #> [1] 6.5 ± 1.3   # x[[<numeric rvar>]] # notice the draws of x[1:4]... draws_of(x[1:4]) #>   [,1] [,2] [,3] [,4] #> 1    1    5    9   13 #> 2    2    6   10   14 #> 3    3    7   11   15 #> 4    4    8   12   16 x[[rvar(c(1,3,4,4))]] #> rvar<4>[1] mean ± sd: #> [1] 10 ± 6.9  # ... x[[rvar(c(1,3,4,4))]] creates a mixures of those draws draws_of(x[[rvar(c(1,3,4,4))]]) #>   [,1] #> 1    1 #> 2   10 #> 3   15 #> 4   16  # x[[i_1,i_2,...]] x[[2,\"e\"]] #> rvar<4>[1] mean ± sd: #> [1] 14 ± 1.3    ## Slicing multiple elements # x[<logical>] x[c(TRUE,TRUE,FALSE)] #> rvar<4>[4] mean ± sd: #> [1]  2.5 ± 1.3   6.5 ± 1.3  14.5 ± 1.3  18.5 ± 1.3   # x[<logical rvar>] # select every other draw x[rvar(c(TRUE,FALSE,TRUE,FALSE))] #> rvar<2>[2,3] mean ± sd: #>   d         e         f         #> a  2 ± 1.4  10 ± 1.4  18 ± 1.4  #> b  6 ± 1.4  14 ± 1.4  22 ± 1.4   # x[<numeric>] x[1:3] #> rvar<4>[3] mean ± sd: #> [1]  2.5 ± 1.3   6.5 ± 1.3  10.5 ± 1.3   # x[<matrix>] x[rbind(   c(1,2),   c(1,3),   c(2,2) )] #> rvar<4>[3] mean ± sd: #> [1] 10 ± 1.3  18 ± 1.3  14 ± 1.3   # x[i_1,i_2,...,i_n] x[1,] #> rvar<4>[1,3] mean ± sd: #>   d           e           f           #> a  2.5 ± 1.3  10.5 ± 1.3  18.5 ± 1.3  x[1,2:3] #> rvar<4>[1,2] mean ± sd: #>   e         f         #> a 10 ± 1.3  18 ± 1.3  x[,2:3] #> rvar<4>[2,2] mean ± sd: #>   e         f         #> a 10 ± 1.3  18 ± 1.3  #> b 14 ± 1.3  22 ± 1.3"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-over-draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Summaries of random variables within array elements, over draws — rvar-summaries-over-draws","title":"Summaries of random variables within array elements, over draws — rvar-summaries-over-draws","text":"Compute summaries within elements rvar draws element, producing array shape input random variable (except case range(), see Details).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-over-draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summaries of random variables within array elements, over draws — rvar-summaries-over-draws","text":"","code":"E(x, ...)  # S3 method for class 'rvar' mean(x, ...)  Pr(x, ...)  # Default S3 method Pr(x, ...)  # S3 method for class 'logical' Pr(x, ...)  # S3 method for class 'rvar' Pr(x, ...)  # S3 method for class 'rvar' median(x, ...)  # S3 method for class 'rvar' min(x, ...)  # S3 method for class 'rvar' max(x, ...)  # S3 method for class 'rvar' sum(x, ...)  # S3 method for class 'rvar' prod(x, ...)  # S3 method for class 'rvar' all(x, ...)  # S3 method for class 'rvar' any(x, ...)  # S3 method for class 'rvar' Summary(...)  # S3 method for class 'rvar' variance(x, ...)  var(x, ...)  # Default S3 method var(x, ...)  # S3 method for class 'rvar' var(x, ...)  sd(x, ...)  # Default S3 method sd(x, ...)  # S3 method for class 'rvar' sd(x, ...)  mad(x, ...)  # Default S3 method mad(x, ...)  # S3 method for class 'rvar' mad(x, ...)  # S3 method for class 'rvar_ordered' mad(x, ...)  # S3 method for class 'rvar' range(x, ...)  # S3 method for class 'rvar' is.finite(x)  # S3 method for class 'rvar' is.infinite(x)  # S3 method for class 'rvar' is.nan(x)  # S3 method for class 'rvar' is.na(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-over-draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summaries of random variables within array elements, over draws — rvar-summaries-over-draws","text":"x (rvar) rvar. ... arguments passed underlying functions (e.g., base::mean() base::median()), na.rm.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-over-draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summaries of random variables within array elements, over draws — rvar-summaries-over-draws","text":"numeric logical vector dimensions given random variable, entry vector mean, median, variance corresponding entry x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-over-draws.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summaries of random variables within array elements, over draws — rvar-summaries-over-draws","text":"Summaries include expectations (E() mean()), probabilities (Pr()), medians (median()), spread (var(), variance(), sd(), mad()), sums products (sum(), prod()), extrema ranges (min(), max(), range()), logical summaries ((), ()), special value predicates (.finite(), .infinite(), .nan(), .na()). Unless otherwise stated, functions return numeric array shape (dimensions) input rvar, x. range(x) returns array dimensions c(2, dim(x)), last dimension contains minimum maximum values. .infinite(x), .nan(x), .na(x) return logical arrays, element TRUE draws corresponding element x match predicate. elements result .finite(x) TRUE draws corresponding element x finite. E(), mean(), Pr() return means element input. Pr() additionally checks provided rvar logical variable (hence, taking expectation results probability). consistency, E() Pr() also defined base arrays can used summary functions summarise_draws().","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-over-draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summaries of random variables within array elements, over draws — rvar-summaries-over-draws","text":"","code":"set.seed(5678) x = rvar_rng(rnorm, 4, mean = 1:4, sd = 2)  # These should all be ~= c(1, 2, 3, 4) E(x) #> [1] 1.004952 1.955997 3.011070 3.963980 mean(x) #> [1] 1.004952 1.955997 3.011070 3.963980 median(x) #> [1] 0.9557178 1.9170014 3.0024683 3.9274693  # This ... Pr(x < 1.5) #> [1] 0.59800 0.41100 0.22300 0.10775 # ... should be about the same as this: pnorm(1.5, mean = 1:4, sd = 2) #> [1] 0.5987063 0.4012937 0.2266274 0.1056498"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-within-draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Summaries of random variables over array elements, within draws — rvar-summaries-within-draws","title":"Summaries of random variables over array elements, within draws — rvar-summaries-within-draws","text":"Compute summaries random variables array elements within draws, producing new random variable length 1 (except case rvar_range(), see Details).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-within-draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summaries of random variables over array elements, within draws — rvar-summaries-within-draws","text":"","code":"rvar_mean(..., na.rm = FALSE)  rvar_median(..., na.rm = FALSE)  rvar_sum(..., na.rm = FALSE)  rvar_prod(..., na.rm = FALSE)  rvar_min(..., na.rm = FALSE)  rvar_max(..., na.rm = FALSE)  rvar_sd(..., na.rm = FALSE)  rvar_var(..., na.rm = FALSE)  rvar_mad(..., constant = 1.4826, na.rm = FALSE)  rvar_range(..., na.rm = FALSE)  rvar_quantile(..., probs, names = FALSE, na.rm = FALSE)  rvar_all(..., na.rm = FALSE)  rvar_any(..., na.rm = FALSE)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-within-draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summaries of random variables over array elements, within draws — rvar-summaries-within-draws","text":"... (rvar) One rvars. na.rm (logical) NAs removed input summaries computed? default FALSE. constant (scalar real) rvar_mad(), scale factor computing median absolute deviation. See details stats::mad() justification default value. probs (numeric vector) rvar_quantile(), probabilities [0, 1]. names (logical) rvar_quantile(), TRUE, result names attribute.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-within-draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summaries of random variables over array elements, within draws — rvar-summaries-within-draws","text":"rvar length 1 (range(), length 2; quantile(), length equal length(probs)) number draws input rvar(s) containing summary statistic computed within draw input rvar(s).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-within-draws.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summaries of random variables over array elements, within draws — rvar-summaries-within-draws","text":"functions compute statistics within draw random variable. summaries draws (expectations), see rvar-summaries--draws. function defined corresponds base function name without rvar_ prefix (e.g., rvar_mean() calls mean() hood, etc).","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rvar-summaries-within-draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summaries of random variables over array elements, within draws — rvar-summaries-within-draws","text":"","code":"set.seed(5678) x = rvar_rng(rnorm, 4, mean = 1:4, sd = 2)  # These will give similar results to mean(1:4), # median(1:4), sum(1:4), prod(1:4), etc rvar_mean(x) #> rvar<4000>[1] mean ± sd: #> [1] 2.5 ± 1  rvar_median(x) #> rvar<4000>[1] mean ± sd: #> [1] 2.5 ± 1.1  rvar_sum(x) #> rvar<4000>[1] mean ± sd: #> [1] 9.9 ± 4  rvar_prod(x) #> rvar<4000>[1] mean ± sd: #> [1] 23 ± 103  rvar_range(x) #> rvar<4000>[2] mean ± sd: #> [1] 0.029 ± 1.5  4.935 ± 1.5  rvar_quantile(x, probs = c(0.25, 0.5, 0.75), names = TRUE) #> rvar<4000>[3] mean ± sd: #>        25%        50%        75%  #> 1.3 ± 1.2  2.5 ± 1.1  3.6 ± 1.2"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar.html","id":null,"dir":"Reference","previous_headings":"","what":"Random variables of arbitrary dimension — rvar","title":"Random variables of arbitrary dimension — rvar","text":"Random variables backed arrays arbitrary dimension","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random variables of arbitrary dimension — rvar","text":"","code":"rvar(   x = double(),   dim = NULL,   dimnames = NULL,   nchains = NULL,   with_chains = FALSE )"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random variables of arbitrary dimension — rvar","text":"x (multiple options) object convert rvar: vector draws distribution. array first dimension represents draws distribution. resulting rvar dimension dim(x)[-1]; , everything except first dimension used shape variable, first dimension used index draws distribution (see Examples). Optionally, with_chains == TRUE, first dimension indexes iteration second dimension indexes chain (see with_chains). rvar. dim (integer vector) One integers giving maximal indices dimension override dimensions rvar created (see dim()). NULL (default), dim determined input. NOTE: argument controls dimensions rvar, underlying array, change number draws using argument. dimnames (list) Character vectors giving names dimension override names dimensions rvar created (see dimnames()). NULL (default), determined input. NOTE: argument controls names dimensions rvar, underlying array. nchains (positive integer) number chains. NULL (default), 1 used unless x already rvar, case number chains used. with_chains (logical) x include dimension chains? FALSE (default), chains included, first dimension input array index draws, nchains argument can used determine number chains. TRUE, nchains argument ignored second dimension x used index chains. Internally, array converted format without chain index. Ignored x already rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random variables of arbitrary dimension — rvar","text":"object class \"rvar\" representing random variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Random variables of arbitrary dimension — rvar","text":"\"rvar\" class internally represents random variables arrays arbitrary dimension, first dimension used index draws distribution. mathematical operators functions supported, including efficient matrix multiplication vector array-style indexing. intent rvar works closely possible base vector/matrix/array , differences: default behavior subsetting drop extra dimensions (.e. default drop argument [ FALSE, TRUE). Rather base R-style recycling, rvars use limited form broadcasting: operation performed two vectors different size dimension, smaller vector recycled size larger one along dimension long size 1. functions expect base numeric arrays rvars used directly arguments, can use rfun() rdo() translate code code executes across draws one random variables returns random variable output. Typically rdo() offers straightforward translation. rfun() rdo() incur performance cost, can also operate directly underlying array using draws_of() function. re-use existing random number generator functions efficiently create rvars, use rvar_rng().","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rvar.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random variables of arbitrary dimension — rvar","text":"","code":"set.seed(1234)  # To create a \"scalar\" `rvar`, pass a one-dimensional array or a vector # whose length (here `4000`) is the desired number of draws: x <- rvar(rnorm(4000, mean = 1, sd = 1)) x #> rvar<4000>[1] mean ± sd: #> [1] 1 ± 1   # Create random vectors by adding an additional dimension: n <- 4   # length of output vector x <- rvar(array(rnorm(4000 * n, mean = rep(1:n, each = 4000), sd = 1), dim = c(4000, n))) x #> rvar<4000>[4] mean ± sd: #> [1] 1 ± 0.99  2 ± 0.99  3 ± 1.00  4 ± 1.02   # Create a random matrix: rows <- 4 cols <- 3 x <- rvar(array(rnorm(4000 * rows * cols, mean = 1, sd = 1), dim = c(4000, rows, cols))) x #> rvar<4000>[4,3] mean ± sd: #>      [,1]         [,2]         [,3]         #> [1,] 1.00 ± 0.98  1.00 ± 1.00  0.97 ± 1.00  #> [2,] 1.00 ± 1.01  1.01 ± 1.02  0.99 ± 0.99  #> [3,] 1.02 ± 1.01  0.99 ± 1.00  1.00 ± 0.99  #> [4,] 1.01 ± 1.01  1.02 ± 1.00  1.00 ± 1.01   # If the input sample comes from multiple chains, we can indicate that using the # nchains argument (here, 1000 draws each from 4 chains): x <- rvar(rnorm(4000, mean = 1, sd = 1), nchains = 4) x #> rvar<1000,4>[1] mean ± sd: #> [1] 0.97 ± 1   # Or if the input sample has chain information as its second dimension, we can # use with_chains to create the rvar x <- rvar(array(rnorm(4000, mean = 1, sd = 1), dim = c(1000, 4)), with_chains = TRUE) x #> rvar<1000,4>[1] mean ± sd: #> [1] 1 ± 1"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_apply.html","id":null,"dir":"Reference","previous_headings":"","what":"Random variable resulting from a function applied over margins of an array or random variable — rvar_apply","title":"Random variable resulting from a function applied over margins of an array or random variable — rvar_apply","text":"Returns rvar obtained applying function margins array rvar. Acts like apply(), except function supplied (.f) return rvar, final result always rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_apply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random variable resulting from a function applied over margins of an array or random variable — rvar_apply","text":"","code":"rvar_apply(.x, .margin, .f, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_apply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random variable resulting from a function applied over margins of an array or random variable — rvar_apply","text":".x array rvar. .margin (multiple options) subscripts function applied : integer vector. E.g., matrix 1 indicates rows, 2 indicates columns, c(1, 2) indicates rows columns. character vector dimension names .x named dimensions. .f (function) function applied. function .f must return rvar dimensions result .f applied margin .x must able broadcasted common shape (otherwise resulting rvar simplified). See Details. ... Optional arguments passed .f.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_apply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random variable resulting from a function applied over margins of an array or random variable — rvar_apply","text":"rvar. result call .f returns rvar dimension d broadcast common shape, rvar_apply() returns rvar dimension c(d, dim(.x)[.margin]). last dimension result 1, dropped (dimensions equal 1 retained). d 0, result length 0 necessarily 'correct' dimension.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_apply.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Random variable resulting from a function applied over margins of an array or random variable — rvar_apply","text":"function acts much like apply(), except function passed (.f) must return rvars, result simplified rvar. Unlike apply(), also keeps dimensions returned values along margin, rather simplifying margin vector, results .f dimensions, applies rvar broadcasting rules bind results together rather using vector recycling. wish apply functions rvars result intended simplified rvar, can use standard apply(), lapply(), sapply(), vapply() functions.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_apply.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random variable resulting from a function applied over margins of an array or random variable — rvar_apply","text":"","code":"set.seed(3456) x <- rvar_rng(rnorm, 24, mean = 1:24) dim(x) <- c(2,3,4)  # we can find the distributions of marginal means of the above array # using rvar_mean along with rvar_apply rvar_apply(x, 1, rvar_mean) #> rvar<4000>[2] mean ± sd: #> [1] 12 ± 0.29  13 ± 0.29  rvar_apply(x, 2:3, rvar_mean) #> rvar<4000>[3,4] mean ± sd: #>      [,1]         [,2]         [,3]         [,4]         #> [1,]  1.5 ± 0.70   7.5 ± 0.69  13.5 ± 0.71  19.5 ± 0.70  #> [2,]  3.5 ± 0.70   9.5 ± 0.71  15.5 ± 0.72  21.5 ± 0.70  #> [3,]  5.5 ± 0.71  11.5 ± 0.72  17.5 ± 0.71  23.5 ± 0.70"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_factor.html","id":null,"dir":"Reference","previous_headings":"","what":"Factor random variables of arbitrary dimension — rvar_factor","title":"Factor random variables of arbitrary dimension — rvar_factor","text":"Random variables backed factor-like arrays arbitrary dimension.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_factor.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Factor random variables of arbitrary dimension — rvar_factor","text":"","code":"rvar_factor(   x = factor(),   dim = NULL,   dimnames = NULL,   nchains = NULL,   with_chains = FALSE,   ... )  rvar_ordered(   x = ordered(NULL),   dim = NULL,   dimnames = NULL,   nchains = NULL,   with_chains = FALSE,   ... )"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_factor.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Factor random variables of arbitrary dimension — rvar_factor","text":"x (multiple options) object convert rvar: vector draws distribution. array first dimension represents draws distribution. resulting rvar dimension dim(x)[-1]; , everything except first dimension used shape variable, first dimension used index draws distribution (see Examples). Optionally, with_chains == TRUE, first dimension indexes iteration second dimension indexes chain (see with_chains). rvar. dim (integer vector) One integers giving maximal indices dimension override dimensions rvar created (see dim()). NULL (default), dim determined input. NOTE: argument controls dimensions rvar, underlying array, change number draws using argument. dimnames (list) Character vectors giving names dimension override names dimensions rvar created (see dimnames()). NULL (default), determined input. NOTE: argument controls names dimensions rvar, underlying array. nchains (positive integer) number chains. NULL (default), 1 used unless x already rvar, case number chains used. with_chains (logical) x include dimension chains? FALSE (default), chains included, first dimension input array index draws, nchains argument can used determine number chains. TRUE, nchains argument ignored second dimension x used index chains. Internally, array converted format without chain index. Ignored x already rvar. ... Arguments passed base::factor levels optional vector unique values (character strings)     x might taken.  default unique set     values taken .character(x), sorted     increasing order x.  Note set can     specified smaller sort(unique(x)). labels either optional character vector     labels levels (order levels     removing exclude), character string     length 1.  Duplicated values labels can used map     different values x factor level. exclude vector values excluded forming     set levels.  may factor level set x     character. ordered logical flag determine levels regarded     ordered (order given). nmax upper bound number levels; see ‘Details’.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_factor.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Factor random variables of arbitrary dimension — rvar_factor","text":"object class \"rvar_factor\" representing factor-like random variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_factor.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Factor random variables of arbitrary dimension — rvar_factor","text":"subtype rvar() represents (possibly multidimensional) sample factor ordered factor. otherwise similar basic rvar(): backed multidimensional array draws first dimension. primary difference backing array class \"factor\" (rvar_factor()) c(\"ordered\", \"factor\") (rvar_ordered()). pass factor ordered factor rvar() automatically return object classes \"rvar_factor\" c(\"rvar_ordered\", \"rvar_factor\"). See rvar() details internals random variable datatype.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_factor.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Factor random variables of arbitrary dimension — rvar_factor","text":"","code":"set.seed(1234)  # To create a \"scalar\" `rvar_factor`, pass a one-dimensional array or a vector # whose length (here `4000`) is the desired number of draws: x <- rvar(sample(c(\"a\",\"a\",\"a\",\"b\",\"c\"), 4000, replace = TRUE)) x #> rvar_factor<4000>[1] mode <entropy>: #> [1] a <0.87>  #> 3 levels: a b c  # Create random vectors by adding an additional dimension: x_array <- array(c(     sample(c(\"a\",\"a\",\"a\",\"b\",\"c\"), 4000, replace = TRUE),     sample(c(\"a\",\"a\",\"b\",\"c\",\"c\"), 4000, replace = TRUE),     sample(c(\"b\",\"b\",\"b\",\"b\",\"c\"), 4000, replace = TRUE),     sample(c(\"d\",\"d\",\"b\",\"b\",\"c\"), 4000, replace = TRUE)   ), dim = c(4000, 4)) rvar_factor(x_array) #> rvar_factor<4000>[4] mode <entropy>: #> [1] a <0.68>  c <0.76>  b <0.36>  b <0.76>  #> 4 levels: a b c d  # You can also create ordered factors rvar_ordered(x_array) #> rvar_ordered<4000>[4] mode <dissent>: #> [1] a <0.41>  c <0.47>  b <0.17>  b <0.47>  #> 4 levels: a < b < c < d  # arguments of factor() and ordered() are passed down by the constructor # e.g. we can reorder levels of an ordered factor: rvar_ordered(x_array, levels = c(\"d\",\"c\",\"b\",\"a\")) #> rvar_ordered<4000>[4] mode <dissent>: #> [1] a <0.41>  c <0.47>  b <0.17>  b <0.47>  #> 4 levels: d < c < b < a  # Unlike base factors, rvar factors can be matrices or arrays: rvar_factor(x_array, dim = c(2, 2)) #> rvar_factor<4000>[2,2] mode <entropy>: #>      [,1]      [,2]      #> [1,] a <0.68>  b <0.36>  #> [2,] c <0.76>  b <0.76>  #> 4 levels: a b c d  # If the input to rvar_factor() is an array with a `\"levels\"` attribute, it # will use those as the levels of the factor y_array <- t(array(rbinom(3000, 1, c(0.1, 0.5, 0.9)) + 1, dim = c(3, 1000))) rvar(y_array) #> rvar<1000>[3] mean ± sd: #> [1] 1.1 ± 0.30  1.5 ± 0.50  1.9 ± 0.29  # with levels attr(y_array, \"levels\") = c(\"a\", \"b\") rvar_factor(y_array) #> rvar_factor<1000>[3] mode <entropy>: #> [1] a <0.46>  a <1.00>  b <0.45>  #> 2 levels: a b"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_ifelse.html","id":null,"dir":"Reference","previous_headings":"","what":"Random variable ifelse — rvar_ifelse","title":"Random variable ifelse — rvar_ifelse","text":"version ifelse() returns rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_ifelse.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Random variable ifelse — rvar_ifelse","text":"","code":"rvar_ifelse(test, yes, no)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_ifelse.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Random variable ifelse — rvar_ifelse","text":"test (logical rvar, castable one) logical test determining whether value yes assigned corresponding position result. yes (rvar, castable one) corresponding values assigned entries test TRUE. (rvar, castable one) corresponding values assigned entries test FALSE.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_ifelse.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Random variable ifelse — rvar_ifelse","text":"rvar common type yes (determined vctrs::vec_cast_common()) shape determined broadcasting test, yes, common shape (see section broadcasting rules vignette(\"rvar\")). every element draws_of(test), corresponding element draws_of(yes) draws_of() placed result, depending whether element test TRUE FALSE.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_ifelse.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Random variable ifelse — rvar_ifelse","text":"","code":"x <- rvar(1:4) y <- rvar(5:8)  i <- rvar(c(TRUE,FALSE,TRUE,FALSE)) z <- rvar_ifelse(i, x, y) z #> rvar<4>[1] mean ± sd: #> [1] 4.5 ± 3.1  draws_of(z) #>   [,1] #> 1    1 #> 2    6 #> 3    3 #> 4    8"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_is_finite.html","id":null,"dir":"Reference","previous_headings":"","what":"Special value predicates for random variables — rvar_is_finite","title":"Special value predicates for random variables — rvar_is_finite","text":"Compute special value predicates (checking finite / infinite values, NaN, NA) draws within random variable, returning random variable.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_is_finite.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Special value predicates for random variables — rvar_is_finite","text":"","code":"rvar_is_finite(x)  rvar_is_infinite(x)  rvar_is_nan(x)  rvar_is_na(x)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_is_finite.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Special value predicates for random variables — rvar_is_finite","text":"x (rvar) rvar.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_is_finite.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Special value predicates for random variables — rvar_is_finite","text":"logical rvar length input.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_is_finite.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Special value predicates for random variables — rvar_is_finite","text":"functions return new rvar result applying .finite(), .infinite(), .nan(), .na() every draw input random variable.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_is_finite.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Special value predicates for random variables — rvar_is_finite","text":"","code":"x <- rvar(c(1, Inf, -Inf, NaN, NA)) x #> rvar<5>[1] mean ± sd: #> [1] NA ± NA   rvar_is_finite(x) #> rvar<5>[1] mean ± sd: #> [1] 0.2 ± 0.45  rvar_is_infinite(x) #> rvar<5>[1] mean ± sd: #> [1] 0.4 ± 0.55  rvar_is_nan(x) #> rvar<5>[1] mean ± sd: #> [1] 0.2 ± 0.45  rvar_is_na(x) #> rvar<5>[1] mean ± sd: #> [1] 0.4 ± 0.55"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_rng.html","id":null,"dir":"Reference","previous_headings":"","what":"Create random variables from existing random number generators — rvar_rng","title":"Create random variables from existing random number generators — rvar_rng","text":"Specialized alternative rdo() rfun() creating rvars existing random-number generator functions (rnorm(), rbinom(), etc).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_rng.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create random variables from existing random number generators — rvar_rng","text":"","code":"rvar_rng(.f, n, ..., ndraws = NULL)"},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_rng.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create random variables from existing random number generators — rvar_rng","text":".f (function) function (string naming function) representing random-number generating function follows pattern base random number generators (like rnorm(), rbinom(), etc). must: first argument, n, giving number draws take distribution vectorized parameter arguments Return single vector length n n (positive integer) length output rvar vector (number draws). ... Arguments passed .f. arguments may include rvars, long vectors (multidimensional rvars allowed). ndraws (positive integer) number draws used construct returned random variable rvars supplied .... NULL, getOption(\"posterior.rvar_ndraws\") used (default 4000). ... contains rvars, number draws provided rvars used instead value argument.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_rng.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create random variables from existing random number generators — rvar_rng","text":"single-dimensional rvar length n.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_rng.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Create random variables from existing random number generators — rvar_rng","text":"function unwraps arrays underlying input rvars ... passes .f, relying vectorization .f evaluate across draws input rvars. arguments .f must vectorized. asks n times number draws input rvars (ndraws none given) draws random number generator .f, reshapes output .f rvar length n. rvar_rng() fast alternative rdo() rfun(), must ensure .f satisfies preconditions described result correct. base random number generators satisfy conditions. advisable test rdo() rfun() (correct, slower) uncertain.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/rvar_rng.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create random variables from existing random number generators — rvar_rng","text":"","code":"mu <- rvar_rng(rnorm, 10, mean = 1:10, sd = 1) sigma <- rvar_rng(rgamma, 1, shape = 1, rate = 1) x <- rvar_rng(rnorm, 10, mu, sigma) x #> rvar<4000>[10] mean ± sd: #>  [1]  0.94 ± 1.8   2.02 ± 1.8   2.98 ± 1.7   4.02 ± 1.7   5.01 ± 1.7  #>  [6]  6.00 ± 1.8   7.04 ± 1.7   7.98 ± 1.7   9.00 ± 1.8   9.98 ± 1.7"},{"path":"https://mc-stan.org/posterior/dev/reference/split_chains.html","id":null,"dir":"Reference","previous_headings":"","what":"Split Chains — split_chains","title":"Split Chains — split_chains","text":"Split chains halving number iterations per chain doubling number chains.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/split_chains.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split Chains — split_chains","text":"","code":"split_chains(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/split_chains.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split Chains — split_chains","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/split_chains.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split Chains — split_chains","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/split_chains.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Split Chains — split_chains","text":"","code":"x <- example_draws() niterations(x) #> [1] 100 nchains(x) #> [1] 4  x <- split_chains(x) niterations(x) #> [1] 50 nchains(x) #> [1] 8"},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_array.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract parts of a draws_array object — [.draws_array","title":"Extract parts of a draws_array object — [.draws_array","text":"Extract parts draws_array object. strictly defined arrays 3 dimensions (iteration x chain x variable) dropping dimensions breaks expected structure object. Accordingly, dropping dimensions done default even extracted slices length 1. drop manually set TRUE dimensions actually dropped, lead dropping \"draws_array\" class well.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_array.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract parts of a draws_array object — [.draws_array","text":"","code":"# S3 method for class 'draws_array' x[i, j, ..., drop = FALSE]"},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_array.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract parts of a draws_array object — [.draws_array","text":"x, , j, ..., drop default extraction method drop set FALSE default.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_array.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract parts of a draws_array object — [.draws_array","text":"object class \"draws_array\" unless dimensions dropped extraction.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_matrix.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract parts of a draws_matrix object — [.draws_matrix","title":"Extract parts of a draws_matrix object — [.draws_matrix","text":"Extract parts draws_matrix object. strictly defined matrices (draws x variable) dropping dimensions breaks expected structure object. Accordingly, dropping dimensions done default even extracted slices length 1. drop manually set TRUE dimensions actually dropped, lead dropping \"draws_matrix\" class well.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_matrix.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract parts of a draws_matrix object — [.draws_matrix","text":"","code":"# S3 method for class 'draws_matrix' x[i, j, ..., drop = FALSE]"},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_matrix.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract parts of a draws_matrix object — [.draws_matrix","text":"x, , j, ..., drop default extraction method drop set FALSE default.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/sub-.draws_matrix.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract parts of a draws_matrix object — [.draws_matrix","text":"object class \"draws_matrix\" unless dimensions dropped extraction.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/subset_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Subset draws objects — subset_draws","title":"Subset draws objects — subset_draws","text":"Subset draws objects variables, iterations, chains, draws indices.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/subset_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Subset draws objects — subset_draws","text":"","code":"subset_draws(x, ...)  # S3 method for class 'draws_matrix' subset_draws(   x,   variable = NULL,   iteration = NULL,   chain = NULL,   draw = NULL,   regex = FALSE,   unique = TRUE,   exclude = FALSE,   scalar = FALSE,   ... )  # S3 method for class 'draws_array' subset_draws(   x,   variable = NULL,   iteration = NULL,   chain = NULL,   draw = NULL,   regex = FALSE,   unique = TRUE,   exclude = FALSE,   scalar = FALSE,   ... )  # S3 method for class 'draws_df' subset_draws(   x,   variable = NULL,   iteration = NULL,   chain = NULL,   draw = NULL,   regex = FALSE,   unique = TRUE,   exclude = FALSE,   scalar = FALSE,   ... )  # S3 method for class 'draws_list' subset_draws(   x,   variable = NULL,   iteration = NULL,   chain = NULL,   draw = NULL,   regex = FALSE,   unique = TRUE,   exclude = FALSE,   scalar = FALSE,   ... )  # S3 method for class 'draws_rvars' subset_draws(   x,   variable = NULL,   iteration = NULL,   chain = NULL,   draw = NULL,   regex = FALSE,   unique = TRUE,   exclude = FALSE,   scalar = FALSE,   ... )  # S3 method for class 'rvar' subset_draws(x, variable = NULL, ...)  # S3 method for class 'draws' subset(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/subset_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Subset draws objects — subset_draws","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable). variable (character vector) variables select. elements non-scalar variables can selected . iteration (integer vector) iteration indices select. chain (integer vector) chain indices select. draw (integer vector) draw indices select. Subsetting draw indices lead automatic merging chains via merge_chains. regex (logical) variable treated (vector ) regular expressions? variable x matching least one regular expressions selected. Defaults FALSE. unique (logical) duplicated selection chains, iterations, draws allowed? TRUE (default) unique chains, iterations, draws selected regardless often appear respective selecting arguments. exclude (logical) selected subset excluded? FALSE (default) selected subset returned.  TRUE everything selected subset returned. scalar (logical) scalar variables selected? FALSE (default), variables matching names arbitrary indices selected (see examples).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/subset_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Subset draws objects — subset_draws","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/subset_draws.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Subset draws objects — subset_draws","text":"ensure multiple consecutive subsetting operations work correctly, subset() repairs draws object subsetting.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/subset_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Subset draws objects — subset_draws","text":"","code":"x <- example_draws() subset_draws(x, variable = c(\"mu\", \"tau\")) #> # A draws_array: 100 iterations, 4 chains, and 2 variables #> , , variable = mu #>  #>          chain #> iteration   1    2     3   4 #>         1 2.0  3.0  1.79 6.5 #>         2 1.5  8.2  5.99 9.1 #>         3 5.8 -1.2  2.56 0.2 #>         4 6.8 10.9  2.79 3.7 #>         5 1.8  9.8 -0.03 5.5 #>  #> , , variable = tau #>  #>          chain #> iteration   1    2    3   4 #>         1 2.8 2.80  8.7 3.8 #>         2 7.0 2.76  2.9 6.8 #>         3 9.7 0.57  8.4 5.3 #>         4 4.8 2.45  4.4 1.6 #>         5 2.8 2.80 11.0 3.0 #>  #> # ... with 95 more iterations subset_draws(x, chain = 2) #> # A draws_array: 100 iterations, 1 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration    1 #>         1  3.0 #>         2  8.2 #>         3 -1.2 #>         4 10.9 #>         5  9.8 #>  #> , , variable = tau #>  #>          chain #> iteration    1 #>         1 2.80 #>         2 2.76 #>         3 0.57 #>         4 2.45 #>         5 2.80 #>  #> , , variable = theta[1] #>  #>          chain #> iteration     1 #>         1  6.26 #>         2  9.32 #>         3 -0.97 #>         4 12.45 #>         5  9.75 #>  #> , , variable = theta[2] #>  #>          chain #> iteration    1 #>         1  1.0 #>         2  9.4 #>         3 -1.2 #>         4 12.5 #>         5 11.9 #>  #> # ... with 95 more iterations, and 6 more variables subset_draws(x, iteration = 5:10, chain = 3:4) #> # A draws_array: 6 iterations, 2 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration     1     2 #>         1 -0.03  5.48 #>         2  1.06  2.38 #>         3  3.67 11.82 #>         4  3.51  4.90 #>         5  8.85  0.88 #>  #> , , variable = tau #>  #>          chain #> iteration     1    2 #>         1 11.03  3.0 #>         2  2.70  2.3 #>         3  1.68  4.3 #>         4  0.52  3.1 #>         5  5.96 15.8 #>  #> , , variable = theta[1] #>  #>          chain #> iteration    1     2 #>         1  8.2 -0.91 #>         2  5.0  0.59 #>         3  5.2 18.87 #>         4  3.7  1.50 #>         5 13.1  9.07 #>  #> , , variable = theta[2] #>  #>          chain #> iteration   1    2 #>         1 3.2  3.2 #>         2 4.3  1.1 #>         3 4.1 13.0 #>         4 4.1  6.1 #>         5 4.7 11.6 #>  #> # ... with 1 more iterations, and 6 more variables  # extract the first chain twice subset_draws(x, chain = c(1, 1), unique = FALSE) #> # A draws_array: 100 iterations, 2 chains, and 10 variables #> , , variable = mu #>  #>          chain #> iteration   1   2 #>         1 2.0 2.0 #>         2 1.5 1.5 #>         3 5.8 5.8 #>         4 6.8 6.8 #>         5 1.8 1.8 #>  #> , , variable = tau #>  #>          chain #> iteration   1   2 #>         1 2.8 2.8 #>         2 7.0 7.0 #>         3 9.7 9.7 #>         4 4.8 4.8 #>         5 2.8 2.8 #>  #> , , variable = theta[1] #>  #>          chain #> iteration     1     2 #>         1  3.96  3.96 #>         2  0.12  0.12 #>         3 21.25 21.25 #>         4 14.70 14.70 #>         5  5.96  5.96 #>  #> , , variable = theta[2] #>  #>          chain #> iteration      1      2 #>         1  0.271  0.271 #>         2 -0.069 -0.069 #>         3 14.931 14.931 #>         4  8.586  8.586 #>         5  1.156  1.156 #>  #> # ... with 95 more iterations, and 6 more variables  # extract all elements of 'theta' subset_draws(x, variable = \"theta\") #> # A draws_array: 100 iterations, 4 chains, and 8 variables #> , , variable = theta[1] #>  #>          chain #> iteration     1     2    3     4 #>         1  3.96  6.26 13.3  5.78 #>         2  0.12  9.32  6.3  2.09 #>         3 21.25 -0.97 10.6 15.72 #>         4 14.70 12.45  5.4  2.69 #>         5  5.96  9.75  8.2 -0.91 #>  #> , , variable = theta[2] #>  #>          chain #> iteration      1    2   3   4 #>         1  0.271  1.0 2.1 5.0 #>         2 -0.069  9.4 7.3 8.2 #>         3 14.931 -1.2 5.7 6.0 #>         4  8.586 12.5 2.8 2.7 #>         5  1.156 11.9 3.2 3.2 #>  #> , , variable = theta[3] #>  #>          chain #> iteration     1     2     3   4 #>         1 -0.74  0.22   1.4 5.7 #>         2  0.95  9.68   4.1 3.5 #>         3  1.83 -1.37  -8.3 3.1 #>         4  2.67 11.15 -10.8 3.2 #>         5  3.11 12.72 -27.8 2.6 #>  #> , , variable = theta[4] #>  #>          chain #> iteration   1     2    3    4 #>         1 2.1 -0.73  7.8  4.8 #>         2 7.3  8.11  4.7  7.8 #>         3 1.4 -0.79  6.8  6.1 #>         4 4.4 10.48  6.8  7.9 #>         5 2.0  9.70 12.3 11.3 #>  #> # ... with 95 more iterations, and 4 more variables  # trying to extract only a scalar 'theta' will fail # subset_draws(x, variable = \"theta\", scalar = TRUE)"},{"path":"https://mc-stan.org/posterior/dev/reference/thin_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Thin draws objects — thin_draws","title":"Thin draws objects — thin_draws","text":"Thin draws objects reduce size autocorrelation chains.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/thin_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Thin draws objects — thin_draws","text":"","code":"thin_draws(x, thin = NULL, ...)  # S3 method for class 'draws' thin_draws(x, thin = NULL, ...)  # S3 method for class 'rvar' thin_draws(x, thin = NULL, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/thin_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Thin draws objects — thin_draws","text":"x (draws) draws object another R object method defined. thin (positive numeric) period selecting draws. Must 1 number iterations. value integer, draws selected number draws returned equal round(ndraws(x) / thin). Intervals selected draws either ceiling(thin) floor(thin), average interval close thin value. NULL, automatically calculated based bulk tail effective sample size suggested Säilynoja et al. (2022). ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/thin_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Thin draws objects — thin_draws","text":"draws object class x.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/thin_draws.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Thin draws objects — thin_draws","text":"Teemu Säilynoja, Paul-Christian Bürkner, Aki Vehtari (2022). Graphical test discrete uniformity applications goodness--fit evaluation multiple sample comparison. Statistics Computing. 32, 32. doi:10.1007/s11222-022-10090-6","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/thin_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Thin draws objects — thin_draws","text":"","code":"x <- example_draws() niterations(x) #> [1] 100  x <- thin_draws(x, thin = 5) niterations(x) #> [1] 20"},{"path":"https://mc-stan.org/posterior/dev/reference/u_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"Rank uniformization — u_scale","title":"Rank uniformization — u_scale","text":"Compute rank uniformization numeric array. First replace value rank. Average rank ties used conserve number unique values discrete quantities. Second, uniformize ranks using formula (r - c) / (S - 2 * c + 1), r rank, S number values, c fractional offset defaults c = 3/8 recommend Blom (1958).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/u_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rank uniformization — u_scale","text":"","code":"u_scale(x, c = 3/8)"},{"path":"https://mc-stan.org/posterior/dev/reference/u_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rank uniformization — u_scale","text":"x (numeric) scalar, vector, matrix, array values. c (numeric) Fractional offset used back-transformation ranks. Defaults 3/8.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/u_scale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rank uniformization — u_scale","text":"numeric array uniformized values size dimension input.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/variables-set.html","id":null,"dir":"Reference","previous_headings":"","what":"Set variable names in draws objects — variables<-","title":"Set variable names in draws objects — variables<-","text":"Set variable names variables draws object. set_variables() form useful using pipe operators.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/variables-set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Set variable names in draws objects — variables<-","text":"","code":"variables(x, ...) <- value  # S3 method for class 'draws_matrix' variables(x, with_indices = TRUE, ...) <- value  # S3 method for class 'draws_array' variables(x, with_indices = TRUE, ...) <- value  # S3 method for class 'draws_df' variables(x, with_indices = TRUE, ...) <- value  # S3 method for class 'draws_list' variables(x, with_indices = TRUE, ...) <- value  # S3 method for class 'draws_rvars' variables(x, with_indices = FALSE, ...) <- value  set_variables(x, variables, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/variables-set.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Set variable names in draws objects — variables<-","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable). value, variables (character vector) new variable names. with_indices (logical) indices included variable names? example, object includes variables named \"x[1]\" \"x[2]\", TRUE, c(\"x[1]\", \"x[2]\") returned; FALSE, \"x\" returned. Defaults TRUE formats except draws_rvars().","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/variables-set.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Set variable names in draws objects — variables<-","text":"Returns draws object format x, variables named specified.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/variables-set.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Set variable names in draws objects — variables<-","text":"variables(x) <- value allows modify vector variable names, similar names(x) <- value works vectors lists. renaming specific variables, set_variables(x, value) works equivalently, intuitive using pipe operator. renaming specific variables, rename_variables() may offer convenient approach.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/variables-set.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Set variable names in draws objects — variables<-","text":"","code":"x <- example_draws()  variables(x) #>  [1] \"mu\"       \"tau\"      \"theta[1]\" \"theta[2]\" \"theta[3]\" \"theta[4]\" #>  [7] \"theta[5]\" \"theta[6]\" \"theta[7]\" \"theta[8]\" nvariables(x) #> [1] 10 variables(x) <- letters[1:nvariables(x)]  # or equivalently... x <- set_variables(x, letters[1:nvariables(x)])"},{"path":"https://mc-stan.org/posterior/dev/reference/variables.html","id":null,"dir":"Reference","previous_headings":"","what":"Get variable names from draws objects — variables","title":"Get variable names from draws objects — variables","text":"Get variable names draws objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/variables.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get variable names from draws objects — variables","text":"","code":"variables(x, ...)  # S3 method for class 'draws_matrix' variables(x, reserved = FALSE, with_indices = TRUE, ...)  # S3 method for class 'draws_array' variables(x, reserved = FALSE, with_indices = TRUE, ...)  # S3 method for class 'draws_df' variables(x, reserved = FALSE, with_indices = TRUE, ...)  # S3 method for class 'draws_list' variables(x, reserved = FALSE, with_indices = TRUE, ...)  # S3 method for class 'draws_rvars' variables(x, reserved = FALSE, with_indices = FALSE, ...)  nvariables(x, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/variables.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get variable names from draws objects — variables","text":"x (draws) draws object another R object method defined. ... Arguments passed individual methods (applicable). reserved (logical) reserved variables included output? Defaults FALSE. See reserved_variables overview currently reserved variable names. with_indices (logical) indices included variable names? example, object includes variables named \"x[1]\" \"x[2]\", TRUE, c(\"x[1]\", \"x[2]\") returned; FALSE, \"x\" returned. Defaults TRUE formats except draws_rvars().","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/variables.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get variable names from draws objects — variables","text":"variables(), character vector. nvariables(), scalar integer.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/variables.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Get variable names from draws objects — variables","text":"variables() returns vector variable names, nvariables() returns number variables.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/variables.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get variable names from draws objects — variables","text":"","code":"x <- example_draws()  variables(x) #>  [1] \"mu\"       \"tau\"      \"theta[1]\" \"theta[2]\" \"theta[3]\" \"theta[4]\" #>  [7] \"theta[5]\" \"theta[6]\" \"theta[7]\" \"theta[8]\" nvariables(x) #> [1] 10 variables(x) <- letters[1:nvariables(x)]"},{"path":"https://mc-stan.org/posterior/dev/reference/weight_draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Weight draws objects — weight_draws","title":"Weight draws objects — weight_draws","text":"Add weights draws objects, one weight per draw, use subsequent weighting operations. reasons numerical accuracy, weights stored form unnormalized log-weights (variable called .log_weight). See weights.draws() details extract weights draws objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/weight_draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Weight draws objects — weight_draws","text":"","code":"weight_draws(x, weights, ...)  # S3 method for class 'draws_matrix' weight_draws(x, weights, log = FALSE, pareto_smooth = FALSE, ...)  # S3 method for class 'draws_array' weight_draws(x, weights, log = FALSE, pareto_smooth = FALSE, ...)  # S3 method for class 'draws_df' weight_draws(x, weights, log = FALSE, pareto_smooth = FALSE, ...)  # S3 method for class 'draws_list' weight_draws(x, weights, log = FALSE, pareto_smooth = FALSE, ...)  # S3 method for class 'draws_rvars' weight_draws(x, weights, log = FALSE, pareto_smooth = FALSE, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/weight_draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Weight draws objects — weight_draws","text":"x (draws) draws object another R object method defined. weights (numeric vector) vector weights length ndraws(x). Weights internally stored log scale (variable called .log_weight) normalized, normalized (non-log) weights can returned via weights.draws() method later. ... Arguments passed individual methods (applicable). log (logical) weights passed already log scale? default FALSE, , expecting weights standard (non-log) scale. pareto_smooth (logical) weights Pareto-smoothed? default FALSE.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/weight_draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Weight draws objects — weight_draws","text":"draws object class x.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/weight_draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Weight draws objects — weight_draws","text":"","code":"x <- example_draws()  # sample some random weights for illustration wts <- rexp(ndraws(x)) head(wts) #> [1] 0.3231513 2.0625308 0.5216606 0.2221030 0.2976411 1.2531792  # add weights x <- weight_draws(x, weights = wts)  # extract weights head(weights(x)) # defaults to normalized weights #> [1] 0.0008760764 0.0055916049 0.0014142430 0.0006021302 0.0008069172 #> [6] 0.0033974200 head(weights(x, normalize=FALSE)) # recover original weights #> [1] 0.3231513 2.0625308 0.5216606 0.2221030 0.2976411 1.2531792 head(weights(x, log=TRUE)) # get normalized log-weights #> [1] -7.040057 -5.186489 -6.561161 -7.415037 -7.122290 -5.684739  # add weights which are already on the log scale log_wts <- log(wts) head(log_wts) #> [1] -1.1296345  0.7239338 -0.6507382 -1.5046141 -1.2118668  0.2256837  x <- weight_draws(x, weights = log_wts, log = TRUE) # extract weights head(weights(x)) #> [1] 0.0008760764 0.0055916049 0.0014142430 0.0006021302 0.0008069172 #> [6] 0.0033974200 head(weights(x, log=TRUE, normalize = FALSE)) # recover original log_wts #> [1] -1.1296345  0.7239338 -0.6507382 -1.5046141 -1.2118668  0.2256837  # add weights on log scale and Pareto smooth them x <- weight_draws(x, weights = log_wts, log = TRUE, pareto_smooth = TRUE) #> Pareto k-hat = 0.07."},{"path":"https://mc-stan.org/posterior/dev/reference/weights.draws.html","id":null,"dir":"Reference","previous_headings":"","what":"Extract Weights from Draws Objects — weights.draws","title":"Extract Weights from Draws Objects — weights.draws","text":"Extract weights draws objects, one weight per draw. See weight_draws details add weights draws objects.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/weights.draws.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Extract Weights from Draws Objects — weights.draws","text":"","code":"# S3 method for class 'draws' weights(object, log = FALSE, normalize = TRUE, ...)"},{"path":"https://mc-stan.org/posterior/dev/reference/weights.draws.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Extract Weights from Draws Objects — weights.draws","text":"object (draws) draws object. log (logical) weights returned log scale? Defaults FALSE. normalize (logical) weights normalized sum 1 standard scale? Defaults TRUE. ... Arguments passed individual methods (applicable).","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/weights.draws.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Extract Weights from Draws Objects — weights.draws","text":"vector weights, one weight per draw.","code":""},{"path":[]},{"path":"https://mc-stan.org/posterior/dev/reference/weights.draws.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Extract Weights from Draws Objects — weights.draws","text":"","code":"x <- example_draws()  # sample some random weights for illustration wts <- rexp(ndraws(x)) head(wts) #> [1] 3.50844541 0.69823066 1.11631261 0.01682935 0.64546527 0.03515349  # add weights x <- weight_draws(x, weights = wts)  # extract weights head(weights(x)) # defaults to normalized weights #> [1] 9.333062e-03 1.857412e-03 2.969582e-03 4.476894e-05 1.717048e-03 #> [6] 9.351427e-05 head(weights(x, normalize=FALSE)) # recover original weights #> [1] 3.50844541 0.69823066 1.11631261 0.01682935 0.64546527 0.03515349 head(weights(x, log=TRUE)) # get normalized log-weights #> [1]  -4.674192  -6.288571  -5.819334 -10.013996  -6.367149  -9.277397  # add weights which are already on the log scale log_wts <- log(wts) head(log_wts) #> [1]  1.2551730 -0.3592058  0.1100309 -4.0846308 -0.4377839 -3.3480314  x <- weight_draws(x, weights = log_wts, log = TRUE) # extract weights head(weights(x)) #> [1] 9.333062e-03 1.857412e-03 2.969582e-03 4.476894e-05 1.717048e-03 #> [6] 9.351427e-05 head(weights(x, log=TRUE, normalize = FALSE)) # recover original log_wts #> [1]  1.2551730 -0.3592058  0.1100309 -4.0846308 -0.4377839 -3.3480314  # add weights on log scale and Pareto smooth them x <- weight_draws(x, weights = log_wts, log = TRUE, pareto_smooth = TRUE) #> Pareto k-hat = -0.01."},{"path":"https://mc-stan.org/posterior/dev/reference/z_scale.html","id":null,"dir":"Reference","previous_headings":"","what":"Rank normalization — z_scale","title":"Rank normalization — z_scale","text":"Compute rank normalization numeric array. First replace value rank. Average rank ties used conserve number unique values discrete quantities. Second, normalize ranks via inverse normal transformation.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/z_scale.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Rank normalization — z_scale","text":"","code":"z_scale(x, c = 3/8)"},{"path":"https://mc-stan.org/posterior/dev/reference/z_scale.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Rank normalization — z_scale","text":"x (numeric) scalar, vector, matrix, array values. c (numeric) Fractional offset used back-transformation ranks. Defaults 3/8.","code":""},{"path":"https://mc-stan.org/posterior/dev/reference/z_scale.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Rank normalization — z_scale","text":"numeric array rank normalized values size dimension input.","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-161","dir":"Changelog","previous_headings":"","what":"posterior 1.6.1","title":"posterior 1.6.1","text":"CRAN release: 2025-02-27","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-6-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.6.1","text":"Fix test issue led R CMD check failure R devel.","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-6-1","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.6.1","text":"Convert lists matrices draws_array objects. Improve documentation various places. Implement pit() draws rvar objects. LOO-PIT can computed using weights.","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-160","dir":"Changelog","previous_headings":"","what":"posterior 1.6.0","title":"posterior 1.6.0","text":"CRAN release: 2024-07-03","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-6-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.6.0","text":"Add exclude option subset_draws(), can used exclude matched selection. Add are_log_weights option pareto_smooth(), necessary correct Pareto smoothing computation input vector consists log weights. Add pareto_smooth option weight_draws(), Pareto smooth weights adding draws object. Add individual Pareto diagnostic functions (pareto_khat(), pareto_khat_threshold(), pareto_min_ss(), pareto_convergence_rate()) thin_draws() now automatically thins draws based ESS default, non-integer thinning possible. Matrix multiplication rvars can now done base matrix multiplication operator (%*%) instead %**% R >= 4.3. variables(), variables<-(), set_variables(), nvariables() now support with_indices argument, determines whether variable names retrieved/set (\"x[1]\", \"x[2]\" …) without (\"x\") indices (#208). Add extract_variable_array() function extract variables indices arrays iterations x chains x remaining dimensions (#340). types support factor variables (draws_df, draws_list, draws_rvars), extract_variable() extract_variable_matrix() can now return factors.","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-150","dir":"Changelog","previous_headings":"","what":"posterior 1.5.0","title":"posterior 1.5.0","text":"CRAN release: 2023-10-31","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-5-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.5.0","text":"Added support nested-Rhat via rhat_nested (#256) x[] x[] <- y scalar logical rvar slices (updates) x draws. Thus, y <- x[], y shape x sum() draws. x[[]] x[[]] <- y scalar numeric rvar slices (updates) x selecting ith element within corresponding draw. Thus, y <- x[[]], y rvar length 1. Added rvar_ifelse(), variant ifelse() accepts (returns) rvars (#282). Array broadcasting rvars made faster.","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-5-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.5.0","text":"Ensure rfun() works primitive functions (#290) dots arguments (#291). Provide implementations vctrs::vec_proxy_equal(), vctrs::vec_proxy_compare(), vctrs::vec_proxy_order(). Minor future-proofing cbind(<rvar>), rbind(<rvar>), chol(<rvar>) R 4.4 (#304). Ensure bind_draws(<draws_rvars>) regenerates draw ids binding along chains draws; also fixes bug split_chains(<draws_rvars>) (#300).","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-141","dir":"Changelog","previous_headings":"","what":"posterior 1.4.1","title":"posterior 1.4.1","text":"CRAN release: 2023-03-14","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-4-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.4.1","text":"Delay applying tibble::num() formatting output summarise_draws() print() called summary output can easily converted vanilla data frame (#275).","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-140","dir":"Changelog","previous_headings":"","what":"posterior 1.4.0","title":"posterior 1.4.0","text":"CRAN release: 2023-02-22","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-4-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.4.0","text":"Added new rvar_factor() rvar_ordered() subtypes rvar() work analogously factor() ordered() (#149). See new section rvar_factors vignette(\"rvar\"). draws_df(), draws_list(), draws_rvars() formats now support discrete variables stored factors / ordereds (rvar_factors / rvar_ordereds). converted formats support discrete variables named levels (draws_matrix() draws_array()), factor-like variables converted numerics. Made match() %% generic added support rvars functions. Added modal_category(), entropy(), dissent() functions summarizing discrete draws. Allow lists draws objects passed first argument bind_draws() (#253). Improving formatting summarise_draws output via tibble::num. print.rvar() format.rvar() now default smaller number significant digits cases, including printing data frames. controlled new \"posterior.digits\" option (see help(\"posterior-package\")). Implemented faster vec_proxy.rvar() vec_restore.rvar(), improving performance rvars tibbles (elsewhere vctrs used).","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-4-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.4.0","text":"Ensure as_draws_rvars() preserves dimensions length-1 arrays (#265). Fix minor compatibility issues rvar, vctrs, dplyr, ggplot2 (#267, #269).","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-131","dir":"Changelog","previous_headings":"","what":"posterior 1.3.1","title":"posterior 1.3.1","text":"CRAN release: 2022-09-06 Minor release fixes CRAN check failures.","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-130","dir":"Changelog","previous_headings":"","what":"posterior 1.3.0","title":"posterior 1.3.0","text":"CRAN release: 2022-08-15","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-3-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.3.0","text":"Implement for_each_draw(x, expr), executes expr draw x, exposing variables x arrays shape implied indices names (#224). Implement subset_draws(), thin_draws(), resample_draws() rvars (#225). Allow weights optional resample_draws() (#225). Add implementation drop() rvars. Speed subsetting draws_list objects. (#229, #250)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-3-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.3.0","text":"Support remaining modes diag() rvars (#246). Better parsing named indices as_draws_rvars(), including nested use [, like x[y[1],2] (#243). Allow 0-length rvars ndraws() > 1 (#242). Ensure 0-length rvars can cast draws formats (#242). Don’t treat length-1 rvars 1 dimension scalars casting formats (#248).","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-122","dir":"Changelog","previous_headings":"","what":"posterior 1.2.2","title":"posterior 1.2.2","text":"CRAN release: 2022-06-09","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-2-2","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.2.2","text":"Improve mcse_sd function make normality assumption. (#232)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-121","dir":"Changelog","previous_headings":"","what":"posterior 1.2.1","title":"posterior 1.2.1","text":"CRAN release: 2022-03-07","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-2-1","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.2.1","text":"Correctly transform lists data.frames draws_list objects. Correctly drop variables assigning NULL mutate_variables. (#222)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-120","dir":"Changelog","previous_headings":"","what":"posterior 1.2.0","title":"posterior 1.2.0","text":"CRAN release: 2022-01-05","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-2-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.2.0","text":"support casting /rvar distributional::dist_sample (#109)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-2-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.2.0","text":"fix hidden variables bind_draws.draws_df binding two objects thanks Jouni Helske (#204) fix output pillar::glimpse() used data frame containing rvars (#210) drop \"draws\" \"draws_df\" classes draws_df objects meta data columns removed dplyr operation (#202) fix output print.draws_df() objects unrepaired draws (#217) ensure variance() works properly summarise_draws() (#219)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-110","dir":"Changelog","previous_headings":"","what":"posterior 1.1.0","title":"posterior 1.1.0","text":"CRAN release: 2021-09-09","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"enhancements-1-1-0","dir":"Changelog","previous_headings":"","what":"Enhancements","title":"posterior 1.1.0","text":"use matrixStats speed convergence functions (#190) rvar summaries (#200)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"bug-fixes-1-1-0","dir":"Changelog","previous_headings":"","what":"Bug Fixes","title":"posterior 1.1.0","text":"ensure as_draws_rvars() works lists lists (#192) fix vector recycling issues rvar_rng (#195) ensure subset_draws() respects input variable order, thanks Karl Dunkle Werner Alexey Stukalov (#188)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"other-changes-1-1-0","dir":"Changelog","previous_headings":"","what":"Other Changes","title":"posterior 1.1.0","text":"longer check constant-per-chain input effective sample size diagnostics overly conservative especially ess_tail. (#198)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-101","dir":"Changelog","previous_headings":"","what":"posterior 1.0.1","title":"posterior 1.0.1","text":"CRAN release: 2021-07-14 ensure unit tests pass CRAN environments fix problem sometimes lead rvars unnecessarily slow (#179)","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-100","dir":"Changelog","previous_headings":"","what":"posterior 1.0.0","title":"posterior 1.0.0","text":"CRAN release: 2021-07-13 initial CRAN release","code":""},{"path":"https://mc-stan.org/posterior/dev/news/index.html","id":"posterior-010","dir":"Changelog","previous_headings":"","what":"posterior 0.1.0","title":"posterior 0.1.0","text":"beta release","code":""}]
